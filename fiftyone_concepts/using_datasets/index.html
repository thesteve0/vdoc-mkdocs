
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../dataset_creation/samples/">
      
      
        <link rel="next" href="../using_views/">
      
      
      <link rel="icon" href="../../_static/images/icons/voxel51-166px.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Using Datasets - Voxel51 Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../_static/css/voxel51-docs.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#using-fiftyone-datasets" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Voxel51 Documentation" class="md-header__button md-logo" aria-label="Voxel51 Documentation" data-md-component="logo">
      
  <img src="../../_static/images/voxel51-logo-white-300.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Voxel51 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Using Datasets
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/thesteve0/vdoc-mkdocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Voxel51 Documentation" class="md-nav__button md-logo" aria-label="Voxel51 Documentation" data-md-component="logo">
      
  <img src="../../_static/images/voxel51-logo-white-300.png" alt="logo">

    </a>
    Voxel51 Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/thesteve0/vdoc-mkdocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/basic/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Basics
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/virtualenv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtualenvs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/datasets_samples_fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datasets, Samples, and Fields
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/application_tour/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tour of the Application
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/viz_embeddings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualizing Embeddings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/subset_sample/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subsetting and Sample Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/zero_shot_label/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zero Shot Classification for Labeling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/edit_fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating and Editing Fields and Labels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/fine_tuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Fine-Tuning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/model_eval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/next_steps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's Next
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/focused_getting_starteds/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Focused Getting Starteds
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Focused Getting Starteds
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/focused_getting_starteds/medical_imaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Medical Imaging
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    FiftyOne Concepts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            FiftyOne Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../running_environments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Environments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../dataset_creation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Loading Data into FiftyOne
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Loading Data into FiftyOne
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataset_creation/datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datasets from Disk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataset_creation/samples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Sample Parsers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Using Datasets
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Using Datasets
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Datasets ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datasets ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataset-media-type" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset media type ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset persistence ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-version" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset version ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset tags ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-stats" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset stats ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-info" class="md-nav__link">
    <span class="md-ellipsis">
      Storing info ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-app-config" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset App config ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataset App config ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-media-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple media fields ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-color-scheme" class="md-nav__link">
    <span class="md-ellipsis">
      Custom color scheme ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sidebar-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Sidebar groups ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-frame-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Disable frame filtering ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resetting-a-datasets-app-config" class="md-nav__link">
    <span class="md-ellipsis">
      Resetting a dataset’s App config ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-class-lists" class="md-nav__link">
    <span class="md-ellipsis">
      Storing class lists ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-mask-targets" class="md-nav__link">
    <span class="md-ellipsis">
      Storing mask targets ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-keypoint-skeletons" class="md-nav__link">
    <span class="md-ellipsis">
      Storing keypoint skeletons ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-a-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Deleting a dataset ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#samples" class="md-nav__link">
    <span class="md-ellipsis">
      Samples ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Samples ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-samples-to-a-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Adding samples to a dataset ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-samples-in-a-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing samples in a dataset ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-samples-from-a-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Deleting samples from a dataset ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
    <span class="md-ellipsis">
      Fields ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fields ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-sample-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Default sample fields ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-fields-of-a-sample" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing fields of a sample ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#field-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Field schemas ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-fields-to-a-sample" class="md-nav__link">
    <span class="md-ellipsis">
      Adding fields to a sample ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-fields-to-a-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Adding fields to a dataset ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editing-sample-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Editing sample fields ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removing-fields-from-a-sample" class="md-nav__link">
    <span class="md-ellipsis">
      Removing fields from a sample ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-field-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Storing field metadata ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-only-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Read-only fields ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Summary fields ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#media-type" class="md-nav__link">
    <span class="md-ellipsis">
      Media type ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tags" class="md-nav__link">
    <span class="md-ellipsis">
      Tags ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dates-and-datetimes" class="md-nav__link">
    <span class="md-ellipsis">
      Dates and datetimes ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#labels" class="md-nav__link">
    <span class="md-ellipsis">
      Labels ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Labels ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regression" class="md-nav__link">
    <span class="md-ellipsis">
      Regression ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification" class="md-nav__link">
    <span class="md-ellipsis">
      Classification ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multilabel-classification" class="md-nav__link">
    <span class="md-ellipsis">
      Multilabel classification ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Object detection ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Instance segmentations ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#polylines-and-polygons" class="md-nav__link">
    <span class="md-ellipsis">
      Polylines and polygons ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cuboids" class="md-nav__link">
    <span class="md-ellipsis">
      Cuboids ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotated-bounding-boxes" class="md-nav__link">
    <span class="md-ellipsis">
      Rotated bounding boxes ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypoints" class="md-nav__link">
    <span class="md-ellipsis">
      Keypoints ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-segmentation" class="md-nav__link">
    <span class="md-ellipsis">
      Semantic segmentation ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#heatmaps" class="md-nav__link">
    <span class="md-ellipsis">
      Heatmaps ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temporal-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Temporal detection ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3d-detections" class="md-nav__link">
    <span class="md-ellipsis">
      3D detections ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3d-polylines" class="md-nav__link">
    <span class="md-ellipsis">
      3D polylines ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geolocation" class="md-nav__link">
    <span class="md-ellipsis">
      Geolocation ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#label-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Label tags ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#label-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Label attributes ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converting-label-types" class="md-nav__link">
    <span class="md-ellipsis">
      Converting label types ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic attributes ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-embedded-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Custom embedded documents ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom embedded documents ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-custom-documents-on-the-fly" class="md-nav__link">
    <span class="md-ellipsis">
      Defining custom documents on-the-fly ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-custom-documents-in-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Defining custom documents in modules ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Image datasets ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Image datasets ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-image-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Example image dataset ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#video-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Video datasets ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Video datasets ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-video-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Example video dataset ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3d-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      3D datasets ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3D datasets ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3d-meshes" class="md-nav__link">
    <span class="md-ellipsis">
      3D meshes ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3d-point-clouds" class="md-nav__link">
    <span class="md-ellipsis">
      3D point clouds ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3d-shapes" class="md-nav__link">
    <span class="md-ellipsis">
      3D shapes ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3d-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      3D annotations ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orthographic-projection-images" class="md-nav__link">
    <span class="md-ellipsis">
      Orthographic projection images ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3d-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Example 3D datasets ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#point-cloud-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Point cloud datasets ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datasetviews" class="md-nav__link">
    <span class="md-ellipsis">
      DatasetViews ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#merging-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Merging datasets ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloning-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Cloning datasets ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-updates" class="md-nav__link">
    <span class="md-ellipsis">
      Batch updates ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Batch updates ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloning-renaming-clearing-and-deleting-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Cloning, renaming, clearing, and deleting fields ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#efficient-batch-edits" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient batch edits ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-values" class="md-nav__link">
    <span class="md-ellipsis">
      Setting values ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-label-values" class="md-nav__link">
    <span class="md-ellipsis">
      Setting label values ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../using_views/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset Views
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../groups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grouped Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using the App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../annotation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotating Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluating Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../using_aggregations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Aggregations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../plots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interactive Plots
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../export_datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exporting Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../draw_labels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drawing Labels on Samples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring FiftyOne
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../brain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine Learning (FiftyOne Brain)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../how_do_i/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    How Do I
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            How Do I
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_do_i/cheat_sheets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cheat Sheets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_do_i/recipes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recipes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../data/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Data
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../data/dataset_zoo/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Zoo Datasets
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Zoo Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dataset_zoo/datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-In Zoo Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dataset_zoo/remote/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remotely-Sourced Zoo Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dataset_zoo/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zoo Data API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/hugging_face_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hugging Face Datasets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Models
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/model_zoo/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Zoo Models
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Zoo Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-in Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/remote/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/hugging_face_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hugging Face Datasets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../plugins/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/using_plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/developing_plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing Plugins
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integrations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Integrations
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../references/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    References
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            References
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../teams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FiftyOne Teams
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Releases
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../faq/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_14" id="__nav_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            FAQ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Datasets ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datasets ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dataset-media-type" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset media type ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset persistence ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-version" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset version ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset tags ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-stats" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset stats ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-info" class="md-nav__link">
    <span class="md-ellipsis">
      Storing info ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataset-app-config" class="md-nav__link">
    <span class="md-ellipsis">
      Dataset App config ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataset App config ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-media-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple media fields ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-color-scheme" class="md-nav__link">
    <span class="md-ellipsis">
      Custom color scheme ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sidebar-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Sidebar groups ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-frame-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      Disable frame filtering ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#resetting-a-datasets-app-config" class="md-nav__link">
    <span class="md-ellipsis">
      Resetting a dataset’s App config ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-class-lists" class="md-nav__link">
    <span class="md-ellipsis">
      Storing class lists ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-mask-targets" class="md-nav__link">
    <span class="md-ellipsis">
      Storing mask targets ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-keypoint-skeletons" class="md-nav__link">
    <span class="md-ellipsis">
      Storing keypoint skeletons ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-a-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Deleting a dataset ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#samples" class="md-nav__link">
    <span class="md-ellipsis">
      Samples ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Samples ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-samples-to-a-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Adding samples to a dataset ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-samples-in-a-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing samples in a dataset ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-samples-from-a-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Deleting samples from a dataset ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
    <span class="md-ellipsis">
      Fields ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Fields ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-sample-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Default sample fields ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-fields-of-a-sample" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing fields of a sample ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#field-schemas" class="md-nav__link">
    <span class="md-ellipsis">
      Field schemas ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-fields-to-a-sample" class="md-nav__link">
    <span class="md-ellipsis">
      Adding fields to a sample ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-fields-to-a-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Adding fields to a dataset ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#editing-sample-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Editing sample fields ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removing-fields-from-a-sample" class="md-nav__link">
    <span class="md-ellipsis">
      Removing fields from a sample ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storing-field-metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Storing field metadata ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-only-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Read-only fields ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Summary fields ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#media-type" class="md-nav__link">
    <span class="md-ellipsis">
      Media type ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tags" class="md-nav__link">
    <span class="md-ellipsis">
      Tags ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dates-and-datetimes" class="md-nav__link">
    <span class="md-ellipsis">
      Dates and datetimes ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#labels" class="md-nav__link">
    <span class="md-ellipsis">
      Labels ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Labels ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regression" class="md-nav__link">
    <span class="md-ellipsis">
      Regression ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification" class="md-nav__link">
    <span class="md-ellipsis">
      Classification ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multilabel-classification" class="md-nav__link">
    <span class="md-ellipsis">
      Multilabel classification ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Object detection ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instance-segmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Instance segmentations ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#polylines-and-polygons" class="md-nav__link">
    <span class="md-ellipsis">
      Polylines and polygons ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cuboids" class="md-nav__link">
    <span class="md-ellipsis">
      Cuboids ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotated-bounding-boxes" class="md-nav__link">
    <span class="md-ellipsis">
      Rotated bounding boxes ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keypoints" class="md-nav__link">
    <span class="md-ellipsis">
      Keypoints ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-segmentation" class="md-nav__link">
    <span class="md-ellipsis">
      Semantic segmentation ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#heatmaps" class="md-nav__link">
    <span class="md-ellipsis">
      Heatmaps ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temporal-detection" class="md-nav__link">
    <span class="md-ellipsis">
      Temporal detection ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3d-detections" class="md-nav__link">
    <span class="md-ellipsis">
      3D detections ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3d-polylines" class="md-nav__link">
    <span class="md-ellipsis">
      3D polylines ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#geolocation" class="md-nav__link">
    <span class="md-ellipsis">
      Geolocation ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#label-tags" class="md-nav__link">
    <span class="md-ellipsis">
      Label tags ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#label-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Label attributes ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converting-label-types" class="md-nav__link">
    <span class="md-ellipsis">
      Converting label types ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-attributes" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic attributes ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-embedded-documents" class="md-nav__link">
    <span class="md-ellipsis">
      Custom embedded documents ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Custom embedded documents ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-custom-documents-on-the-fly" class="md-nav__link">
    <span class="md-ellipsis">
      Defining custom documents on-the-fly ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defining-custom-documents-in-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Defining custom documents in modules ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Image datasets ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Image datasets ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-image-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Example image dataset ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#video-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Video datasets ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Video datasets ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-video-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Example video dataset ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3d-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      3D datasets ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3D datasets ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3d-meshes" class="md-nav__link">
    <span class="md-ellipsis">
      3D meshes ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3d-point-clouds" class="md-nav__link">
    <span class="md-ellipsis">
      3D point clouds ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3d-shapes" class="md-nav__link">
    <span class="md-ellipsis">
      3D shapes ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3d-annotations" class="md-nav__link">
    <span class="md-ellipsis">
      3D annotations ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#orthographic-projection-images" class="md-nav__link">
    <span class="md-ellipsis">
      Orthographic projection images ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3d-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Example 3D datasets ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#point-cloud-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Point cloud datasets ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datasetviews" class="md-nav__link">
    <span class="md-ellipsis">
      DatasetViews ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#merging-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Merging datasets ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloning-datasets" class="md-nav__link">
    <span class="md-ellipsis">
      Cloning datasets ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batch-updates" class="md-nav__link">
    <span class="md-ellipsis">
      Batch updates ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Batch updates ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloning-renaming-clearing-and-deleting-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Cloning, renaming, clearing, and deleting fields ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#efficient-batch-edits" class="md-nav__link">
    <span class="md-ellipsis">
      Efficient batch edits ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-values" class="md-nav__link">
    <span class="md-ellipsis">
      Setting values ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-label-values" class="md-nav__link">
    <span class="md-ellipsis">
      Setting label values ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/thesteve0/vdoc-mkdocs/blob/main/docs/fiftyone_concepts/using_datasets.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="using-fiftyone-datasets">Using FiftyOne Datasets <a href="#using-fiftyone-datasets" title="Permalink to this headline">¶</a><a class="headerlink" href="#using-fiftyone-datasets" title="Permanent link">&para;</a></h1>
<p>After a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> has been loaded or created, FiftyOne provides powerful
functionality to inspect, search, and modify it from a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>-wide down to
a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> level.</p>
<p>The following sections provide details of how to use various aspects of a
FiftyOne <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>.</p>
<h2 id="datasets">Datasets <a href="#datasets" title="Permalink to this headline">¶</a><a class="headerlink" href="#datasets" title="Permanent link">&para;</a></h2>
<p>Instantiating a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> object creates a new dataset.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-0-2">
</span><span id="__span-0-3"><span class="n">dataset1</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;my_first_dataset&quot;</span><span class="p">)</span>
</span><span id="__span-0-4"><span class="n">dataset2</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;my_second_dataset&quot;</span><span class="p">)</span>
</span><span id="__span-0-5"><span class="n">dataset3</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>  <span class="c1"># generates a default unique name</span>
</span></code></pre></div>
<p>Check to see what datasets exist at any time via <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.list_datasets" title="fiftyone.core.dataset.list_datasets"><code>list_datasets()</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><span class="nb">print</span><span class="p">(</span><span class="n">fo</span><span class="o">.</span><span class="n">list_datasets</span><span class="p">())</span>
</span><span id="__span-1-2"><span class="c1"># [&#39;my_first_dataset&#39;, &#39;my_second_dataset&#39;, &#39;2020.08.04.12.36.29&#39;]</span>
</span></code></pre></div>
<p>Load a dataset using
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.load_dataset" title="fiftyone.core.dataset.load_dataset"><code>load_dataset()</code></a>.
Dataset objects are singletons. Cool!</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><span class="n">_dataset2</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;my_second_dataset&quot;</span><span class="p">)</span>
</span><span id="__span-2-2"><span class="n">_dataset2</span> <span class="ow">is</span> <span class="n">dataset2</span>  <span class="c1"># True</span>
</span></code></pre></div>
<p>If you try to load a dataset via <code>Dataset(...)</code> or create a new dataset via
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.load_dataset" title="fiftyone.core.dataset.load_dataset"><code>load_dataset()</code></a> you’re going to
have a bad time:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><span class="n">_dataset2</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;my_second_dataset&quot;</span><span class="p">)</span>
</span><span id="__span-3-2"><span class="c1"># Dataset &#39;my_second_dataset&#39; already exists; use `fiftyone.load_dataset()`</span>
</span><span id="__span-3-3"><span class="c1"># to load an existing dataset</span>
</span><span id="__span-3-4">
</span><span id="__span-3-5"><span class="n">dataset4</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;my_fourth_dataset&quot;</span><span class="p">)</span>
</span><span id="__span-3-6"><span class="c1"># DoesNotExistError: Dataset &#39;my_fourth_dataset&#39; not found</span>
</span></code></pre></div>
<h3 id="dataset-media-type">Dataset media type <a href="#dataset-media-type" title="Permalink to this headline">¶</a><a class="headerlink" href="#dataset-media-type" title="Permanent link">&para;</a></h3>
<p>The media type of a dataset is determined by the
<a href="#using-media-type">media type</a> of the <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> objects that it contains.</p>
<p>The <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.media_type" title="fiftyone.core.dataset.Dataset.media_type"><code>media_type</code></a> property of a
dataset is set based on the first sample added to it:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-4-2">
</span><span id="__span-4-3"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-4-4">
</span><span id="__span-4-5"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">media_type</span><span class="p">)</span>
</span><span id="__span-4-6"><span class="c1"># None</span>
</span><span id="__span-4-7">
</span><span id="__span-4-8"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-4-9"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-4-10">
</span><span id="__span-4-11"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">media_type</span><span class="p">)</span>
</span><span id="__span-4-12"><span class="c1"># &quot;image&quot;</span>
</span></code></pre></div>
<p>Note that datasets are homogeneous; they must contain samples of the same media
type (except for <a href="../groups/#groups">grouped datasets</a>):</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/video.mp4&quot;</span><span class="p">)</span>
</span><span id="__span-5-2"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-5-3"><span class="c1"># MediaTypeError: Sample media type &#39;video&#39; does not match dataset media type &#39;image&#39;</span>
</span></code></pre></div>
<p>The following media types are available:</p>
<table>
<thead>
<tr>
<th>Media type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>image</code></td>
<td>Datasets that contain<br><a href="#image-datasets">images</a></td>
</tr>
<tr>
<td><code>video</code></td>
<td>Datasets that contain<br><a href="#video-datasets">videos</a></td>
</tr>
<tr>
<td><code>3d</code></td>
<td>Datasets that contain<br><a href="#d-datasets">3D scenes</a></td>
</tr>
<tr>
<td><code>point-cloud</code></td>
<td>Datasets that contain<br><a href="#point-cloud-datasets">point clouds</a></td>
</tr>
<tr>
<td><code>group</code></td>
<td>Datasets that contain<br><a href="../groups/#groups">grouped data slices</a></td>
</tr>
</tbody>
</table>
<h3 id="dataset-persistence">Dataset persistence <a href="#dataset-persistence" title="Permalink to this headline">¶</a><a class="headerlink" href="#dataset-persistence" title="Permanent link">&para;</a></h3>
<p>By default, datasets are non-persistent. Non-persistent datasets are deleted
from the database each time the database is shut down. Note that FiftyOne does
not store the raw data in datasets directly (only the labels), so your source
files on disk are untouched.</p>
<p>To make a dataset persistent, set its
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.persistent" title="fiftyone.core.dataset.Dataset.persistent"><code>persistent</code></a> property to
<code>True</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><span class="c1"># Make the dataset persistent</span>
</span><span id="__span-6-2"><span class="n">dataset1</span><span class="o">.</span><span class="n">persistent</span> <span class="o">=</span> <span class="kc">True</span>
</span></code></pre></div>
<p>Without closing your current Python shell, open a new shell and run:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-7-2">
</span><span id="__span-7-3"><span class="c1"># Verify that both persistent and non-persistent datasets still exist</span>
</span><span id="__span-7-4"><span class="nb">print</span><span class="p">(</span><span class="n">fo</span><span class="o">.</span><span class="n">list_datasets</span><span class="p">())</span>
</span><span id="__span-7-5"><span class="c1"># [&#39;my_first_dataset&#39;, &#39;my_second_dataset&#39;, &#39;2020.08.04.12.36.29&#39;]</span>
</span></code></pre></div>
<p>All three datasets are still available, since the database connection has not
been terminated.</p>
<p>However, if you exit all processes with <code>fiftyone</code> imported, then open a new
shell and run the command again:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-8-2">
</span><span id="__span-8-3"><span class="c1"># Verify that non-persistent datasets have been deleted</span>
</span><span id="__span-8-4"><span class="nb">print</span><span class="p">(</span><span class="n">fo</span><span class="o">.</span><span class="n">list_datasets</span><span class="p">())</span>
</span><span id="__span-8-5"><span class="c1"># [&#39;my_first_dataset&#39;]</span>
</span></code></pre></div>
<p>you’ll see that the <code>my_second_dataset</code> and <code>2020.08.04.12.36.29</code> datasets have
been deleted because they were not persistent.</p>
<h3 id="dataset-version">Dataset version <a href="#dataset-version" title="Permalink to this headline">¶</a><a class="headerlink" href="#dataset-version" title="Permanent link">&para;</a></h3>
<p>The version of the <code>fiftyone</code> package for which a dataset is formatted is
stored in the <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.version" title="fiftyone.core.dataset.Dataset.version"><code>version</code></a> property
of the dataset.</p>
<p>If you upgrade your <code>fiftyone</code> package and then load a dataset that was created
with an older version of the package, it will be automatically migrated to the
new package version (if necessary) the first time you load it.</p>
<h3 id="dataset-tags">Dataset tags <a href="#dataset-tags" title="Permalink to this headline">¶</a><a class="headerlink" href="#dataset-tags" title="Permanent link">&para;</a></h3>
<p>All <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> instances have a
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.tags" title="fiftyone.core.dataset.Dataset.tags"><code>tags</code></a> property that you can use to
store an arbitrary list of string tags.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-9-2">
</span><span id="__span-9-3"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-9-4">
</span><span id="__span-9-5"><span class="c1"># Add some tags</span>
</span><span id="__span-9-6"><span class="n">dataset</span><span class="o">.</span><span class="n">tags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;projectA&quot;</span><span class="p">]</span>
</span><span id="__span-9-7">
</span><span id="__span-9-8"><span class="c1"># Edit the tags</span>
</span><span id="__span-9-9"><span class="n">dataset</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</span><span id="__span-9-10"><span class="n">dataset</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;projectB&quot;</span><span class="p">)</span>
</span><span id="__span-9-11"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.save" title="fiftyone.core.dataset.Dataset.save"><code>dataset.save()</code></a> after updating
the dataset’s <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.tags" title="fiftyone.core.dataset.Dataset.tags"><code>tags</code></a> property
in-place to save the changes to the database.</p>
<h3 id="dataset-stats">Dataset stats <a href="#dataset-stats" title="Permalink to this headline">¶</a><a class="headerlink" href="#dataset-stats" title="Permanent link">&para;</a></h3>
<p>You can use the <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.stats" title="fiftyone.core.dataset.Dataset.stats"><code>stats()</code></a> method on
a dataset to obtain information about the size of the dataset on disk,
including its metadata in the database and optionally the size of the physical
media on disk:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-10-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-10-3">
</span><span id="__span-10-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-10-5">
</span><span id="__span-10-6"><span class="n">fo</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">stats</span><span class="p">(</span><span class="n">include_media</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><span class="p">{</span>
</span><span id="__span-11-2">    <span class="s1">&#39;samples_count&#39;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
</span><span id="__span-11-3">    <span class="s1">&#39;samples_bytes&#39;</span><span class="p">:</span> <span class="mi">1290762</span><span class="p">,</span>
</span><span id="__span-11-4">    <span class="s1">&#39;samples_size&#39;</span><span class="p">:</span> <span class="s1">&#39;1.2MB&#39;</span><span class="p">,</span>
</span><span id="__span-11-5">    <span class="s1">&#39;media_bytes&#39;</span><span class="p">:</span> <span class="mi">24412374</span><span class="p">,</span>
</span><span id="__span-11-6">    <span class="s1">&#39;media_size&#39;</span><span class="p">:</span> <span class="s1">&#39;23.3MB&#39;</span><span class="p">,</span>
</span><span id="__span-11-7">    <span class="s1">&#39;total_bytes&#39;</span><span class="p">:</span> <span class="mi">25703136</span><span class="p">,</span>
</span><span id="__span-11-8">    <span class="s1">&#39;total_size&#39;</span><span class="p">:</span> <span class="s1">&#39;24.5MB&#39;</span><span class="p">,</span>
</span><span id="__span-11-9"><span class="p">}</span>
</span></code></pre></div>
<p>You can also invoke
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.stats" title="fiftyone.core.collections.SampleCollection.stats"><code>stats()</code></a> on a
<a href="../using_views/#using-views">dataset view</a> to retrieve stats for a specific subset of
the dataset:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><span class="n">view</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[:</span><span class="mi">10</span><span class="p">]</span><span class="o">.</span><span class="n">select_fields</span><span class="p">(</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">)</span>
</span><span id="__span-12-2">
</span><span id="__span-12-3"><span class="n">fo</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">stats</span><span class="p">(</span><span class="n">include_media</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><span class="p">{</span>
</span><span id="__span-13-2">    <span class="s1">&#39;samples_count&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
</span><span id="__span-13-3">    <span class="s1">&#39;samples_bytes&#39;</span><span class="p">:</span> <span class="mi">10141</span><span class="p">,</span>
</span><span id="__span-13-4">    <span class="s1">&#39;samples_size&#39;</span><span class="p">:</span> <span class="s1">&#39;9.9KB&#39;</span><span class="p">,</span>
</span><span id="__span-13-5">    <span class="s1">&#39;media_bytes&#39;</span><span class="p">:</span> <span class="mi">1726296</span><span class="p">,</span>
</span><span id="__span-13-6">    <span class="s1">&#39;media_size&#39;</span><span class="p">:</span> <span class="s1">&#39;1.6MB&#39;</span><span class="p">,</span>
</span><span id="__span-13-7">    <span class="s1">&#39;total_bytes&#39;</span><span class="p">:</span> <span class="mi">1736437</span><span class="p">,</span>
</span><span id="__span-13-8">    <span class="s1">&#39;total_size&#39;</span><span class="p">:</span> <span class="s1">&#39;1.7MB&#39;</span><span class="p">,</span>
</span><span id="__span-13-9"><span class="p">}</span>
</span></code></pre></div>
<h3 id="storing-info">Storing info <a href="#storing-info" title="Permalink to this headline">¶</a><a class="headerlink" href="#storing-info" title="Permanent link">&para;</a></h3>
<p>All <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> instances have an
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.info" title="fiftyone.core.dataset.Dataset.info"><code>info</code></a> property, which contains a
dictionary that you can use to store any JSON-serializable information you wish
about your dataset.</p>
<p>Datasets can also store more specific types of ancillary information such as
<a href="#storing-classes">class lists</a> and
<a href="#storing-mask-targets">mask targets</a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-14-2">
</span><span id="__span-14-3"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-14-4">
</span><span id="__span-14-5"><span class="c1"># Store a class list in the dataset&#39;s info</span>
</span><span id="__span-14-6"><span class="n">dataset</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-14-7">    <span class="s2">&quot;dataset_source&quot;</span><span class="p">:</span> <span class="s2">&quot;https://...&quot;</span><span class="p">,</span>
</span><span id="__span-14-8">    <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
</span><span id="__span-14-9"><span class="p">}</span>
</span><span id="__span-14-10">
</span><span id="__span-14-11"><span class="c1"># Edit existing info</span>
</span><span id="__span-14-12"><span class="n">dataset</span><span class="o">.</span><span class="n">info</span><span class="p">[</span><span class="s2">&quot;owner&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;...&quot;</span>
</span><span id="__span-14-13"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.save" title="fiftyone.core.dataset.Dataset.save"><code>dataset.save()</code></a> after updating
the dataset’s <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.info" title="fiftyone.core.dataset.Dataset.info"><code>info</code></a> property
in-place to save the changes to the database.</p>
<h3 id="dataset-app-config">Dataset App config <a href="#dataset-app-config" title="Permalink to this headline">¶</a><a class="headerlink" href="#dataset-app-config" title="Permanent link">&para;</a></h3>
<p>All <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> instances have an
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.app_config" title="fiftyone.core.dataset.Dataset.app_config"><code>app_config</code></a> property that
contains a <a href="../../api/fiftyone.core.odm.dataset.html#fiftyone.core.odm.dataset.DatasetAppConfig" title="fiftyone.core.odm.dataset.DatasetAppConfig"><code>DatasetAppConfig</code></a> that you can use to store dataset-specific
settings that customize how the dataset is visualized in the
<a href="../app/#fiftyone-app">FiftyOne App</a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-15-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-15-3">
</span><span id="__span-15-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-15-5"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span><span id="__span-15-6">
</span><span id="__span-15-7"><span class="c1"># View the dataset&#39;s current App config</span>
</span><span id="__span-15-8"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="multiple-media-fields">Multiple media fields <a href="#multiple-media-fields" title="Permalink to this headline">¶</a><a class="headerlink" href="#multiple-media-fields" title="Permanent link">&para;</a></h4>
<p>You can declare <a href="../app/#app-multiple-media-fields">multiple media fields</a> on a
dataset and configure which field is used by various components of the App by
default:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.utils.image</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foui</span>
</span><span id="__span-16-2">
</span><span id="__span-16-3"><span class="c1"># Generate some thumbnail images</span>
</span><span id="__span-16-4"><span class="n">foui</span><span class="o">.</span><span class="n">transform_images</span><span class="p">(</span>
</span><span id="__span-16-5">    <span class="n">dataset</span><span class="p">,</span>
</span><span id="__span-16-6">    <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">32</span><span class="p">),</span>
</span><span id="__span-16-7">    <span class="n">output_field</span><span class="o">=</span><span class="s2">&quot;thumbnail_path&quot;</span><span class="p">,</span>
</span><span id="__span-16-8">    <span class="n">output_dir</span><span class="o">=</span><span class="s2">&quot;/tmp/thumbnails&quot;</span><span class="p">,</span>
</span><span id="__span-16-9"><span class="p">)</span>
</span><span id="__span-16-10">
</span><span id="__span-16-11"><span class="c1"># Configure when to use each field</span>
</span><span id="__span-16-12"><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span><span class="o">.</span><span class="n">media_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;filepath&quot;</span><span class="p">,</span> <span class="s2">&quot;thumbnail_path&quot;</span><span class="p">]</span>
</span><span id="__span-16-13"><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span><span class="o">.</span><span class="n">grid_media_field</span> <span class="o">=</span> <span class="s2">&quot;thumbnail_path&quot;</span>
</span><span id="__span-16-14"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-16-15">
</span><span id="__span-16-16"><span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</span></code></pre></div>
<p>You can set <code>media_fallback=True</code> if you want the App to fallback to the
<code>filepath</code> field if an alternate media field is missing for a particular
sample in the grid and/or modal:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><span class="c1"># Fallback to `filepath` if an alternate media field is missing</span>
</span><span id="__span-17-2"><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span><span class="o">.</span><span class="n">media_fallback</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-17-3"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></code></pre></div>
<h4 id="custom-color-scheme">Custom color scheme <a href="#custom-color-scheme" title="Permalink to this headline">¶</a><a class="headerlink" href="#custom-color-scheme" title="Permanent link">&para;</a></h4>
<p>You can store a <a href="../app/#app-color-schemes">custom color scheme</a> on a dataset
that should be used by default whenever the dataset is loaded in the App:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><span class="n">dataset</span><span class="o">.</span><span class="n">evaluate_detections</span><span class="p">(</span>
</span><span id="__span-18-2">    <span class="s2">&quot;predictions&quot;</span><span class="p">,</span> <span class="n">gt_field</span><span class="o">=</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">,</span> <span class="n">eval_key</span><span class="o">=</span><span class="s2">&quot;eval&quot;</span>
</span><span id="__span-18-3"><span class="p">)</span>
</span><span id="__span-18-4">
</span><span id="__span-18-5"><span class="c1"># Store a custom color scheme</span>
</span><span id="__span-18-6"><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span><span class="o">.</span><span class="n">color_scheme</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">ColorScheme</span><span class="p">(</span>
</span><span id="__span-18-7">    <span class="n">color_pool</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;#ff0000&quot;</span><span class="p">,</span> <span class="s2">&quot;#00ff00&quot;</span><span class="p">,</span> <span class="s2">&quot;#0000ff&quot;</span><span class="p">,</span> <span class="s2">&quot;pink&quot;</span><span class="p">,</span> <span class="s2">&quot;yellowgreen&quot;</span><span class="p">],</span>
</span><span id="__span-18-8">    <span class="n">color_by</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
</span><span id="__span-18-9">    <span class="n">fields</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-18-10">        <span class="p">{</span>\
</span><span id="__span-18-11">            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;ground_truth&quot;</span><span class="p">,</span>\
</span><span id="__span-18-12">            <span class="s2">&quot;colorByAttribute&quot;</span><span class="p">:</span> <span class="s2">&quot;eval&quot;</span><span class="p">,</span>\
</span><span id="__span-18-13">            <span class="s2">&quot;valueColors&quot;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-18-14">                <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;fn&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;#0000ff&quot;</span><span class="p">},</span>  <span class="c1"># false negatives: blue\</span>
</span><span id="__span-18-15">                <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;tp&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;#00ff00&quot;</span><span class="p">},</span>  <span class="c1"># true positives: green\</span>
</span><span id="__span-18-16">            <span class="p">]</span>\
</span><span id="__span-18-17">        <span class="p">},</span>\
</span><span id="__span-18-18">        <span class="p">{</span>\
</span><span id="__span-18-19">            <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;predictions&quot;</span><span class="p">,</span>\
</span><span id="__span-18-20">            <span class="s2">&quot;colorByAttribute&quot;</span><span class="p">:</span> <span class="s2">&quot;eval&quot;</span><span class="p">,</span>\
</span><span id="__span-18-21">            <span class="s2">&quot;valueColors&quot;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-18-22">                <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;fp&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;#ff0000&quot;</span><span class="p">},</span>  <span class="c1"># false positives: red\</span>
</span><span id="__span-18-23">                <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;tp&quot;</span><span class="p">,</span> <span class="s2">&quot;color&quot;</span><span class="p">:</span> <span class="s2">&quot;#00ff00&quot;</span><span class="p">},</span>  <span class="c1"># true positives: green\</span>
</span><span id="__span-18-24">            <span class="p">]</span>\
</span><span id="__span-18-25">        <span class="p">}</span>\
</span><span id="__span-18-26">    <span class="p">]</span>
</span><span id="__span-18-27"><span class="p">)</span>
</span><span id="__span-18-28"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-18-29">
</span><span id="__span-18-30"><span class="c1"># Setting `color_scheme` to None forces the dataset&#39;s default color scheme</span>
</span><span id="__span-18-31"><span class="c1"># to be loaded</span>
</span><span id="__span-18-32"><span class="n">session</span><span class="o">.</span><span class="n">color_scheme</span> <span class="o">=</span> <span class="kc">None</span>
</span></code></pre></div>
<p>Note</p>
<p>Refer to the <a href="../../api/fiftyone.core.odm.dataset.html#fiftyone.core.odm.dataset.ColorScheme" title="fiftyone.core.odm.dataset.ColorScheme"><code>ColorScheme</code></a> class for documentation of the available
customization options.</p>
<p>Note</p>
<p>Did you know? You can also configure color schemes
<a href="../app/#app-color-schemes">directly in the App</a>!</p>
<h4 id="sidebar-groups">Sidebar groups <a href="#sidebar-groups" title="Permalink to this headline">¶</a><a class="headerlink" href="#sidebar-groups" title="Permanent link">&para;</a></h4>
<p>You can configure the organization and default expansion state of the
<a href="../app/#app-sidebar-groups">sidebar’s field groups</a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><span class="c1"># Get the default sidebar groups for the dataset</span>
</span><span id="__span-19-2"><span class="n">sidebar_groups</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">DatasetAppConfig</span><span class="o">.</span><span class="n">default_sidebar_groups</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span><span id="__span-19-3">
</span><span id="__span-19-4"><span class="c1"># Collapse the `metadata` section by default</span>
</span><span id="__span-19-5"><span class="nb">print</span><span class="p">(</span><span class="n">sidebar_groups</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>  <span class="c1"># metadata</span>
</span><span id="__span-19-6"><span class="n">sidebar_groups</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">expanded</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-19-7">
</span><span id="__span-19-8"><span class="c1"># Modify the dataset&#39;s App config</span>
</span><span id="__span-19-9"><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span><span class="o">.</span><span class="n">sidebar_groups</span> <span class="o">=</span> <span class="n">sidebar_groups</span>
</span><span id="__span-19-10"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-19-11">
</span><span id="__span-19-12"><span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</span></code></pre></div>
<h4 id="disable-frame-filtering">Disable frame filtering <a href="#disable-frame-filtering" title="Permalink to this headline">¶</a><a class="headerlink" href="#disable-frame-filtering" title="Permanent link">&para;</a></h4>
<p>Filtering by frame-level fields of video datasets in the App’s grid view can be
expensive when the dataset is large.</p>
<p>You can disable frame filtering for a video dataset as follows:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-20-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-20-3">
</span><span id="__span-20-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart-video&quot;</span><span class="p">)</span>
</span><span id="__span-20-5">
</span><span id="__span-20-6"><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span><span class="o">.</span><span class="n">disable_frame_filtering</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-20-7"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-20-8">
</span><span id="__span-20-9"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can also globally disable frame filtering for all video
datasets via your <a href="../config/#configuring-fiftyone-app">App config</a>.</p>
<h4 id="resetting-a-datasets-app-config">Resetting a dataset’s App config <a href="#resetting-a-dataset-s-app-config" title="Permalink to this headline">¶</a><a class="headerlink" href="#resetting-a-datasets-app-config" title="Permanent link">&para;</a></h4>
<p>You can conveniently reset any property of a dataset’s App config by setting it
to <code>None</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><span class="c1"># Reset the dataset&#39;s color scheme</span>
</span><span id="__span-21-2"><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span><span class="o">.</span><span class="n">color_scheme</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-21-3"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-21-4">
</span><span id="__span-21-5"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span><span class="p">)</span>
</span><span id="__span-21-6">
</span><span id="__span-21-7"><span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</span></code></pre></div>
<p>or you can reset the entire App config by setting the
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.app_config" title="fiftyone.core.dataset.Dataset.app_config"><code>app_config</code></a> property to
<code>None</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><span class="c1"># Reset App config</span>
</span><span id="__span-22-2"><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-22-3"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">app_config</span><span class="p">)</span>
</span><span id="__span-22-4">
</span><span id="__span-22-5"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>Check out <a href="../app/#app-config">this section</a> for more information about
customizing the behavior of the App.</p>
<h3 id="storing-class-lists">Storing class lists <a href="#storing-class-lists" title="Permalink to this headline">¶</a><a class="headerlink" href="#storing-class-lists" title="Permanent link">&para;</a></h3>
<p>All <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> instances have
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.classes" title="fiftyone.core.dataset.Dataset.classes"><code>classes</code></a> and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_classes" title="fiftyone.core.dataset.Dataset.default_classes"><code>default_classes</code></a>
properties that you can use to store the lists of possible classes for your
annotations/models.</p>
<p>The <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.classes" title="fiftyone.core.dataset.Dataset.classes"><code>classes</code></a> property is a
dictionary mapping field names to class lists for a single <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> field of the
dataset.</p>
<p>If all <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> fields in your dataset have the same semantics, you can store a
single class list in the store a single target dictionary in the
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_classes" title="fiftyone.core.dataset.Dataset.default_classes"><code>default_classes</code></a>
property of your dataset.</p>
<p>You can also pass your class lists to methods such as
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.evaluate_classifications" title="fiftyone.core.collections.SampleCollection.evaluate_classifications"><code>evaluate_classifications()</code></a>,
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.evaluate_detections" title="fiftyone.core.collections.SampleCollection.evaluate_detections"><code>evaluate_detections()</code></a>,
and <a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.export" title="fiftyone.core.collections.SampleCollection.export"><code>export()</code></a> that
require knowledge of the possible classes in a dataset or field(s).</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-23-2">
</span><span id="__span-23-3"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-23-4">
</span><span id="__span-23-5"><span class="c1"># Set default classes</span>
</span><span id="__span-23-6"><span class="n">dataset</span><span class="o">.</span><span class="n">default_classes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">]</span>
</span><span id="__span-23-7">
</span><span id="__span-23-8"><span class="c1"># Edit the default classes</span>
</span><span id="__span-23-9"><span class="n">dataset</span><span class="o">.</span><span class="n">default_classes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;other&quot;</span><span class="p">)</span>
</span><span id="__span-23-10"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-23-11">
</span><span id="__span-23-12"><span class="c1"># Set classes for the `ground_truth` and `predictions` fields</span>
</span><span id="__span-23-13"><span class="n">dataset</span><span class="o">.</span><span class="n">classes</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-23-14">    <span class="s2">&quot;ground_truth&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">],</span>
</span><span id="__span-23-15">    <span class="s2">&quot;predictions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;other&quot;</span><span class="p">],</span>
</span><span id="__span-23-16"><span class="p">}</span>
</span><span id="__span-23-17">
</span><span id="__span-23-18"><span class="c1"># Edit a field&#39;s classes</span>
</span><span id="__span-23-19"><span class="n">dataset</span><span class="o">.</span><span class="n">classes</span><span class="p">[</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;other&quot;</span><span class="p">)</span>
</span><span id="__span-23-20"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.save" title="fiftyone.core.dataset.Dataset.save"><code>dataset.save()</code></a> after updating
the dataset’s <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.classes" title="fiftyone.core.dataset.Dataset.classes"><code>classes</code></a> and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_classes" title="fiftyone.core.dataset.Dataset.default_classes"><code>default_classes</code></a>
properties in-place to save the changes to the database.</p>
<h3 id="storing-mask-targets">Storing mask targets <a href="#storing-mask-targets" title="Permalink to this headline">¶</a><a class="headerlink" href="#storing-mask-targets" title="Permanent link">&para;</a></h3>
<p>All <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> instances have
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.mask_targets" title="fiftyone.core.dataset.Dataset.mask_targets"><code>mask_targets</code></a> and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_mask_targets" title="fiftyone.core.dataset.Dataset.default_mask_targets"><code>default_mask_targets</code></a>
properties that you can use to store label strings for the pixel values of
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation" title="fiftyone.core.labels.Segmentation"><code>Segmentation</code></a> field masks.</p>
<p>The <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.mask_targets" title="fiftyone.core.dataset.Dataset.mask_targets"><code>mask_targets</code></a> property
is a dictionary mapping field names to target dicts, each of which is a
dictionary defining the mapping between pixel values (2D masks) or RGB hex
strings (3D masks) and label strings for the <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation" title="fiftyone.core.labels.Segmentation"><code>Segmentation</code></a> masks in the
specified field of the dataset.</p>
<p>If all <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation" title="fiftyone.core.labels.Segmentation"><code>Segmentation</code></a> fields in your dataset have the same semantics, you can
store a single target dictionary in the
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_mask_targets" title="fiftyone.core.dataset.Dataset.default_mask_targets"><code>default_mask_targets</code></a>
property of your dataset.</p>
<p>When you load datasets with <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation" title="fiftyone.core.labels.Segmentation"><code>Segmentation</code></a> fields in the App that have
corresponding mask targets, the label strings will appear in the App’s tooltip
when you hover over pixels.</p>
<p>You can also pass your mask targets to methods such as
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.evaluate_segmentations" title="fiftyone.core.collections.SampleCollection.evaluate_segmentations"><code>evaluate_segmentations()</code></a>
and <a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.export" title="fiftyone.core.collections.SampleCollection.export"><code>export()</code></a> that
require knowledge of the mask targets for a dataset or field(s).</p>
<p>If you are working with 2D segmentation masks, specify target keys as integers:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-24-2">
</span><span id="__span-24-3"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-24-4">
</span><span id="__span-24-5"><span class="c1"># Set default mask targets</span>
</span><span id="__span-24-6"><span class="n">dataset</span><span class="o">.</span><span class="n">default_mask_targets</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">}</span>
</span><span id="__span-24-7">
</span><span id="__span-24-8"><span class="c1"># Edit the default mask targets</span>
</span><span id="__span-24-9"><span class="n">dataset</span><span class="o">.</span><span class="n">default_mask_targets</span><span class="p">[</span><span class="mi">255</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;other&quot;</span>
</span><span id="__span-24-10"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-24-11">
</span><span id="__span-24-12"><span class="c1"># Set mask targets for the `ground_truth` and `predictions` fields</span>
</span><span id="__span-24-13"><span class="n">dataset</span><span class="o">.</span><span class="n">mask_targets</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-24-14">    <span class="s2">&quot;ground_truth&quot;</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">},</span>
</span><span id="__span-24-15">    <span class="s2">&quot;predictions&quot;</span><span class="p">:</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="mi">255</span><span class="p">:</span> <span class="s2">&quot;other&quot;</span><span class="p">},</span>
</span><span id="__span-24-16"><span class="p">}</span>
</span><span id="__span-24-17">
</span><span id="__span-24-18"><span class="c1"># Edit an existing mask target</span>
</span><span id="__span-24-19"><span class="n">dataset</span><span class="o">.</span><span class="n">mask_targets</span><span class="p">[</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">][</span><span class="mi">255</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;other&quot;</span>
</span><span id="__span-24-20"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span></code></pre></div>
<p>If you are working with RGB segmentation masks, specify target keys as RGB hex
strings:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-25-2">
</span><span id="__span-25-3"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-25-4">
</span><span id="__span-25-5"><span class="c1"># Set default mask targets</span>
</span><span id="__span-25-6"><span class="n">dataset</span><span class="o">.</span><span class="n">default_mask_targets</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;#499CEF&quot;</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;#6D04FF&quot;</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">}</span>
</span><span id="__span-25-7">
</span><span id="__span-25-8"><span class="c1"># Edit the default mask targets</span>
</span><span id="__span-25-9"><span class="n">dataset</span><span class="o">.</span><span class="n">default_mask_targets</span><span class="p">[</span><span class="s2">&quot;#FF6D04&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;person&quot;</span>
</span><span id="__span-25-10"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-25-11">
</span><span id="__span-25-12"><span class="c1"># Set mask targets for the `ground_truth` and `predictions` fields</span>
</span><span id="__span-25-13"><span class="n">dataset</span><span class="o">.</span><span class="n">mask_targets</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-25-14">    <span class="s2">&quot;ground_truth&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;#499CEF&quot;</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;#6D04FF&quot;</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">},</span>
</span><span id="__span-25-15">    <span class="s2">&quot;predictions&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-25-16">        <span class="s2">&quot;#499CEF&quot;</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;#6D04FF&quot;</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="s2">&quot;#FF6D04&quot;</span><span class="p">:</span> <span class="s2">&quot;person&quot;</span>
</span><span id="__span-25-17">    <span class="p">},</span>
</span><span id="__span-25-18"><span class="p">}</span>
</span><span id="__span-25-19">
</span><span id="__span-25-20"><span class="c1"># Edit an existing mask target</span>
</span><span id="__span-25-21"><span class="n">dataset</span><span class="o">.</span><span class="n">mask_targets</span><span class="p">[</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">][</span><span class="s2">&quot;#FF6D04&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;person&quot;</span>
</span><span id="__span-25-22"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.save" title="fiftyone.core.dataset.Dataset.save"><code>dataset.save()</code></a> after updating
the dataset’s
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.mask_targets" title="fiftyone.core.dataset.Dataset.mask_targets"><code>mask_targets</code></a> and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_mask_targets" title="fiftyone.core.dataset.Dataset.default_mask_targets"><code>default_mask_targets</code></a>
properties in-place to save the changes to the database.</p>
<h3 id="storing-keypoint-skeletons">Storing keypoint skeletons <a href="#storing-keypoint-skeletons" title="Permalink to this headline">¶</a><a class="headerlink" href="#storing-keypoint-skeletons" title="Permanent link">&para;</a></h3>
<p>All <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> instances have
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.skeletons" title="fiftyone.core.dataset.Dataset.skeletons"><code>skeletons</code></a> and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_skeleton" title="fiftyone.core.dataset.Dataset.default_skeleton"><code>default_skeleton</code></a>
properties that you can use to store keypoint skeletons for <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a> field(s)
of a dataset.</p>
<p>The <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.skeletons" title="fiftyone.core.dataset.Dataset.skeletons"><code>skeletons</code></a> property is a
dictionary mapping field names to <a href="../../api/fiftyone.core.odm.dataset.html#fiftyone.core.odm.dataset.KeypointSkeleton" title="fiftyone.core.odm.dataset.KeypointSkeleton"><code>KeypointSkeleton</code></a> instances, each of which
defines the keypoint label strings and edge connectivity for the <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a>
instances in the specified field of the dataset.</p>
<p>If all <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a> fields in your dataset have the same semantics, you can store
a single <a href="../../api/fiftyone.core.odm.dataset.html#fiftyone.core.odm.dataset.KeypointSkeleton" title="fiftyone.core.odm.dataset.KeypointSkeleton"><code>KeypointSkeleton</code></a> in the
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_skeleton" title="fiftyone.core.dataset.Dataset.default_skeleton"><code>default_skeleton</code></a>
property of your dataset.</p>
<p>When you load datasets with <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a> fields in the App that have
corresponding skeletons, the skeletons will automatically be rendered and label
strings will appear in the App’s tooltip when you hover over the keypoints.</p>
<p>Keypoint skeletons can be associated with <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a> or <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoints" title="fiftyone.core.labels.Keypoints"><code>Keypoints</code></a> fields
whose <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint.points" title="fiftyone.core.labels.Keypoint.points"><code>points</code></a> attributes all
contain a fixed number of semantically ordered points.</p>
<p>The <a href="../../api/fiftyone.core.odm.dataset.html#fiftyone.core.odm.dataset.KeypointSkeleton.edges" title="fiftyone.core.odm.dataset.KeypointSkeleton.edges"><code>edges</code></a> argument
contains lists of integer indexes that define the connectivity of the points in
the skeleton, and the optional
<a href="../../api/fiftyone.core.odm.dataset.html#fiftyone.core.odm.dataset.KeypointSkeleton.labels" title="fiftyone.core.odm.dataset.KeypointSkeleton.labels"><code>labels</code></a> argument
defines the label strings for each node in the skeleton.</p>
<p>For example, the skeleton below is defined by edges between the following
nodes:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><span class="n">left</span> <span class="n">hand</span> <span class="o">&lt;-&gt;</span> <span class="n">left</span> <span class="n">shoulder</span> <span class="o">&lt;-&gt;</span> <span class="n">right</span> <span class="n">shoulder</span> <span class="o">&lt;-&gt;</span> <span class="n">right</span> <span class="n">hand</span>
</span><span id="__span-26-2"><span class="n">left</span> <span class="n">eye</span> <span class="o">&lt;-&gt;</span> <span class="n">right</span> <span class="n">eye</span> <span class="o">&lt;-&gt;</span> <span class="n">mouth</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-27-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-27-2">
</span><span id="__span-27-3"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-27-4">
</span><span id="__span-27-5"><span class="c1"># Set keypoint skeleton for the `ground_truth` field</span>
</span><span id="__span-27-6"><span class="n">dataset</span><span class="o">.</span><span class="n">skeletons</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-27-7">    <span class="s2">&quot;ground_truth&quot;</span><span class="p">:</span> <span class="n">fo</span><span class="o">.</span><span class="n">KeypointSkeleton</span><span class="p">(</span>
</span><span id="__span-27-8">        <span class="n">labels</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-27-9">            <span class="s2">&quot;left hand&quot;</span> <span class="s2">&quot;left shoulder&quot;</span><span class="p">,</span> <span class="s2">&quot;right shoulder&quot;</span><span class="p">,</span> <span class="s2">&quot;right hand&quot;</span><span class="p">,</span>\
</span><span id="__span-27-10">            <span class="s2">&quot;left eye&quot;</span><span class="p">,</span> <span class="s2">&quot;right eye&quot;</span><span class="p">,</span> <span class="s2">&quot;mouth&quot;</span><span class="p">,</span>\
</span><span id="__span-27-11">        <span class="p">],</span>
</span><span id="__span-27-12">        <span class="n">edges</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span>
</span><span id="__span-27-13">    <span class="p">)</span>
</span><span id="__span-27-14"><span class="p">}</span>
</span><span id="__span-27-15">
</span><span id="__span-27-16"><span class="c1"># Edit an existing skeleton</span>
</span><span id="__span-27-17"><span class="n">dataset</span><span class="o">.</span><span class="n">skeletons</span><span class="p">[</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">labels</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;lips&quot;</span>
</span><span id="__span-27-18"><span class="n">dataset</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span></code></pre></div>
<p>Note</p>
<p>When using keypoint skeletons, each <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a> instance’s
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint.points" title="fiftyone.core.labels.Keypoint.points"><code>points</code></a> list must always
respect the indexing defined by the field’s <a href="../../api/fiftyone.core.odm.dataset.html#fiftyone.core.odm.dataset.KeypointSkeleton" title="fiftyone.core.odm.dataset.KeypointSkeleton"><code>KeypointSkeleton</code></a>.</p>
<p>If a particular keypoint is occluded or missing for an object, use
<code>[float("nan"), float("nan")]</code> in its
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint.points" title="fiftyone.core.labels.Keypoint.points"><code>points</code></a> list.</p>
<p>Note</p>
<p>You must call
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.save" title="fiftyone.core.dataset.Dataset.save"><code>dataset.save()</code></a> after updating
the dataset’s
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.skeletons" title="fiftyone.core.dataset.Dataset.skeletons"><code>skeletons</code></a> and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.default_skeleton" title="fiftyone.core.dataset.Dataset.default_skeleton"><code>default_skeleton</code></a>
properties in-place to save the changes to the database.</p>
<h3 id="deleting-a-dataset">Deleting a dataset <a href="#deleting-a-dataset" title="Permalink to this headline">¶</a><a class="headerlink" href="#deleting-a-dataset" title="Permanent link">&para;</a></h3>
<p>Delete a dataset explicitly via
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.delete" title="fiftyone.core.dataset.Dataset.delete"><code>Dataset.delete()</code></a>. Once a dataset
is deleted, any existing reference in memory will be in a volatile state.
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset.name</code></a> and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset.deleted</code></a> will still be valid
attributes, but calling any other attribute or method will raise a
<code>DoesNotExistError</code>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;my_first_dataset&quot;</span><span class="p">)</span>
</span><span id="__span-28-2"><span class="n">dataset</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</span><span id="__span-28-3">
</span><span id="__span-28-4"><span class="nb">print</span><span class="p">(</span><span class="n">fo</span><span class="o">.</span><span class="n">list_datasets</span><span class="p">())</span>
</span><span id="__span-28-5"><span class="c1"># []</span>
</span><span id="__span-28-6">
</span><span id="__span-28-7"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span><span id="__span-28-8"><span class="c1"># my_first_dataset</span>
</span><span id="__span-28-9">
</span><span id="__span-28-10"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">deleted</span><span class="p">)</span>
</span><span id="__span-28-11"><span class="c1"># True</span>
</span><span id="__span-28-12">
</span><span id="__span-28-13"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">persistent</span><span class="p">)</span>
</span><span id="__span-28-14"><span class="c1"># DoesNotExistError: Dataset &#39;my_first_dataset&#39; is deleted</span>
</span></code></pre></div>
<h2 id="samples">Samples <a href="#samples" title="Permalink to this headline">¶</a><a class="headerlink" href="#samples" title="Permanent link">&para;</a></h2>
<p>An individual <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> is always initialized with a <code>filepath</code> to the
corresponding data on disk.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-29-1"><span class="c1"># An image sample</span>
</span><span id="__span-29-2"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-29-3">
</span><span id="__span-29-4"><span class="c1"># A video sample</span>
</span><span id="__span-29-5"><span class="n">another_sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/video.mp4&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>Creating a new <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> does not load the source data into memory. Source
data is read only as needed by the App.</p>
<h3 id="adding-samples-to-a-dataset">Adding samples to a dataset <a href="#adding-samples-to-a-dataset" title="Permalink to this headline">¶</a><a class="headerlink" href="#adding-samples-to-a-dataset" title="Permanent link">&para;</a></h3>
<p>A <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> can easily be added to an existing <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-30-1"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;example_dataset&quot;</span><span class="p">)</span>
</span><span id="__span-30-2"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<p>When a sample is added to a dataset, the relevant attributes of the <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a>
are automatically updated:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-31-1"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">in_dataset</span><span class="p">)</span>
</span><span id="__span-31-2"><span class="c1"># True</span>
</span><span id="__span-31-3">
</span><span id="__span-31-4"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">dataset_name</span><span class="p">)</span>
</span><span id="__span-31-5"><span class="c1"># example_dataset</span>
</span></code></pre></div>
<p>Every sample in a dataset is given a unique ID when it is added:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-32-1"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span id="__span-32-2"><span class="c1"># 5ee0ebd72ceafe13e7741c42</span>
</span></code></pre></div>
<p>Multiple samples can be efficiently added to a dataset in batches:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-33-1"><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="p">))</span>
</span><span id="__span-33-2"><span class="c1"># 1</span>
</span><span id="__span-33-3">
</span><span id="__span-33-4"><span class="n">dataset</span><span class="o">.</span><span class="n">add_samples</span><span class="p">(</span>
</span><span id="__span-33-5">    <span class="p">[</span>\
</span><span id="__span-33-6">        <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image1.jpg&quot;</span><span class="p">),</span>\
</span><span id="__span-33-7">        <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image2.jpg&quot;</span><span class="p">),</span>\
</span><span id="__span-33-8">        <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image3.jpg&quot;</span><span class="p">),</span>\
</span><span id="__span-33-9">    <span class="p">]</span>
</span><span id="__span-33-10"><span class="p">)</span>
</span><span id="__span-33-11">
</span><span id="__span-33-12"><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="p">))</span>
</span><span id="__span-33-13"><span class="c1"># 4</span>
</span></code></pre></div>
<h3 id="accessing-samples-in-a-dataset">Accessing samples in a dataset <a href="#accessing-samples-in-a-dataset" title="Permalink to this headline">¶</a><a class="headerlink" href="#accessing-samples-in-a-dataset" title="Permanent link">&para;</a></h3>
<p>FiftyOne provides multiple ways to access a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> in a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>.</p>
<p>You can iterate over the samples in a dataset:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-34-1"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
</span><span id="__span-34-2">    <span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<p>Use <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.first" title="fiftyone.core.dataset.Dataset.first"><code>first()</code></a> and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.last" title="fiftyone.core.dataset.Dataset.last"><code>last()</code></a> to retrieve the first and
last samples in a dataset, respectively:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-35-1"><span class="n">first_sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-35-2"><span class="n">last_sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">last</span><span class="p">()</span>
</span></code></pre></div>
<p>Samples can be accessed directly from datasets by their IDs or their filepaths.
<a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> objects are singletons, so the same <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> instance is returned
whenever accessing the sample from the <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-36-1"><span class="n">same_sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="n">sample</span><span class="o">.</span><span class="n">id</span><span class="p">]</span>
</span><span id="__span-36-2"><span class="nb">print</span><span class="p">(</span><span class="n">same_sample</span> <span class="ow">is</span> <span class="n">sample</span><span class="p">)</span>
</span><span id="__span-36-3"><span class="c1"># True</span>
</span><span id="__span-36-4">
</span><span id="__span-36-5"><span class="n">also_same_sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="p">[</span><span class="n">sample</span><span class="o">.</span><span class="n">filepath</span><span class="p">]</span>
</span><span id="__span-36-6"><span class="nb">print</span><span class="p">(</span><span class="n">also_same_sample</span> <span class="ow">is</span> <span class="n">sample</span><span class="p">)</span>
</span><span id="__span-36-7"><span class="c1"># True</span>
</span></code></pre></div>
<p>You can use <a href="../using_views/#using-views">dataset views</a> to perform more sophisticated
operations on samples like searching, filtering, sorting, and slicing.</p>
<p>Note</p>
<p>Accessing a sample by its integer index in a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> is not allowed. The
best practice is to lookup individual samples by ID or filepath, or use
array slicing to extract a range of samples, and iterate over samples in a
view.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-37-1"><span class="n">dataset</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-37-2"><span class="c1"># KeyError: Accessing dataset samples by numeric index is not supported.</span>
</span><span id="__span-37-3"><span class="c1"># Use sample IDs, filepaths, slices, boolean arrays, or a boolean ViewExpression instead</span>
</span></code></pre></div>
<h3 id="deleting-samples-from-a-dataset">Deleting samples from a dataset <a href="#deleting-samples-from-a-dataset" title="Permalink to this headline">¶</a><a class="headerlink" href="#deleting-samples-from-a-dataset" title="Permanent link">&para;</a></h3>
<p>Samples can be removed from a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> through their ID, either one at a time
or in batches via
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.delete_samples" title="fiftyone.core.dataset.Dataset.delete_samples"><code>delete_samples()</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-38-1"><span class="n">dataset</span><span class="o">.</span><span class="n">delete_samples</span><span class="p">(</span><span class="n">sample_id</span><span class="p">)</span>
</span><span id="__span-38-2">
</span><span id="__span-38-3"><span class="c1"># equivalent to above</span>
</span><span id="__span-38-4"><span class="k">del</span> <span class="n">dataset</span><span class="p">[</span><span class="n">sample_id</span><span class="p">]</span>
</span><span id="__span-38-5">
</span><span id="__span-38-6"><span class="n">dataset</span><span class="o">.</span><span class="n">delete_samples</span><span class="p">([</span><span class="n">sample_id1</span><span class="p">,</span> <span class="n">sample_id2</span><span class="p">])</span>
</span></code></pre></div>
<p>Samples can also be removed from a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> by passing <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> instance(s)
or <a href="../../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView" title="fiftyone.core.view.DatasetView"><code>DatasetView</code></a> instances:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-39-1"><span class="c1"># Remove a random sample</span>
</span><span id="__span-39-2"><span class="n">sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-39-3"><span class="n">dataset</span><span class="o">.</span><span class="n">delete_samples</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-39-4">
</span><span id="__span-39-5"><span class="c1"># Remove 10 random samples</span>
</span><span id="__span-39-6"><span class="n">view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-39-7"><span class="n">dataset</span><span class="o">.</span><span class="n">delete_samples</span><span class="p">(</span><span class="n">view</span><span class="p">)</span>
</span></code></pre></div>
<p>If a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> object in memory is deleted from a dataset, it will revert to
a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> that has not been added to a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-40-1"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">in_dataset</span><span class="p">)</span>
</span><span id="__span-40-2"><span class="c1"># False</span>
</span><span id="__span-40-3">
</span><span id="__span-40-4"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">dataset_name</span><span class="p">)</span>
</span><span id="__span-40-5"><span class="c1"># None</span>
</span><span id="__span-40-6">
</span><span id="__span-40-7"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</span><span id="__span-40-8"><span class="c1"># None</span>
</span></code></pre></div>
<h2 id="fields">Fields <a href="#fields" title="Permalink to this headline">¶</a><a class="headerlink" href="#fields" title="Permanent link">&para;</a></h2>
<p>A <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field" title="fiftyone.core.fields.Field"><code>Field</code></a> is an attribute of a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> that stores information about the
sample.</p>
<p>Fields can be dynamically created, modified, and deleted from samples on a
per-sample basis. When a new <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field" title="fiftyone.core.fields.Field"><code>Field</code></a> is assigned to a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> in a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>,
it is automatically added to the dataset’s schema and thus accessible on all
other samples in the dataset.</p>
<p>If a field exists on a dataset but has not been set on a particular sample, its
value will be <code>None</code>.</p>
<h3 id="default-sample-fields">Default sample fields <a href="#default-sample-fields" title="Permalink to this headline">¶</a><a class="headerlink" href="#default-sample-fields" title="Permanent link">&para;</a></h3>
<p>By default, all <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> instances have the following fields:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>string</td>
<td><code>None</code></td>
<td>The ID of the sample in its parent dataset, which<br>is generated automatically when the sample is<br>added to a dataset, or <code>None</code> if the sample does<br>not belong to a dataset</td>
</tr>
<tr>
<td><code>filepath</code></td>
<td>string</td>
<td><strong>REQUIRED</strong></td>
<td>The path to the source data on disk. Must be<br>provided at sample creation time</td>
</tr>
<tr>
<td><code>media_type</code></td>
<td>string</td>
<td>N/A</td>
<td>The media type of the sample. Computed<br>automatically from the provided <code>filepath</code></td>
</tr>
<tr>
<td><code>tags</code></td>
<td>list</td>
<td><code>[]</code></td>
<td>A list of string tags for the sample</td>
</tr>
<tr>
<td><code>metadata</code></td>
<td><a href="../../api/fiftyone.core.metadata.html#fiftyone.core.metadata.Metadata" title="fiftyone.core.metadata.Metadata"><code>Metadata</code></a></td>
<td><code>None</code></td>
<td>Type-specific metadata about the source data</td>
</tr>
<tr>
<td><code>created_at</code></td>
<td>datetime</td>
<td><code>None</code></td>
<td>The datetime that the sample was added to its<br>parent dataset, which is generated automatically,<br>or <code>None</code> if the sample does not belong to a<br>dataset</td>
</tr>
<tr>
<td><code>last_modified_at</code></td>
<td>datetime</td>
<td><code>None</code></td>
<td>The datetime that the sample was last modified,<br>which is updated automatically, or <code>None</code> if the<br>sample does not belong to a dataset</td>
</tr>
</tbody>
</table>
<p>Note</p>
<p>The <code>created_at</code> and <code>last_modified_at</code> fields are
<a href="#read-only-fields">read-only</a> and are automatically populated/updated
when you add samples to datasets and modify them, respectively.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-41-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-41-2">
</span><span id="__span-41-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-41-4">
</span><span id="__span-41-5"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-42-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-42-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-42-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-42-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-42-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-42-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-42-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-42-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-42-9"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="accessing-fields-of-a-sample">Accessing fields of a sample <a href="#accessing-fields-of-a-sample" title="Permalink to this headline">¶</a><a class="headerlink" href="#accessing-fields-of-a-sample" title="Permanent link">&para;</a></h3>
<p>The names of available fields can be checked on any individual <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-43-1"><span class="n">sample</span><span class="o">.</span><span class="n">field_names</span>
</span><span id="__span-43-2"><span class="c1"># (&#39;id&#39;, &#39;filepath&#39;, &#39;tags&#39;, &#39;metadata&#39;, &#39;created_at&#39;, &#39;last_modified_at&#39;)</span>
</span></code></pre></div>
<p>The value of a <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field" title="fiftyone.core.fields.Field"><code>Field</code></a> for a given <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> can be accessed either by either
attribute or item access:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-44-1"><span class="n">sample</span><span class="o">.</span><span class="n">filepath</span>
</span><span id="__span-44-2"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;filepath&quot;</span><span class="p">]</span>  <span class="c1"># equivalent</span>
</span></code></pre></div>
<h3 id="field-schemas">Field schemas <a href="#field-schemas" title="Permalink to this headline">¶</a><a class="headerlink" href="#field-schemas" title="Permanent link">&para;</a></h3>
<p>You can use
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.get_field_schema" title="fiftyone.core.dataset.Dataset.get_field_schema"><code>get_field_schema()</code></a> to
retrieve detailed information about the schema of the samples in a dataset:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-45-1"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;a_dataset&quot;</span><span class="p">)</span>
</span><span id="__span-45-2"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-45-3">
</span><span id="__span-45-4"><span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">()</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-46-1"><span class="n">OrderedDict</span><span class="p">([</span>\
</span><span id="__span-46-2">    <span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ObjectIdField</span> <span class="n">at</span> <span class="mh">0x7fbaa862b358</span><span class="o">&gt;</span><span class="p">),</span>\
</span><span id="__span-46-3">    <span class="p">(</span><span class="s1">&#39;filepath&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span> <span class="n">at</span> <span class="mh">0x11c77ae10</span><span class="o">&gt;</span><span class="p">),</span>\
</span><span id="__span-46-4">    <span class="p">(</span><span class="s1">&#39;tags&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span> <span class="n">at</span> <span class="mh">0x11c790828</span><span class="o">&gt;</span><span class="p">),</span>\
</span><span id="__span-46-5">    <span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span> <span class="n">at</span> <span class="mh">0x11c7907b8</span><span class="o">&gt;</span><span class="p">),</span>\
</span><span id="__span-46-6">    <span class="p">(</span><span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span> <span class="n">at</span> <span class="mh">0x7fea48361af0</span><span class="o">&gt;</span><span class="p">),</span>\
</span><span id="__span-46-7">    <span class="p">(</span><span class="s1">&#39;last_modified_at&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span> <span class="n">at</span> <span class="mh">0x7fea48361b20</span><span class="o">&gt;</span><span class="p">)]),</span>
</span><span id="__span-46-8"><span class="p">])</span>
</span></code></pre></div>
<p>You can also view helpful information about a dataset, including its schema, by
printing it:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-47-1"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-48-1"><span class="n">Name</span><span class="p">:</span>           <span class="n">a_dataset</span>
</span><span id="__span-48-2"><span class="n">Media</span> <span class="nb">type</span><span class="p">:</span>     <span class="n">image</span>
</span><span id="__span-48-3"><span class="n">Num</span> <span class="n">samples</span><span class="p">:</span>    <span class="mi">1</span>
</span><span id="__span-48-4"><span class="n">Persistent</span><span class="p">:</span>     <span class="kc">False</span>
</span><span id="__span-48-5"><span class="n">Tags</span><span class="p">:</span>           <span class="p">[]</span>
</span><span id="__span-48-6"><span class="n">Sample</span> <span class="n">fields</span><span class="p">:</span>
</span><span id="__span-48-7">    <span class="nb">id</span><span class="p">:</span>               <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ObjectIdField</span>
</span><span id="__span-48-8">    <span class="n">filepath</span><span class="p">:</span>         <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span>
</span><span id="__span-48-9">    <span class="n">tags</span><span class="p">:</span>             <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span><span class="p">)</span>
</span><span id="__span-48-10">    <span class="n">metadata</span><span class="p">:</span>         <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">ImageMetadata</span><span class="p">)</span>
</span><span id="__span-48-11">    <span class="n">created_at</span><span class="p">:</span>       <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span>
</span><span id="__span-48-12">    <span class="n">last_modified_at</span><span class="p">:</span> <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can <a href="#storing-field-metadata">store metadata</a> such
as descriptions on your dataset’s fields!</p>
<h3 id="adding-fields-to-a-sample">Adding fields to a sample <a href="#adding-fields-to-a-sample" title="Permalink to this headline">¶</a><a class="headerlink" href="#adding-fields-to-a-sample" title="Permanent link">&para;</a></h3>
<p>New fields can be added to a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> using item assignment:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-49-1"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;integer_field&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">51</span>
</span><span id="__span-49-2"><span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></code></pre></div>
<p>If the <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> belongs to a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>, the dataset’s schema will automatically
be updated to reflect the new field:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-50-1"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-51-1"><span class="n">Name</span><span class="p">:</span>           <span class="n">a_dataset</span>
</span><span id="__span-51-2"><span class="n">Media</span> <span class="nb">type</span><span class="p">:</span>     <span class="n">image</span>
</span><span id="__span-51-3"><span class="n">Num</span> <span class="n">samples</span><span class="p">:</span>    <span class="mi">1</span>
</span><span id="__span-51-4"><span class="n">Persistent</span><span class="p">:</span>     <span class="kc">False</span>
</span><span id="__span-51-5"><span class="n">Tags</span><span class="p">:</span>           <span class="p">[]</span>
</span><span id="__span-51-6"><span class="n">Sample</span> <span class="n">fields</span><span class="p">:</span>
</span><span id="__span-51-7">    <span class="nb">id</span><span class="p">:</span>               <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ObjectIdField</span>
</span><span id="__span-51-8">    <span class="n">filepath</span><span class="p">:</span>         <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span>
</span><span id="__span-51-9">    <span class="n">tags</span><span class="p">:</span>             <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span><span class="p">)</span>
</span><span id="__span-51-10">    <span class="n">metadata</span><span class="p">:</span>         <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">ImageMetadata</span><span class="p">)</span>
</span><span id="__span-51-11">    <span class="n">created_at</span><span class="p">:</span>       <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span>
</span><span id="__span-51-12">    <span class="n">last_modified_at</span><span class="p">:</span> <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span>
</span><span id="__span-51-13">    <span class="n">integer_field</span><span class="p">:</span>    <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">IntField</span>
</span></code></pre></div>
<p>A <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field" title="fiftyone.core.fields.Field"><code>Field</code></a> can be any primitive type, such as <code>bool</code>, <code>int</code>, <code>float</code>, <code>str</code>,
<code>date</code>, <code>datetime</code>, <code>list</code>, <code>dict</code>, or more complex data structures
<a href="#using-labels">like label types</a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-52-1"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;animal&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;alligator&quot;</span><span class="p">)</span>
</span><span id="__span-52-2"><span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></code></pre></div>
<p>Whenever a new field is added to a sample in a dataset, the field is available
on every other sample in the dataset with the value <code>None</code>.</p>
<p>Fields must have the same type (or <code>None</code>) across all samples in the dataset.
Setting a field to an inappropriate type raises an error:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-53-1"><span class="n">sample2</span><span class="o">.</span><span class="n">integer_field</span> <span class="o">=</span> <span class="s2">&quot;a string&quot;</span>
</span><span id="__span-53-2"><span class="n">sample2</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-53-3"><span class="c1"># ValidationError: a string could not be converted to int</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample.save" title="fiftyone.core.sample.Sample.save"><code>sample.save()</code></a> in
order to persist changes to the database when editing samples that are in
datasets.</p>
<h3 id="adding-fields-to-a-dataset">Adding fields to a dataset <a href="#adding-fields-to-a-dataset" title="Permalink to this headline">¶</a><a class="headerlink" href="#adding-fields-to-a-dataset" title="Permanent link">&para;</a></h3>
<p>You can also use
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_sample_field" title="fiftyone.core.dataset.Dataset.add_sample_field"><code>add_sample_field()</code></a> to
declare new sample fields directly on datasets without explicitly populating
any values on its samples:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-54-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-54-2">
</span><span id="__span-54-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>
</span><span id="__span-54-4">    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;image.jpg&quot;</span><span class="p">,</span>
</span><span id="__span-54-5">    <span class="n">ground_truth</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">),</span>
</span><span id="__span-54-6"><span class="p">)</span>
</span><span id="__span-54-7">
</span><span id="__span-54-8"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-54-9"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-54-10">
</span><span id="__span-54-11"><span class="c1"># Declare new primitive fields</span>
</span><span id="__span-54-12"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;scene_id&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">StringField</span><span class="p">)</span>
</span><span id="__span-54-13"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;quality&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">FloatField</span><span class="p">)</span>
</span><span id="__span-54-14">
</span><span id="__span-54-15"><span class="c1"># Declare untyped list fields</span>
</span><span id="__span-54-16"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;more_tags&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">ListField</span><span class="p">)</span>
</span><span id="__span-54-17"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">ListField</span><span class="p">)</span>
</span><span id="__span-54-18">
</span><span id="__span-54-19"><span class="c1"># Declare a typed list field</span>
</span><span id="__span-54-20"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;also_tags&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">ListField</span><span class="p">,</span> <span class="n">subfield</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">StringField</span><span class="p">)</span>
</span><span id="__span-54-21">
</span><span id="__span-54-22"><span class="c1"># Declare a new Label field</span>
</span><span id="__span-54-23"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span>
</span><span id="__span-54-24">    <span class="s2">&quot;predictions&quot;</span><span class="p">,</span>
</span><span id="__span-54-25">    <span class="n">fo</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">,</span>
</span><span id="__span-54-26">    <span class="n">embedded_doc_type</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">,</span>
</span><span id="__span-54-27"><span class="p">)</span>
</span><span id="__span-54-28">
</span><span id="__span-54-29"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">())</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-55-1"><span class="p">{</span>
</span><span id="__span-55-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ObjectIdField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f9280803910</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-3">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f92d273e0d0</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-4">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f92d2654f70</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-5">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f9280803d90</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-6">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7fea48361af0</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-7">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7fea48361b20</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-8">    <span class="s1">&#39;ground_truth&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f92d2605190</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-9">    <span class="s1">&#39;scene_id&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f9280803490</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-10">    <span class="s1">&#39;quality&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">FloatField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f92d2605bb0</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-11">    <span class="s1">&#39;more_tags&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f92d08e4550</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-12">    <span class="s1">&#39;info&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f92d264f9a0</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-13">    <span class="s1">&#39;also_tags&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f92d264ff70</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-14">    <span class="s1">&#39;predictions&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7f92d2605640</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-55-15"><span class="p">}</span>
</span></code></pre></div>
<p>Whenever a new field is added to a dataset, the field is immediately available
on all samples in the dataset with the value <code>None</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-56-1"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-57-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-57-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;642d8848f291652133df8d3a&#39;</span><span class="p">,</span>
</span><span id="__span-57-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-57-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/Users/Brian/dev/fiftyone/image.jpg&#39;</span><span class="p">,</span>
</span><span id="__span-57-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-57-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-57-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">372399</span><span class="p">),</span>
</span><span id="__span-57-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">372399</span><span class="p">),</span>
</span><span id="__span-57-9">    <span class="s1">&#39;ground_truth&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-57-10">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;642d8848f291652133df8d38&#39;</span><span class="p">,</span>
</span><span id="__span-57-11">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-57-12">        <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>
</span><span id="__span-57-13">        <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-57-14">        <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-57-15">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-57-16">    <span class="s1">&#39;scene_id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-57-17">    <span class="s1">&#39;quality&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-57-18">    <span class="s1">&#39;more_tags&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-57-19">    <span class="s1">&#39;info&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-57-20">    <span class="s1">&#39;also_tags&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-57-21">    <span class="s1">&#39;predictions&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-57-22"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>You can also declare nested fields on existing embedded documents using dot
notation:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-58-1"><span class="c1"># Declare a new attribute on a `Classification` field</span>
</span><span id="__span-58-2"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;predictions.breed&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">StringField</span><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>See <a href="#dynamic-attributes">this section</a> for more options for
dynamically expanding the schema of nested lists and embedded documents.</p>
<p>You can use <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.get_field" title="fiftyone.core.dataset.Dataset.get_field"><code>get_field()</code></a> to
retrieve a <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field" title="fiftyone.core.fields.Field"><code>Field</code></a> instance by its name or <code>embedded.field.name</code>. And, if the
field contains an embedded document, you can call
<a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.EmbeddedDocumentField.get_field_schema" title="fiftyone.core.fields.EmbeddedDocumentField.get_field_schema"><code>get_field_schema()</code></a>
to recursively inspect its nested fields:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-59-1"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-59-2"><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">document_type</span><span class="p">)</span>
</span><span id="__span-59-3"><span class="c1"># &lt;class &#39;fiftyone.core.labels.Classification&#39;&gt;</span>
</span><span id="__span-59-4">
</span><span id="__span-59-5"><span class="nb">print</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</span><span id="__span-59-6"><span class="c1"># {&#39;logits&#39;, &#39;confidence&#39;, &#39;breed&#39;, &#39;tags&#39;, &#39;label&#39;, &#39;id&#39;}</span>
</span><span id="__span-59-7">
</span><span id="__span-59-8"><span class="c1"># Directly retrieve a nested field</span>
</span><span id="__span-59-9"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;predictions.breed&quot;</span><span class="p">)</span>
</span><span id="__span-59-10"><span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">field</span><span class="p">))</span>
</span><span id="__span-59-11"><span class="c1"># &lt;class &#39;fiftyone.core.fields.StringField&#39;&gt;</span>
</span></code></pre></div>
<p>If your dataset contains a <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.ListField" title="fiftyone.core.fields.ListField"><code>ListField</code></a> with no value type declared, you can add
the type later by appending <code>[]</code> to the field path:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-60-1"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;more_tags&quot;</span><span class="p">)</span>
</span><span id="__span-60-2"><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>  <span class="c1"># None</span>
</span><span id="__span-60-3">
</span><span id="__span-60-4"><span class="c1"># Declare the subfield types of an existing untyped list field</span>
</span><span id="__span-60-5"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;more_tags[]&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">StringField</span><span class="p">)</span>
</span><span id="__span-60-6">
</span><span id="__span-60-7"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;more_tags&quot;</span><span class="p">)</span>
</span><span id="__span-60-8"><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>  <span class="c1"># StringField</span>
</span><span id="__span-60-9">
</span><span id="__span-60-10"><span class="c1"># List fields can also contain embedded documents</span>
</span><span id="__span-60-11"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span>
</span><span id="__span-60-12">    <span class="s2">&quot;info[]&quot;</span><span class="p">,</span>
</span><span id="__span-60-13">    <span class="n">fo</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">,</span>
</span><span id="__span-60-14">    <span class="n">embedded_doc_type</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">DynamicEmbeddedDocument</span><span class="p">,</span>
</span><span id="__span-60-15"><span class="p">)</span>
</span><span id="__span-60-16">
</span><span id="__span-60-17"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;info&quot;</span><span class="p">)</span>
</span><span id="__span-60-18"><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">field</span><span class="p">)</span>  <span class="c1"># EmbeddedDocumentField</span>
</span><span id="__span-60-19"><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">document_type</span><span class="p">)</span>  <span class="c1"># DynamicEmbeddedDocument</span>
</span></code></pre></div>
<p>Note</p>
<p>Declaring the value type of list fields is required if you want to filter
by the list’s values <a href="../app/#app-filtering">in the App</a>.</p>
<h3 id="editing-sample-fields">Editing sample fields <a href="#editing-sample-fields" title="Permalink to this headline">¶</a><a class="headerlink" href="#editing-sample-fields" title="Permanent link">&para;</a></h3>
<p>You can make any edits you wish to the fields of an existing <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-61-1"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>
</span><span id="__span-61-2">    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.jpg&quot;</span><span class="p">,</span>
</span><span id="__span-61-3">    <span class="n">ground_truth</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">Detections</span><span class="p">(</span>
</span><span id="__span-61-4">        <span class="n">detections</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-61-5">            <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;CAT&quot;</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">]),</span>\
</span><span id="__span-61-6">            <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">]),</span>\
</span><span id="__span-61-7">        <span class="p">]</span>
</span><span id="__span-61-8">    <span class="p">)</span>
</span><span id="__span-61-9"><span class="p">)</span>
</span><span id="__span-61-10">
</span><span id="__span-61-11"><span class="n">detections</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">ground_truth</span><span class="o">.</span><span class="n">detections</span>
</span><span id="__span-61-12">
</span><span id="__span-61-13"><span class="c1"># Edit an existing detection</span>
</span><span id="__span-61-14"><span class="n">detections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;cat&quot;</span>
</span><span id="__span-61-15">
</span><span id="__span-61-16"><span class="c1"># Add a new detection</span>
</span><span id="__span-61-17"><span class="n">new_detection</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;animals&quot;</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</span><span id="__span-61-18"><span class="n">detections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_detection</span><span class="p">)</span>
</span><span id="__span-61-19">
</span><span id="__span-61-20"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-61-21">
</span><span id="__span-61-22"><span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># if the sample is in a dataset</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample.save" title="fiftyone.core.sample.Sample.save"><code>sample.save()</code></a> in
order to persist changes to the database when editing samples that are in
datasets.</p>
<p>A common workflow is to iterate over a dataset
<a href="../using_views/#editing-view-fields">or view</a> and edit each sample:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-62-1"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
</span><span id="__span-62-2">    <span class="n">sample</span><span class="p">[</span><span class="s2">&quot;new_field&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">...</span>
</span><span id="__span-62-3">    <span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></code></pre></div>
<p>The <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.iter_samples" title="fiftyone.core.dataset.Dataset.iter_samples"><code>iter_samples()</code></a> method
is an equivalent way to iterate over a dataset that provides a
<code>progress=True</code> option that prints a progress bar tracking the status of the
iteration:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-63-1"><span class="c1"># Prints a progress bar tracking the status of the iteration</span>
</span><span id="__span-63-2"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_samples</span><span class="p">(</span><span class="n">progress</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="__span-63-3">    <span class="n">sample</span><span class="p">[</span><span class="s2">&quot;new_field&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">...</span>
</span><span id="__span-63-4">    <span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></code></pre></div>
<p>The <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.iter_samples" title="fiftyone.core.dataset.Dataset.iter_samples"><code>iter_samples()</code></a> method
also provides an <code>autosave=True</code> option that causes all changes to samples
emitted by the iterator to be automatically saved using efficient batch
updates:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-64-1"><span class="c1"># Automatically saves sample edits in efficient batches</span>
</span><span id="__span-64-2"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">iter_samples</span><span class="p">(</span><span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="__span-64-3">    <span class="n">sample</span><span class="p">[</span><span class="s2">&quot;new_field&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="o">...</span>
</span></code></pre></div>
<p>Using <code>autosave=True</code> can significantly improve performance when editing
large datasets. See <a href="#batch-updates">this section</a> for more information
on batch update patterns.</p>
<h3 id="removing-fields-from-a-sample">Removing fields from a sample <a href="#removing-fields-from-a-sample" title="Permalink to this headline">¶</a><a class="headerlink" href="#removing-fields-from-a-sample" title="Permanent link">&para;</a></h3>
<p>A field can be deleted from a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> using <code>del</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-65-1"><span class="k">del</span> <span class="n">sample</span><span class="p">[</span><span class="s2">&quot;integer_field&quot;</span><span class="p">]</span>
</span></code></pre></div>
<p>If the <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> is not yet in a dataset, deleting a field will remove it from
the sample. If the <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> is in a dataset, the field’s value will be <code>None</code>.</p>
<p>Fields can also be deleted at the <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> level, in which case they are
removed from every <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> in the dataset:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-66-1"><span class="n">dataset</span><span class="o">.</span><span class="n">delete_sample_field</span><span class="p">(</span><span class="s2">&quot;integer_field&quot;</span><span class="p">)</span>
</span><span id="__span-66-2">
</span><span id="__span-66-3"><span class="n">sample</span><span class="o">.</span><span class="n">integer_field</span>
</span><span id="__span-66-4"><span class="c1"># AttributeError: Sample has no field &#39;integer_field&#39;</span>
</span></code></pre></div>
<h3 id="storing-field-metadata">Storing field metadata <a href="#storing-field-metadata" title="Permalink to this headline">¶</a><a class="headerlink" href="#storing-field-metadata" title="Permanent link">&para;</a></h3>
<p>You can store metadata such as descriptions and other info on the fields of
your dataset.</p>
<p>One approach is to manually declare the field with
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_sample_field" title="fiftyone.core.dataset.Dataset.add_sample_field"><code>add_sample_field()</code></a>
with the appropriate metadata provided:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-67-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-67-2">
</span><span id="__span-67-3"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-67-4"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span>
</span><span id="__span-67-5">    <span class="s2">&quot;int_field&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">IntField</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;An integer field&quot;</span>
</span><span id="__span-67-6"><span class="p">)</span>
</span><span id="__span-67-7">
</span><span id="__span-67-8"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;int_field&quot;</span><span class="p">)</span>
</span><span id="__span-67-9"><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>  <span class="c1"># An integer field</span>
</span></code></pre></div>
<p>You can also use
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.get_field" title="fiftyone.core.collections.SampleCollection.get_field"><code>get_field()</code></a> to
retrieve a field and update it’s metadata at any time:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-68-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-68-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-68-3">
</span><span id="__span-68-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-68-5"><span class="n">dataset</span><span class="o">.</span><span class="n">add_dynamic_sample_fields</span><span class="p">()</span>
</span><span id="__span-68-6">
</span><span id="__span-68-7"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">)</span>
</span><span id="__span-68-8"><span class="n">field</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Ground truth annotations&quot;</span>
</span><span id="__span-68-9"><span class="n">field</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://fiftyone.ai&quot;</span><span class="p">}</span>
</span><span id="__span-68-10"><span class="n">field</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-68-11">
</span><span id="__span-68-12"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections.area&quot;</span><span class="p">)</span>
</span><span id="__span-68-13"><span class="n">field</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Area of the box, in pixels^2&quot;</span>
</span><span id="__span-68-14"><span class="n">field</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://fiftyone.ai&quot;</span><span class="p">}</span>
</span><span id="__span-68-15"><span class="n">field</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-68-16">
</span><span id="__span-68-17"><span class="n">dataset</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>
</span><span id="__span-68-18">
</span><span id="__span-68-19"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">)</span>
</span><span id="__span-68-20"><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>  <span class="c1"># Ground truth annotations</span>
</span><span id="__span-68-21"><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>  <span class="c1"># {&#39;url&#39;: &#39;https://fiftyone.ai&#39;}</span>
</span><span id="__span-68-22">
</span><span id="__span-68-23"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections.area&quot;</span><span class="p">)</span>
</span><span id="__span-68-24"><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>  <span class="c1"># Area of the box, in pixels^2</span>
</span><span id="__span-68-25"><span class="nb">print</span><span class="p">(</span><span class="n">field</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>  <span class="c1"># {&#39;url&#39;: &#39;https://fiftyone.ai&#39;}</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call
<a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field.save" title="fiftyone.core.fields.Field.save"><code>field.save()</code></a> after updating
a fields’s <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field.description" title="fiftyone.core.fields.Field.description"><code>description</code></a>
and <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field.info" title="fiftyone.core.fields.Field.info"><code>info</code></a> attributes in-place to
save the changes to the database.</p>
<p>Note</p>
<p>Did you know? You can view field metadata directly in the App by hovering
over fields or attributes <a href="../app/#app-fields-sidebar">in the sidebar</a>!</p>
<h3 id="read-only-fields">Read-only fields <a href="#read-only-fields" title="Permalink to this headline">¶</a><a class="headerlink" href="#read-only-fields" title="Permanent link">&para;</a></h3>
<p>Certain <a href="#default-sample-fields">default sample fields</a> like <code>created_at</code>
and <code>last_modified_at</code> are read-only and thus cannot be manually edited:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-69-1"><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
</span><span id="__span-69-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-69-3">
</span><span id="__span-69-4"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.jpg&quot;</span><span class="p">)</span>
</span><span id="__span-69-5">
</span><span id="__span-69-6"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-69-7"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-69-8">
</span><span id="__span-69-9"><span class="n">sample</span><span class="o">.</span><span class="n">created_at</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
</span><span id="__span-69-10"><span class="c1"># ValueError: Cannot edit read-only field &#39;created_at&#39;</span>
</span><span id="__span-69-11">
</span><span id="__span-69-12"><span class="n">sample</span><span class="o">.</span><span class="n">last_modified_at</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
</span><span id="__span-69-13"><span class="c1"># ValueError: Cannot edit read-only field &#39;last_modified_at&#39;</span>
</span></code></pre></div>
<p>You can also manually mark additional fields or embedded fields as read-only
at any time:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-70-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-70-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-70-3">
</span><span id="__span-70-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-70-5">
</span><span id="__span-70-6"><span class="c1"># Declare a new read-only field</span>
</span><span id="__span-70-7"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;uuid&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">StringField</span><span class="p">,</span> <span class="n">read_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-70-8">
</span><span id="__span-70-9"><span class="c1"># Mark &#39;filepath&#39; as read-only</span>
</span><span id="__span-70-10"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;filepath&quot;</span><span class="p">)</span>
</span><span id="__span-70-11"><span class="n">field</span><span class="o">.</span><span class="n">read_only</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-70-12"><span class="n">field</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-70-13">
</span><span id="__span-70-14"><span class="c1"># Mark a nested field as read-only</span>
</span><span id="__span-70-15"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections.label&quot;</span><span class="p">)</span>
</span><span id="__span-70-16"><span class="n">field</span><span class="o">.</span><span class="n">read_only</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-70-17"><span class="n">field</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-70-18">
</span><span id="__span-70-19"><span class="n">sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-70-20">
</span><span id="__span-70-21"><span class="n">sample</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="s2">&quot;no.jpg&quot;</span>
</span><span id="__span-70-22"><span class="c1"># ValueError: Cannot edit read-only field &#39;filepath&#39;</span>
</span><span id="__span-70-23">
</span><span id="__span-70-24"><span class="n">sample</span><span class="o">.</span><span class="n">ground_truth</span><span class="o">.</span><span class="n">detections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;no&quot;</span>
</span><span id="__span-70-25"><span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-70-26"><span class="c1"># ValueError: Cannot edit read-only field &#39;ground_truth.detections.label&#39;</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call
<a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field.save" title="fiftyone.core.fields.Field.save"><code>field.save()</code></a> after updating
a fields’s <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field.read_only" title="fiftyone.core.fields.Field.read_only"><code>read_only</code></a>
attributes in-place to save the changes to the database.</p>
<p>Note that read-only fields do not interfere with the ability to add/delete
samples from datasets:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-71-1"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.jpg&quot;</span><span class="p">,</span> <span class="n">uuid</span><span class="o">=</span><span class="s2">&quot;1234&quot;</span><span class="p">)</span>
</span><span id="__span-71-2"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-71-3">
</span><span id="__span-71-4"><span class="n">dataset</span><span class="o">.</span><span class="n">delete_samples</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<p>Any fields that you’ve manually marked as read-only may be reverted to
editable at any time:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-72-1"><span class="n">sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-72-2">
</span><span id="__span-72-3"><span class="c1"># Revert &#39;filepath&#39; to editable</span>
</span><span id="__span-72-4"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;filepath&quot;</span><span class="p">)</span>
</span><span id="__span-72-5"><span class="n">field</span><span class="o">.</span><span class="n">read_only</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-72-6"><span class="n">field</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-72-7">
</span><span id="__span-72-8"><span class="c1"># Revert nested field to editable</span>
</span><span id="__span-72-9"><span class="n">field</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections.label&quot;</span><span class="p">)</span>
</span><span id="__span-72-10"><span class="n">field</span><span class="o">.</span><span class="n">read_only</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-72-11"><span class="n">field</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>  <span class="c1"># must save after edits</span>
</span><span id="__span-72-12">
</span><span id="__span-72-13"><span class="n">sample</span><span class="o">.</span><span class="n">filepath</span> <span class="o">=</span> <span class="s2">&quot;yes.jpg&quot;</span>
</span><span id="__span-72-14"><span class="n">sample</span><span class="o">.</span><span class="n">ground_truth</span><span class="o">.</span><span class="n">detections</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;yes&quot;</span>
</span><span id="__span-72-15"><span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></code></pre></div>
<h3 id="summary-fields">Summary fields <a href="#summary-fields" title="Permalink to this headline">¶</a><a class="headerlink" href="#summary-fields" title="Permanent link">&para;</a></h3>
<p>Summary fields allow you to efficiently perform queries on large datasets where
directly querying the underlying field is prohibitively slow due to the number
of objects/frames in the field.</p>
<p>For example, suppose you’re working on a
<a href="#video-datasets">video dataset</a> with frame-level objects, and you’re
interested in finding videos that contain specific classes of interest, eg
<code>person</code>, in at least one frame:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-73-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-73-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-73-3"><span class="kn">from</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="kn">import</span> <span class="n">ViewField</span> <span class="k">as</span> <span class="n">F</span>
</span><span id="__span-73-4">
</span><span id="__span-73-5"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart-video&quot;</span><span class="p">)</span>
</span><span id="__span-73-6"><span class="n">dataset</span><span class="o">.</span><span class="n">set_field</span><span class="p">(</span><span class="s2">&quot;frames.detections.detections.confidence&quot;</span><span class="p">,</span> <span class="n">F</span><span class="o">.</span><span class="n">rand</span><span class="p">())</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-73-7">
</span><span id="__span-73-8"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p><img alt="quickstart-video" src="../../_images/quickstart-video.gif" /></p>
<p>One approach is to directly query the frame-level field ( <code>frames.detections</code>
in this case) in the App’s sidebar. However, when the dataset is large, such
queries are inefficient, as they cannot unlock
<a href="../app/#app-optimizing-query-performance">query performance</a> and thus require
full collection scans over all frames to retrieve the relevant samples.</p>
<p>A more efficient approach is to first use
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.create_summary_field" title="fiftyone.core.dataset.Dataset.create_summary_field"><code>create_summary_field()</code></a>
to summarize the relevant input field path(s):</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-74-1"><span class="c1"># Generate a summary field for object labels</span>
</span><span id="__span-74-2"><span class="n">field_name</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">create_summary_field</span><span class="p">(</span><span class="s2">&quot;frames.detections.detections.label&quot;</span><span class="p">)</span>
</span><span id="__span-74-3">
</span><span id="__span-74-4"><span class="c1"># The name of the summary field that was created</span>
</span><span id="__span-74-5"><span class="nb">print</span><span class="p">(</span><span class="n">field_name</span><span class="p">)</span>
</span><span id="__span-74-6"><span class="c1"># &#39;frames_detections_label&#39;</span>
</span><span id="__span-74-7">
</span><span id="__span-74-8"><span class="c1"># Generate a summary field for [min, max] confidences</span>
</span><span id="__span-74-9"><span class="n">dataset</span><span class="o">.</span><span class="n">create_summary_field</span><span class="p">(</span><span class="s2">&quot;frames.detections.detections.confidence&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>Summary fields can be generated for sample-level and frame-level fields, and
the input fields can be either categorical or numeric:</p>
<p>As the above examples illustrate, summary fields allow you to encode various
types of information at the sample-level that you can directly query to find
samples that contain specific values.</p>
<p>Moreover, summary fields are <a href="../app/#app-optimizing-query-performance">indexed</a>
by default and the App can natively leverage these indexes to provide
performant filtering:</p>
<p><img alt="quickstart-video-summary-fields" src="../../_images/quickstart-video-summary-fields.gif" /></p>
<p>Note</p>
<p>Summary fields are automatically added to a <code>summaries</code> <a href="#dataset-app-config-sidebar-groups">sidebar group</a> in the App for
easy access and organization.</p>
<p>They are also <a href="#read-only-fields">read-only</a> by default, as they are
implicitly derived from the contents of their source field and are not
intended to be directly modified.</p>
<p>You can use
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.list_summary_fields" title="fiftyone.core.dataset.Dataset.list_summary_fields"><code>list_summary_fields()</code></a>
to list the names of the summary fields on your dataset:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-75-1"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">list_summary_fields</span><span class="p">())</span>
</span><span id="__span-75-2"><span class="c1"># [&#39;frames_detections_label&#39;, &#39;frames_detections_confidence&#39;, ...]</span>
</span></code></pre></div>
<p>Since a summary field is derived from the contents of another field, it must be
updated whenever there have been modifications to its source field. You can use
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.check_summary_fields" title="fiftyone.core.dataset.Dataset.check_summary_fields"><code>check_summary_fields()</code></a>
to check for summary fields that <em>may</em> need to be updated:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-76-1"><span class="c1"># Newly created summary fields don&#39;t needed updating</span>
</span><span id="__span-76-2"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">check_summary_fields</span><span class="p">())</span>
</span><span id="__span-76-3"><span class="c1"># []</span>
</span><span id="__span-76-4">
</span><span id="__span-76-5"><span class="c1"># Modify the dataset</span>
</span><span id="__span-76-6"><span class="n">label_upper</span> <span class="o">=</span> <span class="n">F</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
</span><span id="__span-76-7"><span class="n">dataset</span><span class="o">.</span><span class="n">set_field</span><span class="p">(</span><span class="s2">&quot;frames.detections.detections.label&quot;</span><span class="p">,</span> <span class="n">label_upper</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-76-8">
</span><span id="__span-76-9"><span class="c1"># Summary fields now (may) need updating</span>
</span><span id="__span-76-10"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">check_summary_fields</span><span class="p">())</span>
</span><span id="__span-76-11"><span class="c1"># [&#39;frames_detections_label&#39;, &#39;frames_detections_confidence&#39;, ...]</span>
</span></code></pre></div>
<p>Note</p>
<p>Note that inclusion in
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.check_summary_fields" title="fiftyone.core.dataset.Dataset.check_summary_fields"><code>check_summary_fields()</code></a>
is only a heuristic, as any sample modifications <em>may not</em> have affected
the summary’s source field.</p>
<p>Use <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.update_summary_field" title="fiftyone.core.dataset.Dataset.update_summary_field"><code>update_summary_field()</code></a>
to regenerate a summary field based on the current values of its source field:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-77-1"><span class="n">dataset</span><span class="o">.</span><span class="n">update_summary_field</span><span class="p">(</span><span class="s2">&quot;frames_detections_label&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>Finally, use
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.delete_summary_field" title="fiftyone.core.dataset.Dataset.delete_summary_field"><code>delete_summary_field()</code></a>
or <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.delete_summary_fields" title="fiftyone.core.dataset.Dataset.delete_summary_fields"><code>delete_summary_fields()</code></a>
to delete existing summary field(s) that you no longer need:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-78-1"><span class="n">dataset</span><span class="o">.</span><span class="n">delete_summary_field</span><span class="p">(</span><span class="s2">&quot;frames_detections_label&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="media-type">Media type <a href="#media-type" title="Permalink to this headline">¶</a><a class="headerlink" href="#media-type" title="Permanent link">&para;</a></h2>
<p>When a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> is created, its media type is inferred from the <code>filepath</code> to
the source media and available via the <code>media_type</code> attribute of the sample,
which is read-only.</p>
<p>Media type is inferred from the
<a href="https://en.wikipedia.org/wiki/Media_type">MIME type</a> of the file on disk,
as per the table below:</p>
<table>
<thead>
<tr>
<th>MIME type/extension</th>
<th><code>media_type</code></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>image/*</code></td>
<td><code>image</code></td>
<td>Image sample</td>
</tr>
<tr>
<td><code>video/*</code></td>
<td><code>video</code></td>
<td>Video sample</td>
</tr>
<tr>
<td><code>*.fo3d</code></td>
<td><code>3d</code></td>
<td>3D sample</td>
</tr>
<tr>
<td><code>*.pcd</code></td>
<td><code>point-cloud</code></td>
<td>Point cloud sample</td>
</tr>
<tr>
<td>other</td>
<td><code>-</code></td>
<td>Generic sample</td>
</tr>
</tbody>
</table>
<p>Note</p>
<p>The <code>filepath</code> of a sample can be changed after the sample is created, but
the new filepath must have the same media type. In other words,
<code>media_type</code> is immutable.</p>
<h2 id="tags">Tags <a href="#tags" title="Permalink to this headline">¶</a><a class="headerlink" href="#tags" title="Permanent link">&para;</a></h2>
<p>All <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> instances have a <code>tags</code> field, which is a string list. By default,
this list is empty, but you can use it to store information like dataset splits
or application-specific issues like low quality images:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-79-1"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;tagged_dataset&quot;</span><span class="p">)</span>
</span><span id="__span-79-2">
</span><span id="__span-79-3"><span class="n">dataset</span><span class="o">.</span><span class="n">add_samples</span><span class="p">(</span>
</span><span id="__span-79-4">    <span class="p">[</span>\
</span><span id="__span-79-5">        <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image1.png&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">]),</span>\
</span><span id="__span-79-6">        <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image2.png&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;test&quot;</span><span class="p">,</span> <span class="s2">&quot;low_quality&quot;</span><span class="p">]),</span>\
</span><span id="__span-79-7">    <span class="p">]</span>
</span><span id="__span-79-8"><span class="p">)</span>
</span><span id="__span-79-9">
</span><span id="__span-79-10"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">distinct</span><span class="p">(</span><span class="s2">&quot;tags&quot;</span><span class="p">))</span>
</span><span id="__span-79-11"><span class="c1"># [&quot;test&quot;, &quot;low_quality&quot;, &quot;train&quot;]</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can add, edit, and filter by sample tags
<a href="../app/#app-tagging">directly in the App</a>.</p>
<p>The <code>tags</code> field can be used like a standard Python list:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-80-1"><span class="n">sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-80-2"><span class="n">sample</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;new_tag&quot;</span><span class="p">)</span>
</span><span id="__span-80-3"><span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample.save" title="fiftyone.core.sample.Sample.save"><code>sample.save()</code></a> in
order to persist changes to the database when editing samples that are in
datasets.</p>
<p>Datasets and views provide helpful methods such as
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.count_sample_tags" title="fiftyone.core.collections.SampleCollection.count_sample_tags"><code>count_sample_tags()</code></a>,
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.tag_samples" title="fiftyone.core.collections.SampleCollection.tag_samples"><code>tag_samples()</code></a>,
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.untag_samples" title="fiftyone.core.collections.SampleCollection.untag_samples"><code>untag_samples()</code></a>,
and
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.match_tags" title="fiftyone.core.collections.SampleCollection.match_tags"><code>match_tags()</code></a>
that you can use to perform batch queries and edits to sample tags:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-81-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-81-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-81-3">
</span><span id="__span-81-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="__span-81-5"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_sample_tags</span><span class="p">())</span>  <span class="c1"># {&#39;validation&#39;: 200}</span>
</span><span id="__span-81-6">
</span><span id="__span-81-7"><span class="c1"># Tag samples in a view</span>
</span><span id="__span-81-8"><span class="n">test_view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</span><span id="__span-81-9"><span class="n">test_view</span><span class="o">.</span><span class="n">untag_samples</span><span class="p">(</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
</span><span id="__span-81-10"><span class="n">test_view</span><span class="o">.</span><span class="n">tag_samples</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
</span><span id="__span-81-11"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_sample_tags</span><span class="p">())</span>  <span class="c1"># {&#39;validation&#39;: 100, &#39;test&#39;: 100}</span>
</span><span id="__span-81-12">
</span><span id="__span-81-13"><span class="c1"># Create a view containing samples with a specific tag</span>
</span><span id="__span-81-14"><span class="n">validation_view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">match_tags</span><span class="p">(</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
</span><span id="__span-81-15"><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">validation_view</span><span class="p">))</span>  <span class="c1"># 100</span>
</span></code></pre></div>
<h2 id="metadata">Metadata <a href="#metadata" title="Permalink to this headline">¶</a><a class="headerlink" href="#metadata" title="Permanent link">&para;</a></h2>
<p>All <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> instances have a <code>metadata</code> field, which can optionally be
populated with a <a href="../../api/fiftyone.core.metadata.html#fiftyone.core.metadata.Metadata" title="fiftyone.core.metadata.Metadata"><code>Metadata</code></a> instance that stores data type-specific metadata
about the raw data in the sample. The <a href="../app/#fiftyone-app">FiftyOne App</a> and
the <a href="../brain/#fiftyone-brain">FiftyOne Brain</a> will use this provided metadata in
some workflows when it is available.</p>
<h2 id="dates-and-datetimes">Dates and datetimes <a href="#dates-and-datetimes" title="Permalink to this headline">¶</a><a class="headerlink" href="#dates-and-datetimes" title="Permanent link">&para;</a></h2>
<p>You can store date information in FiftyOne datasets by populating fields with
<code>date</code> or <code>datetime</code> values:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-82-1"><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">datetime</span>
</span><span id="__span-82-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-82-3">
</span><span id="__span-82-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-82-5"><span class="n">dataset</span><span class="o">.</span><span class="n">add_samples</span><span class="p">(</span>
</span><span id="__span-82-6">    <span class="p">[</span>\
</span><span id="__span-82-7">        <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>\
</span><span id="__span-82-8">            <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;image1.png&quot;</span><span class="p">,</span>\
</span><span id="__span-82-9">            <span class="n">acquisition_time</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>\
</span><span id="__span-82-10">            <span class="n">acquisition_date</span><span class="o">=</span><span class="n">date</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span>\
</span><span id="__span-82-11">        <span class="p">),</span>\
</span><span id="__span-82-12">        <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>\
</span><span id="__span-82-13">            <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;image2.png&quot;</span><span class="p">,</span>\
</span><span id="__span-82-14">            <span class="n">acquisition_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">(),</span>\
</span><span id="__span-82-15">            <span class="n">acquisition_date</span><span class="o">=</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">(),</span>\
</span><span id="__span-82-16">        <span class="p">),</span>\
</span><span id="__span-82-17">    <span class="p">]</span>
</span><span id="__span-82-18"><span class="p">)</span>
</span><span id="__span-82-19">
</span><span id="__span-82-20"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span><span id="__span-82-21"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can <a href="../using_views/#date-views">create dataset views</a> with
date-based queries!</p>
<p>Internally, FiftyOne stores all dates as UTC timestamps, but you can provide
any valid <code>datetime</code> object when setting a <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.DateTimeField" title="fiftyone.core.fields.DateTimeField"><code>DateTimeField</code></a> of a sample,
including timezone-aware datetimes, which are internally converted to UTC
format for safekeeping.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-83-1"><span class="c1"># A datetime in your local timezone</span>
</span><span id="__span-83-2"><span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">astimezone</span><span class="p">()</span>
</span><span id="__span-83-3">
</span><span id="__span-83-4"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;image.png&quot;</span><span class="p">,</span> <span class="n">acquisition_time</span><span class="o">=</span><span class="n">now</span><span class="p">)</span>
</span><span id="__span-83-5">
</span><span id="__span-83-6"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-83-7"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-83-8">
</span><span id="__span-83-9"><span class="c1"># Samples are singletons, so we reload so `sample` will contain values as</span>
</span><span id="__span-83-10"><span class="c1"># loaded from the database</span>
</span><span id="__span-83-11"><span class="n">dataset</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>
</span><span id="__span-83-12">
</span><span id="__span-83-13"><span class="n">sample</span><span class="o">.</span><span class="n">acquisition_time</span><span class="o">.</span><span class="n">tzinfo</span>  <span class="c1"># None</span>
</span></code></pre></div>
<p>By default, when you access a datetime field of a sample in a dataset, it is
retrieved as a naive <code>datetime</code> instance expressed in UTC format.</p>
<p>However, if you prefer, you can
<a href="../config/#configuring-timezone">configure FiftyOne</a> to load datetime fields as
timezone-aware <code>datetime</code> instances in a timezone of your choice.</p>
<p>Warning</p>
<p>FiftyOne assumes that all <code>datetime</code> instances with no explicit timezone
are stored in UTC format.</p>
<p>Therefore, never use <code>datetime.datetime.now()</code> when populating a datetime
field of a FiftyOne dataset! Instead, use <code>datetime.datetime.utcnow()</code>.</p>
<h2 id="labels">Labels <a href="#labels" title="Permalink to this headline">¶</a><a class="headerlink" href="#labels" title="Permanent link">&para;</a></h2>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> class hierarchy is used to store semantic information about ground
truth or predicted labels in a sample.</p>
<p>Although such information can be stored in custom sample fields
(e.g, in a <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.DictField" title="fiftyone.core.fields.DictField"><code>DictField</code></a>), it is recommended that you store label information in
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> instances so that the <a href="../app/#fiftyone-app">FiftyOne App</a> and the
<a href="../brain/#fiftyone-brain">FiftyOne Brain</a> can visualize and compute on your
labels.</p>
<p>Note</p>
<p>All <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> instances are dynamic! You can add custom fields to your
labels to store custom information:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-84-1"><span class="c1"># Provide some default fields</span>
</span><span id="__span-84-2"><span class="n">label</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="mf">0.98</span><span class="p">)</span>
</span><span id="__span-84-3">
</span><span id="__span-84-4"><span class="c1"># Add custom fields</span>
</span><span id="__span-84-5"><span class="n">label</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-84-6"><span class="n">label</span><span class="p">[</span><span class="s2">&quot;float&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">51.0</span>
</span><span id="__span-84-7"><span class="n">label</span><span class="p">[</span><span class="s2">&quot;list&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</span><span id="__span-84-8"><span class="n">label</span><span class="p">[</span><span class="s2">&quot;bool&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-84-9"><span class="n">label</span><span class="p">[</span><span class="s2">&quot;dict&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="s2">&quot;of&quot;</span><span class="p">,</span> <span class="s2">&quot;values&quot;</span><span class="p">]}</span>
</span></code></pre></div>
<p>You can also <a href="#dynamic-attributes">declare dynamic attributes</a> on your
dataset’s schema, which allows you to enforce type constraints, filter by
these custom attributes <a href="../app/#app-filtering">in the App</a>, and more.</p>
<p>FiftyOne provides a dedicated <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> subclass for many common tasks. The
subsections below describe them.</p>
<h3 id="regression">Regression <a href="#regression" title="Permalink to this headline">¶</a><a class="headerlink" href="#regression" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Regression" title="fiftyone.core.labels.Regression"><code>Regression</code></a> class represents a numeric regression value for an image. The
value itself is stored in the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Regression.value" title="fiftyone.core.labels.Regression.value"><code>value</code></a> attribute of the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Regression" title="fiftyone.core.labels.Regression"><code>Regression</code></a> object. This may be a ground truth value or a model prediction.</p>
<p>The optional
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Regression.confidence" title="fiftyone.core.labels.Regression.confidence"><code>confidence</code></a> attribute can
be used to store a score associated with the model prediction and can be
visualized in the App or used, for example, when
<a href="../evaluation/#evaluating-regressions">evaluating regressions</a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-85-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-85-2">
</span><span id="__span-85-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-85-4">
</span><span id="__span-85-5"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Regression</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">51.0</span><span class="p">)</span>
</span><span id="__span-85-6"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;prediction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mf">42.0</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
</span><span id="__span-85-7">
</span><span id="__span-85-8"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-86-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-86-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-86-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-86-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-86-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-86-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-86-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-86-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-86-9">    <span class="s1">&#39;ground_truth&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Regression</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-86-10">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;616c4bef36297ec40a26d112&#39;</span><span class="p">,</span>
</span><span id="__span-86-11">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-86-12">        <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">51.0</span><span class="p">,</span>
</span><span id="__span-86-13">        <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-86-14">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-86-15">    <span class="s1">&#39;prediction&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-86-16">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;616c4bef36297ec40a26d113&#39;</span><span class="p">,</span>
</span><span id="__span-86-17">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-86-18">        <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-86-19">        <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>
</span><span id="__span-86-20">        <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-86-21">        <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">42.0</span><span class="p">,</span>
</span><span id="__span-86-22">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-86-23"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="classification">Classification <a href="#classification" title="Permalink to this headline">¶</a><a class="headerlink" href="#classification" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classification" title="fiftyone.core.labels.Classification"><code>Classification</code></a> class represents a classification label for an image. The
label itself is stored in the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classification.label" title="fiftyone.core.labels.Classification.label"><code>label</code></a> attribute of the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classification" title="fiftyone.core.labels.Classification"><code>Classification</code></a> object. This may be a ground truth label or a model
prediction.</p>
<p>The optional
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classification.confidence" title="fiftyone.core.labels.Classification.confidence"><code>confidence</code></a> and
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classification.logits" title="fiftyone.core.labels.Classification.logits"><code>logits</code></a> attributes may be
used to store metadata about the model prediction. These additional fields can
be visualized in the App or used by Brain methods, e.g., when
<a href="../brain/#brain-label-mistakes">computing label mistakes</a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-87-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-87-2">
</span><span id="__span-87-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-87-4">
</span><span id="__span-87-5"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;sunny&quot;</span><span class="p">)</span>
</span><span id="__span-87-6"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;prediction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;sunny&quot;</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
</span><span id="__span-87-7">
</span><span id="__span-87-8"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-88-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-88-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-88-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-88-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-88-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-88-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-88-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-88-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-88-9">    <span class="s1">&#39;ground_truth&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-88-10">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8708db2018186b6ef66821&#39;</span><span class="p">,</span>
</span><span id="__span-88-11">        <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;sunny&#39;</span><span class="p">,</span>
</span><span id="__span-88-12">        <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-88-13">        <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-88-14">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-88-15">    <span class="s1">&#39;prediction&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-88-16">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8708db2018186b6ef66822&#39;</span><span class="p">,</span>
</span><span id="__span-88-17">        <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;sunny&#39;</span><span class="p">,</span>
</span><span id="__span-88-18">        <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>
</span><span id="__span-88-19">        <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-88-20">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-88-21"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can <a href="#storing-classes">store class lists</a> for your
models on your datasets.</p>
<h3 id="multilabel-classification">Multilabel classification <a href="#multilabel-classification" title="Permalink to this headline">¶</a><a class="headerlink" href="#multilabel-classification" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classifications" title="fiftyone.core.labels.Classifications"><code>Classifications</code></a> class represents a list of classification labels for an
image. The typical use case is to represent multilabel annotations/predictions
for an image, where multiple labels from a model may apply to a given image.
The labels are stored in a
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classifications.classifications" title="fiftyone.core.labels.Classifications.classifications"><code>classifications</code></a>
attribute of the object, which contains a list of <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classification" title="fiftyone.core.labels.Classification"><code>Classification</code></a> instances.</p>
<p>Metadata about individual labels can be stored in the <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classification" title="fiftyone.core.labels.Classification"><code>Classification</code></a>
instances as usual; additionally, you can optionally store logits for the
overarching model (if applicable) in the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classifications.logits" title="fiftyone.core.labels.Classifications.logits"><code>logits</code></a> attribute of the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Classifications" title="fiftyone.core.labels.Classifications"><code>Classifications</code></a> object.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-89-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-89-2">
</span><span id="__span-89-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-89-4">
</span><span id="__span-89-5"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Classifications</span><span class="p">(</span>
</span><span id="__span-89-6">    <span class="n">classifications</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-89-7">        <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;animal&quot;</span><span class="p">),</span>\
</span><span id="__span-89-8">        <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">),</span>\
</span><span id="__span-89-9">        <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;tabby&quot;</span><span class="p">),</span>\
</span><span id="__span-89-10">    <span class="p">]</span>
</span><span id="__span-89-11"><span class="p">)</span>
</span><span id="__span-89-12"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;prediction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Classifications</span><span class="p">(</span>
</span><span id="__span-89-13">    <span class="n">classifications</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-89-14">        <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;animal&quot;</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="mf">0.99</span><span class="p">),</span>\
</span><span id="__span-89-15">        <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="mf">0.98</span><span class="p">),</span>\
</span><span id="__span-89-16">        <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;tabby&quot;</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="mf">0.72</span><span class="p">),</span>\
</span><span id="__span-89-17">    <span class="p">]</span>
</span><span id="__span-89-18"><span class="p">)</span>
</span><span id="__span-89-19">
</span><span id="__span-89-20"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-90-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-90-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-90-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-90-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-90-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-90-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-90-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-90-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-90-9">    <span class="s1">&#39;ground_truth&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Classifications</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-90-10">        <span class="s1">&#39;classifications&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-90-11">            <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-90-12">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8708f62018186b6ef66823&#39;</span><span class="p">,</span>\
</span><span id="__span-90-13">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;animal&#39;</span><span class="p">,</span>\
</span><span id="__span-90-14">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-90-15">                <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-90-16">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-90-17">            <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-90-18">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8708f62018186b6ef66824&#39;</span><span class="p">,</span>\
</span><span id="__span-90-19">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>\
</span><span id="__span-90-20">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-90-21">                <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-90-22">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-90-23">            <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-90-24">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8708f62018186b6ef66825&#39;</span><span class="p">,</span>\
</span><span id="__span-90-25">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;tabby&#39;</span><span class="p">,</span>\
</span><span id="__span-90-26">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-90-27">                <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-90-28">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-90-29">        <span class="p">],</span>
</span><span id="__span-90-30">        <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-90-31">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-90-32">    <span class="s1">&#39;prediction&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Classifications</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-90-33">        <span class="s1">&#39;classifications&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-90-34">            <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-90-35">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8708f62018186b6ef66826&#39;</span><span class="p">,</span>\
</span><span id="__span-90-36">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;animal&#39;</span><span class="p">,</span>\
</span><span id="__span-90-37">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="mf">0.99</span><span class="p">,</span>\
</span><span id="__span-90-38">                <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-90-39">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-90-40">            <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-90-41">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8708f62018186b6ef66827&#39;</span><span class="p">,</span>\
</span><span id="__span-90-42">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>\
</span><span id="__span-90-43">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="mf">0.98</span><span class="p">,</span>\
</span><span id="__span-90-44">                <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-90-45">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-90-46">            <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-90-47">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8708f62018186b6ef66828&#39;</span><span class="p">,</span>\
</span><span id="__span-90-48">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;tabby&#39;</span><span class="p">,</span>\
</span><span id="__span-90-49">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="mf">0.72</span><span class="p">,</span>\
</span><span id="__span-90-50">                <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-90-51">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-90-52">        <span class="p">],</span>
</span><span id="__span-90-53">        <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-90-54">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-90-55"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can <a href="#storing-classes">store class lists</a> for your
models on your datasets.</p>
<h3 id="object-detection">Object detection <a href="#object-detection" title="Permalink to this headline">¶</a><a class="headerlink" href="#object-detection" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections" title="fiftyone.core.labels.Detections"><code>Detections</code></a> class represents a list of object detections in an image. The
detections are stored in the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections.detections" title="fiftyone.core.labels.Detections.detections"><code>detections</code></a> attribute of
the <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections" title="fiftyone.core.labels.Detections"><code>Detections</code></a> object.</p>
<p>Each individual object detection is represented by a <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection" title="fiftyone.core.labels.Detection"><code>Detection</code></a> object. The
string label of the object should be stored in the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.label" title="fiftyone.core.labels.Detection.label"><code>label</code></a> attribute, and the
bounding box for the object should be stored in the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.bounding_box" title="fiftyone.core.labels.Detection.bounding_box"><code>bounding_box</code></a> attribute.</p>
<p>Note</p>
<p>FiftyOne stores box coordinates as floats in <code>[0, 1]</code> relative to the
dimensions of the image. Bounding boxes are represented by a length-4 list
in the format:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-91-1"><span class="p">[</span><span class="o">&lt;</span><span class="n">top</span><span class="o">-</span><span class="n">left</span><span class="o">-</span><span class="n">x</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">top</span><span class="o">-</span><span class="n">left</span><span class="o">-</span><span class="n">y</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">width</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">height</span><span class="o">&gt;</span><span class="p">]</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? FiftyOne also supports <a href="#d-detections">3D detections</a>!</p>
<p>In the case of model predictions, an optional confidence score for each
detection can be stored in the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.confidence" title="fiftyone.core.labels.Detection.confidence"><code>confidence</code></a> attribute.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-92-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-92-2">
</span><span id="__span-92-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-92-4">
</span><span id="__span-92-5"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detections</span><span class="p">(</span>
</span><span id="__span-92-6">    <span class="n">detections</span><span class="o">=</span><span class="p">[</span><span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">])]</span>
</span><span id="__span-92-7"><span class="p">)</span>
</span><span id="__span-92-8"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;prediction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detections</span><span class="p">(</span>
</span><span id="__span-92-9">    <span class="n">detections</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-92-10">        <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>\
</span><span id="__span-92-11">            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>\
</span><span id="__span-92-12">            <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.480</span><span class="p">,</span> <span class="mf">0.513</span><span class="p">,</span> <span class="mf">0.397</span><span class="p">,</span> <span class="mf">0.288</span><span class="p">],</span>\
</span><span id="__span-92-13">            <span class="n">confidence</span><span class="o">=</span><span class="mf">0.96</span><span class="p">,</span>\
</span><span id="__span-92-14">        <span class="p">),</span>\
</span><span id="__span-92-15">    <span class="p">]</span>
</span><span id="__span-92-16"><span class="p">)</span>
</span><span id="__span-92-17">
</span><span id="__span-92-18"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-93-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-93-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-93-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-93-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-93-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-93-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-93-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-93-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-93-9">    <span class="s1">&#39;ground_truth&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Detections</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-93-10">        <span class="s1">&#39;detections&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-93-11">            <span class="o">&lt;</span><span class="n">Detection</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-93-12">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8709172018186b6ef66829&#39;</span><span class="p">,</span>\
</span><span id="__span-93-13">                <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>\
</span><span id="__span-93-14">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>\
</span><span id="__span-93-15">                <span class="s1">&#39;bounding_box&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>\
</span><span id="__span-93-16">                <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-93-17">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-93-18">                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-93-19">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-93-20">        <span class="p">],</span>
</span><span id="__span-93-21">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-93-22">    <span class="s1">&#39;prediction&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Detections</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-93-23">        <span class="s1">&#39;detections&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-93-24">            <span class="o">&lt;</span><span class="n">Detection</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-93-25">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8709172018186b6ef6682a&#39;</span><span class="p">,</span>\
</span><span id="__span-93-26">                <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>\
</span><span id="__span-93-27">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>\
</span><span id="__span-93-28">                <span class="s1">&#39;bounding_box&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.513</span><span class="p">,</span> <span class="mf">0.397</span><span class="p">,</span> <span class="mf">0.288</span><span class="p">],</span>\
</span><span id="__span-93-29">                <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-93-30">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="mf">0.96</span><span class="p">,</span>\
</span><span id="__span-93-31">                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-93-32">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-93-33">        <span class="p">],</span>
</span><span id="__span-93-34">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-93-35"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can <a href="#storing-classes">store class lists</a> for your
models on your datasets.</p>
<p>Like all <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> types, you can also add custom attributes to your detections
by dynamically adding new fields to each <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection" title="fiftyone.core.labels.Detection"><code>Detection</code></a> instance:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-94-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-94-2">
</span><span id="__span-94-3"><span class="n">detection</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>
</span><span id="__span-94-4">    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>
</span><span id="__span-94-5">    <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
</span><span id="__span-94-6">    <span class="n">age</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span>  <span class="c1"># custom attribute</span>
</span><span id="__span-94-7">    <span class="n">mood</span><span class="o">=</span><span class="s2">&quot;salty&quot;</span><span class="p">,</span>  <span class="c1"># custom attribute</span>
</span><span id="__span-94-8"><span class="p">)</span>
</span><span id="__span-94-9">
</span><span id="__span-94-10"><span class="nb">print</span><span class="p">(</span><span class="n">detection</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-95-1"><span class="o">&lt;</span><span class="n">Detection</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-95-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;60f7458c467d81f41c200551&#39;</span><span class="p">,</span>
</span><span id="__span-95-3">    <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>
</span><span id="__span-95-4">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-95-5">    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>
</span><span id="__span-95-6">    <span class="s1">&#39;bounding_box&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
</span><span id="__span-95-7">    <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-95-8">    <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-95-9">    <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-95-10">    <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">51</span><span class="p">,</span>
</span><span id="__span-95-11">    <span class="s1">&#39;mood&#39;</span><span class="p">:</span> <span class="s1">&#39;salty&#39;</span><span class="p">,</span>
</span><span id="__span-95-12"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can view custom attributes in the
<a href="../app/#app-sample-view">App tooltip</a> by hovering over the objects.</p>
<h3 id="instance-segmentations">Instance segmentations <a href="#instance-segmentations" title="Permalink to this headline">¶</a><a class="headerlink" href="#instance-segmentations" title="Permanent link">&para;</a></h3>
<p>Object detections stored in <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections" title="fiftyone.core.labels.Detections"><code>Detections</code></a> may also have instance segmentation
masks.</p>
<p>These masks can be stored in one of two ways: either directly in the database
via the <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.mask" title="fiftyone.core.labels.Detection.mask"><code>mask</code></a> attribute, or on
disk referenced by the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.mask_path" title="fiftyone.core.labels.Detection.mask_path"><code>mask_path</code></a> attribute.</p>
<p>Masks stored directly in the database must be 2D numpy arrays
containing either booleans or 0/1 integers that encode the extent of the
instance mask within the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.bounding_box" title="fiftyone.core.labels.Detection.bounding_box"><code>bounding_box</code></a> of the
object.</p>
<p>For masks stored on disk, the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.mask_path" title="fiftyone.core.labels.Detection.mask_path"><code>mask_path</code></a> attribute should
contain the file path to the mask image. We recommend storing masks as
single-channel PNG images, where a pixel value of 0 indicates the
background (rendered as transparent in the App), and any other
value indicates the object.</p>
<p>Masks can be of any size; they are stretched as necessary to fill the
object’s bounding box when visualizing in the App.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-96-1"><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-96-2"><span class="kn">from</span><span class="w"> </span><span class="nn">PIL</span><span class="w"> </span><span class="kn">import</span> <span class="n">Image</span>
</span><span id="__span-96-3">
</span><span id="__span-96-4"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-96-5">
</span><span id="__span-96-6"><span class="c1"># Example instance mask</span>
</span><span id="__span-96-7"><span class="n">mask</span> <span class="o">=</span> <span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
</span><span id="__span-96-8"><span class="n">mask_path</span> <span class="o">=</span> <span class="s2">&quot;/path/to/mask.png&quot;</span>
</span><span id="__span-96-9"><span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">mask</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">mask_path</span><span class="p">)</span>
</span><span id="__span-96-10">
</span><span id="__span-96-11"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-96-12">
</span><span id="__span-96-13"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;prediction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detections</span><span class="p">(</span>
</span><span id="__span-96-14">    <span class="n">detections</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-96-15">        <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>\
</span><span id="__span-96-16">            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>\
</span><span id="__span-96-17">            <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.480</span><span class="p">,</span> <span class="mf">0.513</span><span class="p">,</span> <span class="mf">0.397</span><span class="p">,</span> <span class="mf">0.288</span><span class="p">],</span>\
</span><span id="__span-96-18">            <span class="n">mask_path</span><span class="o">=</span><span class="n">mask_path</span><span class="p">,</span>\
</span><span id="__span-96-19">            <span class="n">confidence</span><span class="o">=</span><span class="mf">0.96</span><span class="p">,</span>\
</span><span id="__span-96-20">        <span class="p">),</span>\
</span><span id="__span-96-21">    <span class="p">]</span>
</span><span id="__span-96-22"><span class="p">)</span>
</span><span id="__span-96-23">
</span><span id="__span-96-24"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-97-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-97-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-97-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-97-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-97-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-97-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-97-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-97-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-97-9">    <span class="s1">&#39;prediction&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Detections</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-97-10">        <span class="s1">&#39;detections&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-97-11">            <span class="o">&lt;</span><span class="n">Detection</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-97-12">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8709282018186b6ef6682b&#39;</span><span class="p">,</span>\
</span><span id="__span-97-13">                <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>\
</span><span id="__span-97-14">                <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>\
</span><span id="__span-97-15">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>\
</span><span id="__span-97-16">                <span class="s1">&#39;bounding_box&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.513</span><span class="p">,</span> <span class="mf">0.397</span><span class="p">,</span> <span class="mf">0.288</span><span class="p">],</span>\
</span><span id="__span-97-17">                <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-97-18">                <span class="s1">&#39;mask_path&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/mask.png&#39;</span><span class="p">,</span>\
</span><span id="__span-97-19">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="mf">0.96</span><span class="p">,</span>\
</span><span id="__span-97-20">                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-97-21">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-97-22">        <span class="p">],</span>
</span><span id="__span-97-23">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-97-24"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Like all <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> types, you can also add custom attributes to your instance
segmentations by dynamically adding new fields to each <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection" title="fiftyone.core.labels.Detection"><code>Detection</code></a> instance:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-98-1"><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-98-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-98-3">
</span><span id="__span-98-4"><span class="n">detection</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>
</span><span id="__span-98-5">    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>
</span><span id="__span-98-6">    <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
</span><span id="__span-98-7">    <span class="n">mask_path</span><span class="o">=</span><span class="s2">&quot;/path/to/mask.png&quot;</span><span class="p">,</span>
</span><span id="__span-98-8">    <span class="n">age</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span>  <span class="c1"># custom attribute</span>
</span><span id="__span-98-9">    <span class="n">mood</span><span class="o">=</span><span class="s2">&quot;salty&quot;</span><span class="p">,</span>  <span class="c1"># custom attribute</span>
</span><span id="__span-98-10"><span class="p">)</span>
</span><span id="__span-98-11">
</span><span id="__span-98-12"><span class="nb">print</span><span class="p">(</span><span class="n">detection</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-99-1"><span class="o">&lt;</span><span class="n">Detection</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-99-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;60f74568467d81f41c200550&#39;</span><span class="p">,</span>
</span><span id="__span-99-3">    <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>
</span><span id="__span-99-4">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-99-5">    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>
</span><span id="__span-99-6">    <span class="s1">&#39;bounding_box&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>
</span><span id="__span-99-7">    <span class="s1">&#39;mask_path&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/mask.png&#39;</span><span class="p">,</span>
</span><span id="__span-99-8">    <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-99-9">    <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-99-10">    <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">51</span><span class="p">,</span>
</span><span id="__span-99-11">    <span class="s1">&#39;mood&#39;</span><span class="p">:</span> <span class="s1">&#39;salty&#39;</span><span class="p">,</span>
</span><span id="__span-99-12"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can view custom attributes in the
<a href="../app/#app-sample-view">App tooltip</a> by hovering over the objects.</p>
<h3 id="polylines-and-polygons">Polylines and polygons <a href="#polylines-and-polygons" title="Permalink to this headline">¶</a><a class="headerlink" href="#polylines-and-polygons" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polylines" title="fiftyone.core.labels.Polylines"><code>Polylines</code></a> class represents a list of
<a href="https://en.wikipedia.org/wiki/Polygonal_chain">polylines</a> or
<a href="https://en.wikipedia.org/wiki/Polygon">polygons</a> in an image. The polylines
are stored in the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polylines.polylines" title="fiftyone.core.labels.Polylines.polylines"><code>polylines</code></a> attribute of the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polylines" title="fiftyone.core.labels.Polylines"><code>Polylines</code></a> object.</p>
<p>Each individual polyline is represented by a <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline" title="fiftyone.core.labels.Polyline"><code>Polyline</code></a> object, which
represents a set of one or more semantically related shapes in an image. The
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline.points" title="fiftyone.core.labels.Polyline.points"><code>points</code></a> attribute contains a
list of lists of <code>(x, y)</code> coordinates defining the vertices of each shape
in the polyline. If the polyline represents a closed curve, you can set the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline.closed" title="fiftyone.core.labels.Polyline.closed"><code>closed</code></a> attribute to <code>True</code> to
indicate that a line segment should be drawn from the last vertex to the first
vertex of each shape in the polyline. If the shapes should be filled when
rendering them, you can set the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline.filled" title="fiftyone.core.labels.Polyline.filled"><code>filled</code></a> attribute to <code>True</code>.
Polylines can also have string labels, which are stored in their
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline.label" title="fiftyone.core.labels.Polyline.label"><code>label</code></a> attribute.</p>
<p>Note</p>
<p>FiftyOne stores vertex coordinates as floats in <code>[0, 1]</code> relative to the
dimensions of the image.</p>
<p>Note</p>
<p>Did you know? FiftyOne also supports <a href="#d-polylines">3D polylines</a>!</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-100-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-100-2">
</span><span id="__span-100-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-100-4">
</span><span id="__span-100-5"><span class="c1"># A simple polyline</span>
</span><span id="__span-100-6"><span class="n">polyline1</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Polyline</span><span class="p">(</span>
</span><span id="__span-100-7">    <span class="n">points</span><span class="o">=</span><span class="p">[[(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)]],</span>
</span><span id="__span-100-8">    <span class="n">closed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="__span-100-9">    <span class="n">filled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="__span-100-10"><span class="p">)</span>
</span><span id="__span-100-11">
</span><span id="__span-100-12"><span class="c1"># A closed, filled polygon with a label</span>
</span><span id="__span-100-13"><span class="n">polyline2</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Polyline</span><span class="p">(</span>
</span><span id="__span-100-14">    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;triangle&quot;</span><span class="p">,</span>
</span><span id="__span-100-15">    <span class="n">points</span><span class="o">=</span><span class="p">[[(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)]],</span>
</span><span id="__span-100-16">    <span class="n">closed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-100-17">    <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-100-18"><span class="p">)</span>
</span><span id="__span-100-19">
</span><span id="__span-100-20"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;polylines&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Polylines</span><span class="p">(</span><span class="n">polylines</span><span class="o">=</span><span class="p">[</span><span class="n">polyline1</span><span class="p">,</span> <span class="n">polyline2</span><span class="p">])</span>
</span><span id="__span-100-21">
</span><span id="__span-100-22"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-101-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-101-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-101-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-101-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-101-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-101-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-101-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-101-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-101-9">    <span class="s1">&#39;polylines&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Polylines</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-101-10">        <span class="s1">&#39;polylines&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-101-11">            <span class="o">&lt;</span><span class="n">Polyline</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-101-12">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f87094e2018186b6ef6682e&#39;</span><span class="p">,</span>\
</span><span id="__span-101-13">                <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>\
</span><span id="__span-101-14">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-101-15">                <span class="s1">&#39;points&#39;</span><span class="p">:</span> <span class="p">[[(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)]],</span>\
</span><span id="__span-101-16">                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-101-17">                <span class="s1">&#39;closed&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>\
</span><span id="__span-101-18">                <span class="s1">&#39;filled&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>\
</span><span id="__span-101-19">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-101-20">            <span class="o">&lt;</span><span class="n">Polyline</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-101-21">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f87094e2018186b6ef6682f&#39;</span><span class="p">,</span>\
</span><span id="__span-101-22">                <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>\
</span><span id="__span-101-23">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;triangle&#39;</span><span class="p">,</span>\
</span><span id="__span-101-24">                <span class="s1">&#39;points&#39;</span><span class="p">:</span> <span class="p">[[(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)]],</span>\
</span><span id="__span-101-25">                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-101-26">                <span class="s1">&#39;closed&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>\
</span><span id="__span-101-27">                <span class="s1">&#39;filled&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>\
</span><span id="__span-101-28">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-101-29">        <span class="p">],</span>
</span><span id="__span-101-30">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-101-31"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Like all <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> types, you can also add custom attributes to your polylines by
dynamically adding new fields to each <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline" title="fiftyone.core.labels.Polyline"><code>Polyline</code></a> instance:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-102-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-102-2">
</span><span id="__span-102-3"><span class="n">polyline</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Polyline</span><span class="p">(</span>
</span><span id="__span-102-4">    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;triangle&quot;</span><span class="p">,</span>
</span><span id="__span-102-5">    <span class="n">points</span><span class="o">=</span><span class="p">[[(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)]],</span>
</span><span id="__span-102-6">    <span class="n">closed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-102-7">    <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-102-8">    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="p">,</span>  <span class="c1"># custom attribute</span>
</span><span id="__span-102-9"><span class="p">)</span>
</span><span id="__span-102-10">
</span><span id="__span-102-11"><span class="nb">print</span><span class="p">(</span><span class="n">polyline</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-103-1"><span class="o">&lt;</span><span class="n">Polyline</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-103-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;60f746b4467d81f41c200555&#39;</span><span class="p">,</span>
</span><span id="__span-103-3">    <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>
</span><span id="__span-103-4">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-103-5">    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;triangle&#39;</span><span class="p">,</span>
</span><span id="__span-103-6">    <span class="s1">&#39;points&#39;</span><span class="p">:</span> <span class="p">[[(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">)]],</span>
</span><span id="__span-103-7">    <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-103-8">    <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-103-9">    <span class="s1">&#39;closed&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-103-10">    <span class="s1">&#39;filled&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span><span id="__span-103-11">    <span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;right&#39;</span><span class="p">,</span>
</span><span id="__span-103-12"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can view custom attributes in the
<a href="../app/#app-sample-view">App tooltip</a> by hovering over the objects.</p>
<h3 id="cuboids">Cuboids <a href="#cuboids" title="Permalink to this headline">¶</a><a class="headerlink" href="#cuboids" title="Permanent link">&para;</a></h3>
<p>You can store and visualize cuboids in FiftyOne using the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline.from_cuboid" title="fiftyone.core.labels.Polyline.from_cuboid"><code>Polyline.from_cuboid()</code></a>
method.</p>
<p>The method accepts a list of 8 <code>(x, y)</code> points describing the vertices of the
cuboid in the format depicted below:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-104-1">   <span class="mi">7</span><span class="o">--------</span><span class="mi">6</span>
</span><span id="__span-104-2">  <span class="o">/|</span>       <span class="o">/|</span>
</span><span id="__span-104-3"> <span class="o">/</span> <span class="o">|</span>      <span class="o">/</span> <span class="o">|</span>
</span><span id="__span-104-4"><span class="mi">3</span><span class="o">--------</span><span class="mi">2</span>  <span class="o">|</span>
</span><span id="__span-104-5"><span class="o">|</span>  <span class="mi">4</span><span class="o">-----|--</span><span class="mi">5</span>
</span><span id="__span-104-6"><span class="o">|</span> <span class="o">/</span>      <span class="o">|</span> <span class="o">/</span>
</span><span id="__span-104-7"><span class="o">|/</span>       <span class="o">|/</span>
</span><span id="__span-104-8"><span class="mi">0</span><span class="o">--------</span><span class="mi">1</span>
</span></code></pre></div>
<p>Note</p>
<p>FiftyOne stores vertex coordinates as floats in <code>[0, 1]</code> relative to the
dimensions of the image.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-105-1"><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
</span><span id="__span-105-2"><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-105-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-105-4">
</span><span id="__span-105-5"><span class="k">def</span><span class="w"> </span><span class="nf">random_cuboid</span><span class="p">(</span><span class="n">frame_size</span><span class="p">):</span>
</span><span id="__span-105-6">    <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">frame_size</span>
</span><span id="__span-105-7">    <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">])</span> <span class="o">*</span> <span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.8</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</span><span id="__span-105-8">    <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mf">0.8</span> <span class="o">*</span> <span class="n">width</span> <span class="o">-</span> <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span> <span class="o">-</span> <span class="mf">0.2</span> <span class="o">*</span> <span class="n">height</span><span class="p">))</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-105-9">    <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">x0</span> <span class="o">+</span> <span class="n">dx</span><span class="p">,</span> <span class="n">y0</span> <span class="o">-</span> <span class="n">dy</span>
</span><span id="__span-105-10">    <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">width</span> <span class="o">-</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">))</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-105-11">    <span class="n">front</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">),</span> <span class="p">(</span><span class="n">x0</span> <span class="o">+</span> <span class="n">w</span><span class="p">,</span> <span class="n">y0</span><span class="p">),</span> <span class="p">(</span><span class="n">x0</span> <span class="o">+</span> <span class="n">w</span><span class="p">,</span> <span class="n">y0</span> <span class="o">-</span> <span class="n">h</span><span class="p">),</span> <span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span> <span class="o">-</span> <span class="n">h</span><span class="p">)]</span>
</span><span id="__span-105-12">    <span class="n">back</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x1</span> <span class="o">+</span> <span class="n">w</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x1</span> <span class="o">+</span> <span class="n">w</span><span class="p">,</span> <span class="n">y1</span> <span class="o">-</span> <span class="n">h</span><span class="p">),</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">-</span> <span class="n">h</span><span class="p">)]</span>
</span><span id="__span-105-13">    <span class="n">vertices</span> <span class="o">=</span> <span class="n">front</span> <span class="o">+</span> <span class="n">back</span>
</span><span id="__span-105-14">    <span class="k">return</span> <span class="n">fo</span><span class="o">.</span><span class="n">Polyline</span><span class="o">.</span><span class="n">from_cuboid</span><span class="p">(</span>
</span><span id="__span-105-15">        <span class="n">vertices</span><span class="p">,</span> <span class="n">frame_size</span><span class="o">=</span><span class="n">frame_size</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cuboid&quot;</span>
</span><span id="__span-105-16">    <span class="p">)</span>
</span><span id="__span-105-17">
</span><span id="__span-105-18"><span class="n">frame_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
</span><span id="__span-105-19">
</span><span id="__span-105-20"><span class="n">filepath</span> <span class="o">=</span> <span class="s2">&quot;/tmp/image.png&quot;</span>
</span><span id="__span-105-21"><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">frame_size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">frame_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="__span-105-22"><span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">))</span>
</span><span id="__span-105-23">
</span><span id="__span-105-24"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;cuboids&quot;</span><span class="p">)</span>
</span><span id="__span-105-25"><span class="n">dataset</span><span class="o">.</span><span class="n">add_samples</span><span class="p">(</span>
</span><span id="__span-105-26">    <span class="p">[</span>\
</span><span id="__span-105-27">        <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">filepath</span><span class="p">,</span> <span class="n">cuboid</span><span class="o">=</span><span class="n">random_cuboid</span><span class="p">(</span><span class="n">frame_size</span><span class="p">))</span>\
</span><span id="__span-105-28">        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">51</span><span class="p">)]</span>
</span><span id="__span-105-29"><span class="p">)</span>
</span><span id="__span-105-30">
</span><span id="__span-105-31"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p><img alt="cuboids" src="../../_images/cuboids.png" /></p>
<p>Like all <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> types, you can also add custom attributes to your cuboids by
dynamically adding new fields to each <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline" title="fiftyone.core.labels.Polyline"><code>Polyline</code></a> instance:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-106-1"><span class="n">polyline</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Polyline</span><span class="o">.</span><span class="n">from_cuboid</span><span class="p">(</span>
</span><span id="__span-106-2">    <span class="n">vertics</span><span class="p">,</span> <span class="n">frame_size</span><span class="o">=</span><span class="n">frame_size</span><span class="p">,</span>
</span><span id="__span-106-3">    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;vehicle&quot;</span><span class="p">,</span>
</span><span id="__span-106-4">    <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-106-5">    <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;sedan&quot;</span><span class="p">,</span>  <span class="c1"># custom attribute</span>
</span><span id="__span-106-6"><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can view custom attributes in the
<a href="../app/#app-sample-view">App tooltip</a> by hovering over the objects.</p>
<h3 id="rotated-bounding-boxes">Rotated bounding boxes <a href="#rotated-bounding-boxes" title="Permalink to this headline">¶</a><a class="headerlink" href="#rotated-bounding-boxes" title="Permanent link">&para;</a></h3>
<p>You can store and visualize rotated bounding boxes in FiftyOne using the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline.from_rotated_box" title="fiftyone.core.labels.Polyline.from_rotated_box"><code>Polyline.from_rotated_box()</code></a>
method, which accepts rotated boxes described by their center coordinates,
width/height, and counter-clockwise rotation, in radians.</p>
<p>Note</p>
<p>FiftyOne stores vertex coordinates as floats in <code>[0, 1]</code> relative to the
dimensions of the image.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-107-1"><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
</span><span id="__span-107-2"><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-107-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-107-4">
</span><span id="__span-107-5"><span class="k">def</span><span class="w"> </span><span class="nf">random_rotated_box</span><span class="p">(</span><span class="n">frame_size</span><span class="p">):</span>
</span><span id="__span-107-6">    <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">frame_size</span>
</span><span id="__span-107-7">    <span class="n">xc</span><span class="p">,</span> <span class="n">yc</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">])</span> <span class="o">*</span> <span class="p">(</span><span class="mf">0.2</span> <span class="o">+</span> <span class="mf">0.6</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</span><span id="__span-107-8">    <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="mf">1.5</span> <span class="o">*</span> <span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">xc</span><span class="p">,</span> <span class="n">yc</span><span class="p">,</span> <span class="n">width</span> <span class="o">-</span> <span class="n">xc</span><span class="p">,</span> <span class="n">height</span> <span class="o">-</span> <span class="n">yc</span><span class="p">))</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-107-9">    <span class="n">theta</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">()</span>
</span><span id="__span-107-10">    <span class="k">return</span> <span class="n">fo</span><span class="o">.</span><span class="n">Polyline</span><span class="o">.</span><span class="n">from_rotated_box</span><span class="p">(</span>
</span><span id="__span-107-11">        <span class="n">xc</span><span class="p">,</span> <span class="n">yc</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">frame_size</span><span class="o">=</span><span class="n">frame_size</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;box&quot;</span>
</span><span id="__span-107-12">    <span class="p">)</span>
</span><span id="__span-107-13">
</span><span id="__span-107-14"><span class="n">frame_size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
</span><span id="__span-107-15">
</span><span id="__span-107-16"><span class="n">filepath</span> <span class="o">=</span> <span class="s2">&quot;/tmp/image.png&quot;</span>
</span><span id="__span-107-17"><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">frame_size</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">frame_size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
</span><span id="__span-107-18"><span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">))</span>
</span><span id="__span-107-19">
</span><span id="__span-107-20"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="s2">&quot;rotated-boxes&quot;</span><span class="p">)</span>
</span><span id="__span-107-21"><span class="n">dataset</span><span class="o">.</span><span class="n">add_samples</span><span class="p">(</span>
</span><span id="__span-107-22">    <span class="p">[</span>\
</span><span id="__span-107-23">        <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">filepath</span><span class="p">,</span> <span class="n">box</span><span class="o">=</span><span class="n">random_rotated_box</span><span class="p">(</span><span class="n">frame_size</span><span class="p">))</span>\
</span><span id="__span-107-24">        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">51</span><span class="p">)</span>\
</span><span id="__span-107-25">    <span class="p">]</span>
</span><span id="__span-107-26"><span class="p">)</span>
</span><span id="__span-107-27">
</span><span id="__span-107-28"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p><img alt="rotated-bounding-boxes" src="../../_images/rotated-bounding-boxes.png" /></p>
<p>Like all <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> types, you can also add custom attributes to your rotated
bounding boxes by dynamically adding new fields to each <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline" title="fiftyone.core.labels.Polyline"><code>Polyline</code></a> instance:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-108-1"><span class="n">polyline</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Polyline</span><span class="o">.</span><span class="n">from_rotated_box</span><span class="p">(</span>
</span><span id="__span-108-2">    <span class="n">xc</span><span class="p">,</span> <span class="n">yc</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">theta</span><span class="p">,</span> <span class="n">frame_size</span><span class="o">=</span><span class="n">frame_size</span><span class="p">,</span>
</span><span id="__span-108-3">    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>
</span><span id="__span-108-4">    <span class="n">mood</span><span class="o">=</span><span class="s2">&quot;surly&quot;</span><span class="p">,</span>  <span class="c1"># custom attribute</span>
</span><span id="__span-108-5"><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can view custom attributes in the
<a href="../app/#app-sample-view">App tooltip</a> by hovering over the objects.</p>
<h3 id="keypoints">Keypoints <a href="#keypoints" title="Permalink to this headline">¶</a><a class="headerlink" href="#keypoints" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoints" title="fiftyone.core.labels.Keypoints"><code>Keypoints</code></a> class represents a collection of keypoint groups in an image.
The keypoint groups are stored in the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoints.keypoints" title="fiftyone.core.labels.Keypoints.keypoints"><code>keypoints</code></a> attribute of the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoints" title="fiftyone.core.labels.Keypoints"><code>Keypoints</code></a> object. Each element of this list is a <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a> object whose
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint.points" title="fiftyone.core.labels.Keypoint.points"><code>points</code></a> attribute contains a
list of <code>(x, y)</code> coordinates defining a group of semantically related
keypoints in the image.</p>
<p>For example, if you are working with a person model that outputs 18 keypoints
( <code>left eye</code>, <code>right eye</code>, <code>nose</code>, etc.) per person, then each <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a>
instance would represent one person, and a <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoints" title="fiftyone.core.labels.Keypoints"><code>Keypoints</code></a> instance would represent
the list of people in the image.</p>
<p>Note</p>
<p>FiftyOne stores keypoint coordinates as floats in <code>[0, 1]</code> relative to the
dimensions of the image.</p>
<p>Each <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a> object can have a string label, which is stored in its
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint.label" title="fiftyone.core.labels.Keypoint.label"><code>label</code></a> attribute, and it can
optionally have a list of per-point confidences in <code>[0, 1]</code> in its
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint.confidence" title="fiftyone.core.labels.Keypoint.confidence"><code>confidence</code></a> attribute:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-109-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-109-2">
</span><span id="__span-109-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-109-4">
</span><span id="__span-109-5"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;keypoints&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Keypoints</span><span class="p">(</span>
</span><span id="__span-109-6">    <span class="n">keypoints</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-109-7">        <span class="n">fo</span><span class="o">.</span><span class="n">Keypoint</span><span class="p">(</span>\
</span><span id="__span-109-8">            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span>\
</span><span id="__span-109-9">            <span class="n">points</span><span class="o">=</span><span class="p">[(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)],</span>\
</span><span id="__span-109-10">            <span class="n">confidence</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>\
</span><span id="__span-109-11">        <span class="p">)</span>\
</span><span id="__span-109-12">    <span class="p">]</span>
</span><span id="__span-109-13"><span class="p">)</span>
</span><span id="__span-109-14">
</span><span id="__span-109-15"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-110-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-110-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-110-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-110-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-110-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-110-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-110-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-110-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-110-9">    <span class="s1">&#39;keypoints&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Keypoints</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-110-10">        <span class="s1">&#39;keypoints&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-110-11">            <span class="o">&lt;</span><span class="n">Keypoint</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-110-12">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;5f8709702018186b6ef66831&#39;</span><span class="p">,</span>\
</span><span id="__span-110-13">                <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>\
</span><span id="__span-110-14">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;square&#39;</span><span class="p">,</span>\
</span><span id="__span-110-15">                <span class="s1">&#39;points&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)],</span>\
</span><span id="__span-110-16">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>\
</span><span id="__span-110-17">                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-110-18">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-110-19">        <span class="p">],</span>
</span><span id="__span-110-20">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-110-21"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Like all <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> types, you can also add custom attributes to your keypoints by
dynamically adding new fields to each <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a> instance. As a special case,
if you add a custom list attribute to a <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a> instance whose length
matches the number of points, these values will be interpreted as per-point
attributes and rendered as such in the App:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-111-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-111-2">
</span><span id="__span-111-3"><span class="n">keypoint</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Keypoint</span><span class="p">(</span>
</span><span id="__span-111-4">    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;rectangle&quot;</span><span class="p">,</span>
</span><span id="__span-111-5">    <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">,</span>  <span class="c1"># custom object attribute</span>
</span><span id="__span-111-6">    <span class="n">points</span><span class="o">=</span><span class="p">[(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)],</span>
</span><span id="__span-111-7">    <span class="n">confidence</span><span class="o">=</span><span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
</span><span id="__span-111-8">    <span class="n">occluded</span><span class="o">=</span><span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>  <span class="c1"># custom per-point attributes</span>
</span><span id="__span-111-9"><span class="p">)</span>
</span><span id="__span-111-10">
</span><span id="__span-111-11"><span class="nb">print</span><span class="p">(</span><span class="n">keypoint</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-112-1"><span class="o">&lt;</span><span class="n">Keypoint</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-112-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;60f74723467d81f41c200556&#39;</span><span class="p">,</span>
</span><span id="__span-112-3">    <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>
</span><span id="__span-112-4">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-112-5">    <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;rectangle&#39;</span><span class="p">,</span>
</span><span id="__span-112-6">    <span class="s1">&#39;points&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)],</span>
</span><span id="__span-112-7">    <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
</span><span id="__span-112-8">    <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-112-9">    <span class="s1">&#39;kind&#39;</span><span class="p">:</span> <span class="s1">&#39;square&#39;</span><span class="p">,</span>
</span><span id="__span-112-10">    <span class="s1">&#39;occluded&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">],</span>
</span><span id="__span-112-11"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>If your keypoints have semantic meanings, you can
<a href="#storing-keypoint-skeletons">store keypoint skeletons</a> on your dataset to
encode the meanings.</p>
<p>If you are working with keypoint skeletons and a particular point is missing or
not visible for an instance, use nan values for its coordinates:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-113-1"><span class="n">keypoint</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Keypoint</span><span class="p">(</span>
</span><span id="__span-113-2">    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;rectangle&quot;</span><span class="p">,</span>
</span><span id="__span-113-3">    <span class="n">points</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-113-4">        <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span>\
</span><span id="__span-113-5">        <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s2">&quot;nan&quot;</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="s2">&quot;nan&quot;</span><span class="p">)),</span>  <span class="c1"># use nan to encode missing points\</span>
</span><span id="__span-113-6">        <span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span>\
</span><span id="__span-113-7">        <span class="p">(</span><span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">),</span>\
</span><span id="__span-113-8">    <span class="p">],</span>
</span><span id="__span-113-9"><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? When you view datasets with
<a href="#storing-keypoint-skeletons">keypoint skeletons</a> in the App, label
strings and edges will be drawn when you visualize the keypoint fields.</p>
<h3 id="semantic-segmentation">Semantic segmentation <a href="#semantic-segmentation" title="Permalink to this headline">¶</a><a class="headerlink" href="#semantic-segmentation" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation" title="fiftyone.core.labels.Segmentation"><code>Segmentation</code></a> class represents a semantic segmentation mask for an image
with integer values encoding the semantic labels for each pixel in the image.</p>
<p>The mask can either be stored on disk and referenced via the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation.mask_path" title="fiftyone.core.labels.Segmentation.mask_path"><code>mask_path</code></a> attribute or
stored directly in the database via the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation.mask" title="fiftyone.core.labels.Segmentation.mask"><code>mask</code></a> attribute.</p>
<p>Note</p>
<p>It is recommended to store segmentations on disk and reference them via the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation.mask_path" title="fiftyone.core.labels.Segmentation.mask_path"><code>mask_path</code></a> attribute,
for efficiency.</p>
<p>Note that <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation.mask_path" title="fiftyone.core.labels.Segmentation.mask_path"><code>mask_path</code></a>
must contain the <strong>absolute path</strong> to the mask on disk in order to use the
dataset from different current working directories in the future.</p>
<p>Segmentation masks can be stored in either of these formats:</p>
<ul>
<li>
<p>2D 8-bit or 16-bit images or numpy arrays</p>
</li>
<li>
<p>3D 8-bit RGB images or numpy arrays</p>
</li>
</ul>
<p>Segmentation masks can have any size; they are stretched as necessary to fit
the image’s extent when visualizing in the App.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-114-1"><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
</span><span id="__span-114-2"><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-114-3">
</span><span id="__span-114-4"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-114-5">
</span><span id="__span-114-6"><span class="c1"># Example segmentation mask</span>
</span><span id="__span-114-7"><span class="n">mask_path</span> <span class="o">=</span> <span class="s2">&quot;/tmp/segmentation.png&quot;</span>
</span><span id="__span-114-8"><span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
</span><span id="__span-114-9"><span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="n">mask_path</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>
</span><span id="__span-114-10">
</span><span id="__span-114-11"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-114-12"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;segmentation1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Segmentation</span><span class="p">(</span><span class="n">mask_path</span><span class="o">=</span><span class="n">mask_path</span><span class="p">)</span>
</span><span id="__span-114-13"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;segmentation2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Segmentation</span><span class="p">(</span><span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
</span><span id="__span-114-14">
</span><span id="__span-114-15"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-115-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-115-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-115-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-115-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-115-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-115-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-115-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-115-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-115-9">    <span class="s1">&#39;segmentation1&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Segmentation</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-115-10">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6371d72425de9907b93b2a6b&#39;</span><span class="p">,</span>
</span><span id="__span-115-11">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-115-12">        <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-115-13">        <span class="s1">&#39;mask_path&#39;</span><span class="p">:</span> <span class="s1">&#39;/tmp/segmentation.png&#39;</span><span class="p">,</span>
</span><span id="__span-115-14">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-115-15">    <span class="s1">&#39;segmentation2&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Segmentation</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-115-16">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6371d72425de9907b93b2a6c&#39;</span><span class="p">,</span>
</span><span id="__span-115-17">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-115-18">        <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>\
</span><span id="__span-115-19">               <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>\
</span><span id="__span-115-20">               <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>\
</span><span id="__span-115-21">               <span class="o">...</span><span class="p">,</span>\
</span><span id="__span-115-22">               <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>\
</span><span id="__span-115-23">               <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>\
</span><span id="__span-115-24">               <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span>
</span><span id="__span-115-25">        <span class="s1">&#39;mask_path&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-115-26">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-115-27"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>When you load datasets with <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation" title="fiftyone.core.labels.Segmentation"><code>Segmentation</code></a> fields containing 2D masks in the
App, each pixel value is rendered as a different color (if possible) from the
App’s color pool. When you view RGB segmentation masks in the App, the mask
colors are always used.</p>
<p>Note</p>
<p>Did you know? You can <a href="#storing-mask-targets">store semantic labels</a>
for your segmentation fields on your dataset. Then, when you view the
dataset in the App, label strings will appear in the App’s tooltip when you
hover over pixels.</p>
<p>Note</p>
<p>The pixel value <code>0</code> and RGB value <code>#000000</code> are reserved “background”
classes that are always rendered as invisible in the App.</p>
<p>If <a href="#storing-mask-targets">mask targets</a> are provided, all observed
values not present in the targets are also rendered as invisible in the
App.</p>
<h3 id="heatmaps">Heatmaps <a href="#heatmaps" title="Permalink to this headline">¶</a><a class="headerlink" href="#heatmaps" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Heatmap" title="fiftyone.core.labels.Heatmap"><code>Heatmap</code></a> class represents a continuous-valued heatmap for an image.</p>
<p>The map can either be stored on disk and referenced via the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Heatmap.map_path" title="fiftyone.core.labels.Heatmap.map_path"><code>map_path</code></a> attribute or stored
directly in the database via the <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Heatmap.map" title="fiftyone.core.labels.Heatmap.map"><code>map</code></a>
attribute. When using the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Heatmap.map_path" title="fiftyone.core.labels.Heatmap.map_path"><code>map_path</code></a> attribute, heatmaps
may be 8-bit or 16-bit grayscale images. When using the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Heatmap.map" title="fiftyone.core.labels.Heatmap.map"><code>map</code></a> attribute, heatmaps should be 2D
numpy arrays. By default, the map values are assumed to be in <code>[0, 1]</code> for
floating point arrays and <code>[0, 255]</code> for integer-valued arrays, but you can
specify a custom <code>[min, max]</code> range for a map by setting its optional
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Heatmap.range" title="fiftyone.core.labels.Heatmap.range"><code>range</code></a> attribute.</p>
<p>Heatmaps can have any size; they are stretched as necessary to fit the
image’s extent when visualizing in the App.</p>
<p>Note</p>
<p>It is recommended to store heatmaps on disk and reference them via the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Heatmap.map_path" title="fiftyone.core.labels.Heatmap.map_path"><code>map_path</code></a> attribute, for
efficiency.</p>
<p>Note that <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Heatmap.map_path" title="fiftyone.core.labels.Heatmap.map_path"><code>map_path</code></a>
must contain the <strong>absolute path</strong> to the map on disk in order to use the
dataset from different current working directories in the future.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-116-1"><span class="kn">import</span><span class="w"> </span><span class="nn">cv2</span>
</span><span id="__span-116-2"><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-116-3">
</span><span id="__span-116-4"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-116-5">
</span><span id="__span-116-6"><span class="c1"># Example heatmap</span>
</span><span id="__span-116-7"><span class="n">map_path</span> <span class="o">=</span> <span class="s2">&quot;/tmp/heatmap.png&quot;</span>
</span><span id="__span-116-8"><span class="nb">map</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
</span><span id="__span-116-9"><span class="n">cv2</span><span class="o">.</span><span class="n">imwrite</span><span class="p">(</span><span class="n">map_path</span><span class="p">,</span> <span class="nb">map</span><span class="p">)</span>
</span><span id="__span-116-10">
</span><span id="__span-116-11"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-116-12"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;heatmap1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Heatmap</span><span class="p">(</span><span class="n">map_path</span><span class="o">=</span><span class="n">map_path</span><span class="p">)</span>
</span><span id="__span-116-13"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;heatmap2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Heatmap</span><span class="p">(</span><span class="nb">map</span><span class="o">=</span><span class="nb">map</span><span class="p">)</span>
</span><span id="__span-116-14">
</span><span id="__span-116-15"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-117-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-117-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-117-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-117-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-117-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-117-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-117-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-117-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-117-9">    <span class="s1">&#39;heatmap1&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Heatmap</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-117-10">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6371d9e425de9907b93b2a6f&#39;</span><span class="p">,</span>
</span><span id="__span-117-11">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-117-12">        <span class="s1">&#39;map&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-117-13">        <span class="s1">&#39;map_path&#39;</span><span class="p">:</span> <span class="s1">&#39;/tmp/heatmap.png&#39;</span><span class="p">,</span>
</span><span id="__span-117-14">        <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-117-15">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-117-16">    <span class="s1">&#39;heatmap2&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Heatmap</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-117-17">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6371d9e425de9907b93b2a70&#39;</span><span class="p">,</span>
</span><span id="__span-117-18">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-117-19">        <span class="s1">&#39;map&#39;</span><span class="p">:</span> <span class="n">array</span><span class="p">([[</span><span class="mi">179</span><span class="p">,</span> <span class="mi">249</span><span class="p">,</span> <span class="mi">119</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="mi">94</span><span class="p">,</span> <span class="mi">213</span><span class="p">,</span>  <span class="mi">68</span><span class="p">],</span>\
</span><span id="__span-117-20">               <span class="p">[</span><span class="mi">190</span><span class="p">,</span> <span class="mi">202</span><span class="p">,</span> <span class="mi">209</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">162</span><span class="p">,</span>  <span class="mi">16</span><span class="p">,</span>  <span class="mi">39</span><span class="p">],</span>\
</span><span id="__span-117-21">               <span class="p">[</span><span class="mi">252</span><span class="p">,</span> <span class="mi">251</span><span class="p">,</span> <span class="mi">181</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">221</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">231</span><span class="p">],</span>\
</span><span id="__span-117-22">               <span class="o">...</span><span class="p">,</span>\
</span><span id="__span-117-23">               <span class="p">[</span> <span class="mi">12</span><span class="p">,</span>  <span class="mi">91</span><span class="p">,</span> <span class="mi">201</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="mi">14</span><span class="p">,</span>  <span class="mi">95</span><span class="p">,</span>  <span class="mi">88</span><span class="p">],</span>\
</span><span id="__span-117-24">               <span class="p">[</span><span class="mi">164</span><span class="p">,</span> <span class="mi">118</span><span class="p">,</span> <span class="mi">171</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="mi">21</span><span class="p">,</span> <span class="mi">170</span><span class="p">,</span>   <span class="mi">5</span><span class="p">],</span>\
</span><span id="__span-117-25">               <span class="p">[</span><span class="mi">232</span><span class="p">,</span> <span class="mi">156</span><span class="p">,</span> <span class="mi">218</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">224</span><span class="p">,</span>  <span class="mi">97</span><span class="p">,</span>  <span class="mi">65</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">uint8</span><span class="p">),</span>
</span><span id="__span-117-26">        <span class="s1">&#39;map_path&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-117-27">        <span class="s1">&#39;range&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-117-28">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-117-29"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>When visualizing heatmaps <a href="../app/#fiftyone-app">in the App</a>, when the App is
in color-by-field mode, heatmaps are rendered in their field’s color with
opacity proportional to the magnitude of the heatmap’s values. For example, for
a heatmap whose <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Heatmap.range" title="fiftyone.core.labels.Heatmap.range"><code>range</code></a> is
<code>[-10, 10]</code>, pixels with the value +9 will be rendered with 90% opacity, and
pixels with the value -3 will be rendered with 30% opacity.</p>
<p>When the App is in color-by-value mode, heatmaps are rendered using the
colormap defined by the <code>colorscale</code> of your
<a href="../config/#configuring-fiftyone-app">App config</a>, which can be:</p>
<ul>
<li>
<p>The string name of any colorscale
<a href="https://plotly.com/python/colorscales">recognized by Plotly</a></p>
</li>
<li>
<p>A manually-defined colorscale like the following:</p>
</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-118-1"><span class="p">[</span>\
</span><span id="__span-118-2">      <span class="p">[</span><span class="mf">0.000</span><span class="p">,</span> <span class="s2">&quot;rgb(165,0,38)&quot;</span><span class="p">],</span>\
</span><span id="__span-118-3">      <span class="p">[</span><span class="mf">0.111</span><span class="p">,</span> <span class="s2">&quot;rgb(215,48,39)&quot;</span><span class="p">],</span>\
</span><span id="__span-118-4">      <span class="p">[</span><span class="mf">0.222</span><span class="p">,</span> <span class="s2">&quot;rgb(244,109,67)&quot;</span><span class="p">],</span>\
</span><span id="__span-118-5">      <span class="p">[</span><span class="mf">0.333</span><span class="p">,</span> <span class="s2">&quot;rgb(253,174,97)&quot;</span><span class="p">],</span>\
</span><span id="__span-118-6">      <span class="p">[</span><span class="mf">0.444</span><span class="p">,</span> <span class="s2">&quot;rgb(254,224,144)&quot;</span><span class="p">],</span>\
</span><span id="__span-118-7">      <span class="p">[</span><span class="mf">0.555</span><span class="p">,</span> <span class="s2">&quot;rgb(224,243,248)&quot;</span><span class="p">],</span>\
</span><span id="__span-118-8">      <span class="p">[</span><span class="mf">0.666</span><span class="p">,</span> <span class="s2">&quot;rgb(171,217,233)&quot;</span><span class="p">],</span>\
</span><span id="__span-118-9">      <span class="p">[</span><span class="mf">0.777</span><span class="p">,</span> <span class="s2">&quot;rgb(116,173,209)&quot;</span><span class="p">],</span>\
</span><span id="__span-118-10">      <span class="p">[</span><span class="mf">0.888</span><span class="p">,</span> <span class="s2">&quot;rgb(69,117,180)&quot;</span><span class="p">],</span>\
</span><span id="__span-118-11">      <span class="p">[</span><span class="mf">1.000</span><span class="p">,</span> <span class="s2">&quot;rgb(49,54,149)&quot;</span><span class="p">],</span>\
</span><span id="__span-118-12"><span class="p">]</span>
</span></code></pre></div>
<p>The example code below demonstrates the possibilities that heatmaps provide by
overlaying random gaussian kernels with positive or negative sign on an image
dataset and configuring the App’s colorscale in various ways on-the-fly:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-119-1"><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="__span-119-2"><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-119-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-119-4"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-119-5">
</span><span id="__span-119-6"><span class="k">def</span><span class="w"> </span><span class="nf">random_kernel</span><span class="p">(</span><span class="n">metadata</span><span class="p">):</span>
</span><span id="__span-119-7">    <span class="n">h</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">height</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="__span-119-8">    <span class="n">w</span> <span class="o">=</span> <span class="n">metadata</span><span class="o">.</span><span class="n">width</span> <span class="o">//</span> <span class="mi">2</span>
</span><span id="__span-119-9">    <span class="n">sign</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">())</span>
</span><span id="__span-119-10">    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">w</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
</span><span id="__span-119-11">    <span class="n">x0</span><span class="p">,</span> <span class="n">y0</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.5</span>
</span><span id="__span-119-12">    <span class="n">kernel</span> <span class="o">=</span> <span class="n">sign</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">x0</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">y0</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span>
</span><span id="__span-119-13">    <span class="k">return</span> <span class="n">fo</span><span class="o">.</span><span class="n">Heatmap</span><span class="p">(</span><span class="nb">map</span><span class="o">=</span><span class="n">kernel</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</span><span id="__span-119-14">
</span><span id="__span-119-15"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">select_fields</span><span class="p">()</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="__span-119-16"><span class="n">dataset</span><span class="o">.</span><span class="n">compute_metadata</span><span class="p">()</span>
</span><span id="__span-119-17">
</span><span id="__span-119-18"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
</span><span id="__span-119-19">    <span class="n">heatmap</span> <span class="o">=</span> <span class="n">random_kernel</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">metadata</span><span class="p">)</span>
</span><span id="__span-119-20">
</span><span id="__span-119-21">    <span class="c1"># Convert to on-disk</span>
</span><span id="__span-119-22">    <span class="n">map_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;/tmp/heatmaps&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">filepath</span><span class="p">))</span>
</span><span id="__span-119-23">    <span class="n">heatmap</span><span class="o">.</span><span class="n">export_map</span><span class="p">(</span><span class="n">map_path</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-119-24">
</span><span id="__span-119-25">    <span class="n">sample</span><span class="p">[</span><span class="s2">&quot;heatmap&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">heatmap</span>
</span><span id="__span-119-26">    <span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-119-27">
</span><span id="__span-119-28"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-120-1"><span class="c1"># Select `Settings -&gt; Color by value` in the App</span>
</span><span id="__span-120-2"><span class="c1"># Heatmaps will now be rendered using your default colorscale (printed below)</span>
</span><span id="__span-120-3"><span class="nb">print</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">colorscale</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-121-1"><span class="c1"># Switch to a different named colorscale</span>
</span><span id="__span-121-2"><span class="n">session</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">colorscale</span> <span class="o">=</span> <span class="s2">&quot;RdBu&quot;</span>
</span><span id="__span-121-3"><span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-122-1"><span class="c1"># Switch to a custom colorscale</span>
</span><span id="__span-122-2"><span class="n">session</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">colorscale</span> <span class="o">=</span> <span class="p">[</span>\
</span><span id="__span-122-3">    <span class="p">[</span><span class="mf">0.00</span><span class="p">,</span> <span class="s2">&quot;rgb(166,206,227)&quot;</span><span class="p">],</span>\
</span><span id="__span-122-4">    <span class="p">[</span><span class="mf">0.25</span><span class="p">,</span> <span class="s2">&quot;rgb(31,120,180)&quot;</span><span class="p">],</span>\
</span><span id="__span-122-5">    <span class="p">[</span><span class="mf">0.45</span><span class="p">,</span> <span class="s2">&quot;rgb(178,223,138)&quot;</span><span class="p">],</span>\
</span><span id="__span-122-6">    <span class="p">[</span><span class="mf">0.65</span><span class="p">,</span> <span class="s2">&quot;rgb(51,160,44)&quot;</span><span class="p">],</span>\
</span><span id="__span-122-7">    <span class="p">[</span><span class="mf">0.85</span><span class="p">,</span> <span class="s2">&quot;rgb(251,154,153)&quot;</span><span class="p">],</span>\
</span><span id="__span-122-8">    <span class="p">[</span><span class="mf">1.00</span><span class="p">,</span> <span class="s2">&quot;rgb(227,26,28)&quot;</span><span class="p">],</span>\
</span><span id="__span-122-9"><span class="p">]</span>
</span><span id="__span-122-10"><span class="n">session</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You customize your App config in various ways, from
environment variables to directly editing a <a href="../../api/fiftyone.core.session.html#fiftyone.core.session.Session" title="fiftyone.core.session.Session"><code>Session</code></a> object’s config.
See <a href="../config/#configuring-fiftyone-app">this page</a> for more details.</p>
<h3 id="temporal-detection">Temporal detection <a href="#temporal-detection" title="Permalink to this headline">¶</a><a class="headerlink" href="#temporal-detection" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.TemporalDetection" title="fiftyone.core.labels.TemporalDetection"><code>TemporalDetection</code></a> class represents an event occurring during a specified
range of frames in a video.</p>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.TemporalDetection.label" title="fiftyone.core.labels.TemporalDetection.label"><code>label</code></a> attribute
stores the detection label, and the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.TemporalDetection.support" title="fiftyone.core.labels.TemporalDetection.support"><code>support</code></a> attribute
stores the <code>[first, last]</code> frame range of the detection in the video.</p>
<p>The optional
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.TemporalDetection.confidence" title="fiftyone.core.labels.TemporalDetection.confidence"><code>confidence</code></a>
attribute can be used to store a model prediction score, and you can add
<a href="#using-labels">custom attributes</a> as well, which can be visualized in the
App.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-123-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-123-2">
</span><span id="__span-123-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/video.mp4&quot;</span><span class="p">)</span>
</span><span id="__span-123-4"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;events&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">TemporalDetection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;meeting&quot;</span><span class="p">,</span> <span class="n">support</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">])</span>
</span><span id="__span-123-5">
</span><span id="__span-123-6"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-124-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-124-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-124-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span>
</span><span id="__span-124-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/video.mp4&#39;</span><span class="p">,</span>
</span><span id="__span-124-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-124-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-124-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-124-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-124-9">    <span class="s1">&#39;events&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">TemporalDetection</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-124-10">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;61321c8ea36cb17df655f44f&#39;</span><span class="p">,</span>
</span><span id="__span-124-11">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-124-12">        <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;meeting&#39;</span><span class="p">,</span>
</span><span id="__span-124-13">        <span class="s1">&#39;support&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
</span><span id="__span-124-14">        <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-124-15">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-124-16">    <span class="s1">&#39;frames&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Frames</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-124-17"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>If your temporal detection data is represented as timestamps in seconds, you
can use the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.TemporalDetection.from_timestamps" title="fiftyone.core.labels.TemporalDetection.from_timestamps"><code>from_timestamps()</code></a>
factory method to perform the necessary conversion to frames automatically
based on the sample’s <a href="#using-metadata">video metadata</a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-125-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-125-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-125-3">
</span><span id="__span-125-4"><span class="c1"># Download a video to work with</span>
</span><span id="__span-125-5"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart-video&quot;</span><span class="p">,</span> <span class="n">max_samples</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-125-6"><span class="n">filepath</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">filepath</span>
</span><span id="__span-125-7">
</span><span id="__span-125-8"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">filepath</span><span class="p">)</span>
</span><span id="__span-125-9"><span class="n">sample</span><span class="o">.</span><span class="n">compute_metadata</span><span class="p">()</span>
</span><span id="__span-125-10">
</span><span id="__span-125-11"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;events&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">TemporalDetection</span><span class="o">.</span><span class="n">from_timestamps</span><span class="p">(</span>
</span><span id="__span-125-12">    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;meeting&quot;</span><span class="p">,</span> <span class="n">sample</span><span class="o">=</span><span class="n">sample</span>
</span><span id="__span-125-13"><span class="p">)</span>
</span><span id="__span-125-14">
</span><span id="__span-125-15"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-126-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-126-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-126-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span>
</span><span id="__span-126-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;~/fiftyone/quickstart-video/data/Ulcb3AjxM5g_053-1.mp4&#39;</span><span class="p">,</span>
</span><span id="__span-126-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-126-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">VideoMetadata</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-126-7">        <span class="s1">&#39;size_bytes&#39;</span><span class="p">:</span> <span class="mi">1758809</span><span class="p">,</span>
</span><span id="__span-126-8">        <span class="s1">&#39;mime_type&#39;</span><span class="p">:</span> <span class="s1">&#39;video/mp4&#39;</span><span class="p">,</span>
</span><span id="__span-126-9">        <span class="s1">&#39;frame_width&#39;</span><span class="p">:</span> <span class="mi">1920</span><span class="p">,</span>
</span><span id="__span-126-10">        <span class="s1">&#39;frame_height&#39;</span><span class="p">:</span> <span class="mi">1080</span><span class="p">,</span>
</span><span id="__span-126-11">        <span class="s1">&#39;frame_rate&#39;</span><span class="p">:</span> <span class="mf">29.97002997002997</span><span class="p">,</span>
</span><span id="__span-126-12">        <span class="s1">&#39;total_frame_count&#39;</span><span class="p">:</span> <span class="mi">120</span><span class="p">,</span>
</span><span id="__span-126-13">        <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mf">4.004</span><span class="p">,</span>
</span><span id="__span-126-14">        <span class="s1">&#39;encoding_str&#39;</span><span class="p">:</span> <span class="s1">&#39;avc1&#39;</span><span class="p">,</span>
</span><span id="__span-126-15">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-126-16">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-126-17">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-126-18">    <span class="s1">&#39;events&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">TemporalDetection</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-126-19">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;61321e498d5f587970b29183&#39;</span><span class="p">,</span>
</span><span id="__span-126-20">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-126-21">        <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;meeting&#39;</span><span class="p">,</span>
</span><span id="__span-126-22">        <span class="s1">&#39;support&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">31</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>
</span><span id="__span-126-23">        <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-126-24">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-126-25">    <span class="s1">&#39;frames&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Frames</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-126-26"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.TemporalDetections" title="fiftyone.core.labels.TemporalDetections"><code>TemporalDetections</code></a> class holds a list of temporal detections for a
sample:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-127-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-127-2">
</span><span id="__span-127-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/video.mp4&quot;</span><span class="p">)</span>
</span><span id="__span-127-4"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;events&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">TemporalDetections</span><span class="p">(</span>
</span><span id="__span-127-5">    <span class="n">detections</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-127-6">        <span class="n">fo</span><span class="o">.</span><span class="n">TemporalDetection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;meeting&quot;</span><span class="p">,</span> <span class="n">support</span><span class="o">=</span><span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">]),</span>\
</span><span id="__span-127-7">        <span class="n">fo</span><span class="o">.</span><span class="n">TemporalDetection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;party&quot;</span><span class="p">,</span> <span class="n">support</span><span class="o">=</span><span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">]),</span>\
</span><span id="__span-127-8">    <span class="p">]</span>
</span><span id="__span-127-9"><span class="p">)</span>
</span><span id="__span-127-10">
</span><span id="__span-127-11"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-128-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-128-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-128-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span>
</span><span id="__span-128-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/video.mp4&#39;</span><span class="p">,</span>
</span><span id="__span-128-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-128-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-128-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-128-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-128-9">    <span class="s1">&#39;events&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">TemporalDetections</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-128-10">        <span class="s1">&#39;detections&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-128-11">            <span class="o">&lt;</span><span class="n">TemporalDetection</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-128-12">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;61321ed78d5f587970b29184&#39;</span><span class="p">,</span>\
</span><span id="__span-128-13">                <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>\
</span><span id="__span-128-14">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;meeting&#39;</span><span class="p">,</span>\
</span><span id="__span-128-15">                <span class="s1">&#39;support&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>\
</span><span id="__span-128-16">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-128-17">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-128-18">            <span class="o">&lt;</span><span class="n">TemporalDetection</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-128-19">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;61321ed78d5f587970b29185&#39;</span><span class="p">,</span>\
</span><span id="__span-128-20">                <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>\
</span><span id="__span-128-21">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;party&#39;</span><span class="p">,</span>\
</span><span id="__span-128-22">                <span class="s1">&#39;support&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">60</span><span class="p">],</span>\
</span><span id="__span-128-23">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-128-24">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-128-25">        <span class="p">],</span>
</span><span id="__span-128-26">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-128-27">    <span class="s1">&#39;frames&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Frames</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-128-28"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can <a href="#storing-classes">store class lists</a> for your
models on your datasets.</p>
<h3 id="3d-detections">3D detections <a href="#d-detections" title="Permalink to this headline">¶</a><a class="headerlink" href="#3d-detections" title="Permanent link">&para;</a></h3>
<p>The App’s <a href="../app/#app-3d-visualizer">3D visualizer</a> supports rendering 3D object
detections represented as <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection" title="fiftyone.core.labels.Detection"><code>Detection</code></a> instances with their <code>label</code>, <code>location</code>,
<code>dimensions</code>, and <code>rotation</code> attributes populated as shown below:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-129-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-129-2">
</span><span id="__span-129-3"><span class="c1"># Object label</span>
</span><span id="__span-129-4"><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;vehicle&quot;</span>
</span><span id="__span-129-5">
</span><span id="__span-129-6"><span class="c1"># Object center `[x, y, z]` in scene coordinates</span>
</span><span id="__span-129-7"><span class="n">location</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.47</span><span class="p">,</span> <span class="mf">1.49</span><span class="p">,</span> <span class="mf">69.44</span><span class="p">]</span>
</span><span id="__span-129-8">
</span><span id="__span-129-9"><span class="c1"># Object dimensions `[x, y, z]` in scene units</span>
</span><span id="__span-129-10"><span class="n">dimensions</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.85</span><span class="p">,</span> <span class="mf">2.63</span><span class="p">,</span> <span class="mf">12.34</span><span class="p">]</span>
</span><span id="__span-129-11">
</span><span id="__span-129-12"><span class="c1"># Object rotation `[x, y, z]` around its center, in `[-pi, pi]`</span>
</span><span id="__span-129-13"><span class="n">rotation</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.56</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</span><span id="__span-129-14">
</span><span id="__span-129-15"><span class="c1"># A 3D object detection</span>
</span><span id="__span-129-16"><span class="n">detection</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>
</span><span id="__span-129-17">    <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
</span><span id="__span-129-18">    <span class="n">location</span><span class="o">=</span><span class="n">location</span><span class="p">,</span>
</span><span id="__span-129-19">    <span class="n">dimensions</span><span class="o">=</span><span class="n">dimensions</span><span class="p">,</span>
</span><span id="__span-129-20">    <span class="n">rotation</span><span class="o">=</span><span class="n">rotation</span><span class="p">,</span>
</span><span id="__span-129-21"><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can view custom attributes in the
<a href="../app/#app-sample-view">App tooltip</a> by hovering over the objects.</p>
<h3 id="3d-polylines">3D polylines <a href="#d-polylines" title="Permalink to this headline">¶</a><a class="headerlink" href="#3d-polylines" title="Permanent link">&para;</a></h3>
<p>The App’s <a href="../app/#app-3d-visualizer">3D visualizer</a> supports rendering 3D
polylines represented as <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline" title="fiftyone.core.labels.Polyline"><code>Polyline</code></a> instances with their <code>label</code> and <code>points3d</code>
attributes populated as shown below:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-130-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-130-2">
</span><span id="__span-130-3"><span class="c1"># Object label</span>
</span><span id="__span-130-4"><span class="n">label</span> <span class="o">=</span> <span class="s2">&quot;lane&quot;</span>
</span><span id="__span-130-5">
</span><span id="__span-130-6"><span class="c1"># A list of lists of `[x, y, z]` points in scene coordinates describing</span>
</span><span id="__span-130-7"><span class="c1"># the vertices of each shape in the polyline</span>
</span><span id="__span-130-8"><span class="n">points3d</span> <span class="o">=</span> <span class="p">[[[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">99</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">]]]</span>
</span><span id="__span-130-9">
</span><span id="__span-130-10"><span class="c1"># A set of semantically related 3D polylines</span>
</span><span id="__span-130-11"><span class="n">polyline</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Polyline</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">points3d</span><span class="o">=</span><span class="n">points3d</span><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can view custom attributes in the
<a href="../app/#app-sample-view">App tooltip</a> by hovering over the objects.</p>
<h3 id="geolocation">Geolocation <a href="#geolocation" title="Permalink to this headline">¶</a><a class="headerlink" href="#geolocation" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.GeoLocation" title="fiftyone.core.labels.GeoLocation"><code>GeoLocation</code></a> class can store single pieces of location data in its
properties:</p>
<ul>
<li>
<p><a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.GeoLocation.point" title="fiftyone.core.labels.GeoLocation.point"><code>point</code></a>: a
<code>[longitude, latitude]</code> point</p>
</li>
<li>
<p><a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.GeoLocation.line" title="fiftyone.core.labels.GeoLocation.line"><code>line</code></a>: a line of longitude
and latitude coordinates stored in the following format:</p>
</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-131-1"><span class="p">[[</span><span class="n">lon1</span><span class="p">,</span> <span class="n">lat1</span><span class="p">],</span> <span class="p">[</span><span class="n">lon2</span><span class="p">,</span> <span class="n">lat2</span><span class="p">],</span> <span class="o">...</span><span class="p">]</span>
</span></code></pre></div>
<ul>
<li><a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.GeoLocation.polygon" title="fiftyone.core.labels.GeoLocation.polygon"><code>polygon</code></a>: a polygon of
longitude and latitude coordinates stored in the format below, where the
first element describes the boundary of the polygon and any remaining
entries describe holes:</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-132-1"><span class="p">[</span>\
</span><span id="__span-132-2">      <span class="p">[[</span><span class="n">lon1</span><span class="p">,</span> <span class="n">lat1</span><span class="p">],</span> <span class="p">[</span><span class="n">lon2</span><span class="p">,</span> <span class="n">lat2</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span>\
</span><span id="__span-132-3">      <span class="p">[[</span><span class="n">lon1</span><span class="p">,</span> <span class="n">lat1</span><span class="p">],</span> <span class="p">[</span><span class="n">lon2</span><span class="p">,</span> <span class="n">lat2</span><span class="p">],</span> <span class="o">...</span><span class="p">],</span>\
</span><span id="__span-132-4">      <span class="o">...</span>\
</span><span id="__span-132-5"><span class="p">]</span>
</span></code></pre></div>
<p>Note</p>
<p>All geolocation coordinates are stored in <code>[longitude, latitude]</code>
format.</p>
<p>If you have multiple geometries of each type that you wish to store on a single
sample, then you can use the <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.GeoLocations" title="fiftyone.core.labels.GeoLocations"><code>GeoLocations</code></a> class and its appropriate
properties to do so.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-133-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-133-2">
</span><span id="__span-133-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-133-4">
</span><span id="__span-133-5"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;location&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">GeoLocation</span><span class="p">(</span>
</span><span id="__span-133-6">    <span class="n">point</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mf">73.9855</span><span class="p">,</span> <span class="mf">40.7580</span><span class="p">],</span>
</span><span id="__span-133-7">    <span class="n">polygon</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-133-8">        <span class="p">[</span>\
</span><span id="__span-133-9">            <span class="p">[</span><span class="o">-</span><span class="mf">73.949701</span><span class="p">,</span> <span class="mf">40.834487</span><span class="p">],</span>\
</span><span id="__span-133-10">            <span class="p">[</span><span class="o">-</span><span class="mf">73.896611</span><span class="p">,</span> <span class="mf">40.815076</span><span class="p">],</span>\
</span><span id="__span-133-11">            <span class="p">[</span><span class="o">-</span><span class="mf">73.998083</span><span class="p">,</span> <span class="mf">40.696534</span><span class="p">],</span>\
</span><span id="__span-133-12">            <span class="p">[</span><span class="o">-</span><span class="mf">74.031751</span><span class="p">,</span> <span class="mf">40.715273</span><span class="p">],</span>\
</span><span id="__span-133-13">            <span class="p">[</span><span class="o">-</span><span class="mf">73.949701</span><span class="p">,</span> <span class="mf">40.834487</span><span class="p">],</span>\
</span><span id="__span-133-14">        <span class="p">]</span>\
</span><span id="__span-133-15">    <span class="p">],</span>
</span><span id="__span-133-16"><span class="p">)</span>
</span><span id="__span-133-17">
</span><span id="__span-133-18"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-134-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-134-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-134-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-134-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-134-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-134-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-134-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-134-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-134-9">    <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">GeoLocation</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-134-10">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;60481f3936dc48428091e926&#39;</span><span class="p">,</span>
</span><span id="__span-134-11">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-134-12">        <span class="s1">&#39;point&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">73.9855</span><span class="p">,</span> <span class="mf">40.758</span><span class="p">],</span>
</span><span id="__span-134-13">        <span class="s1">&#39;line&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-134-14">        <span class="s1">&#39;polygon&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-134-15">            <span class="p">[</span>\
</span><span id="__span-134-16">                <span class="p">[</span><span class="o">-</span><span class="mf">73.949701</span><span class="p">,</span> <span class="mf">40.834487</span><span class="p">],</span>\
</span><span id="__span-134-17">                <span class="p">[</span><span class="o">-</span><span class="mf">73.896611</span><span class="p">,</span> <span class="mf">40.815076</span><span class="p">],</span>\
</span><span id="__span-134-18">                <span class="p">[</span><span class="o">-</span><span class="mf">73.998083</span><span class="p">,</span> <span class="mf">40.696534</span><span class="p">],</span>\
</span><span id="__span-134-19">                <span class="p">[</span><span class="o">-</span><span class="mf">74.031751</span><span class="p">,</span> <span class="mf">40.715273</span><span class="p">],</span>\
</span><span id="__span-134-20">                <span class="p">[</span><span class="o">-</span><span class="mf">73.949701</span><span class="p">,</span> <span class="mf">40.834487</span><span class="p">],</span>\
</span><span id="__span-134-21">            <span class="p">],</span>\
</span><span id="__span-134-22">        <span class="p">],</span>
</span><span id="__span-134-23">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-134-24"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can create
<a href="../using_views/#geolocation-views">location-based views</a> that filter your data by
their location!</p>
<p>All location data is stored in
<a href="https://en.wikipedia.org/wiki/GeoJSON">GeoJSON format</a> in the database. You
can easily retrieve the raw GeoJSON data for a slice of your dataset using the
<a href="../using_aggregations/#aggregations-values">values()</a> aggregation:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-135-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-135-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-135-3">
</span><span id="__span-135-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart-geo&quot;</span><span class="p">)</span>
</span><span id="__span-135-5">
</span><span id="__span-135-6"><span class="n">values</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s2">&quot;location.point&quot;</span><span class="p">,</span> <span class="n">_raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-135-7"><span class="nb">print</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-136-1"><span class="p">[{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">73.9592175465766</span><span class="p">,</span> <span class="mf">40.71052995514191</span><span class="p">]},</span>\
</span><span id="__span-136-2"> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">73.97748118760413</span><span class="p">,</span> <span class="mf">40.74660360881843</span><span class="p">]},</span>\
</span><span id="__span-136-3"> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">73.9508690871987</span><span class="p">,</span> <span class="mf">40.766631164626</span><span class="p">]},</span>\
</span><span id="__span-136-4"> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">73.96569416502996</span><span class="p">,</span> <span class="mf">40.75449283200206</span><span class="p">]},</span>\
</span><span id="__span-136-5"> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="s1">&#39;coordinates&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mf">73.97397106211423</span><span class="p">,</span> <span class="mf">40.67925541341504</span><span class="p">]}]</span>
</span></code></pre></div>
<h3 id="label-tags">Label tags <a href="#label-tags" title="Permalink to this headline">¶</a><a class="headerlink" href="#label-tags" title="Permanent link">&para;</a></h3>
<p>All <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> instances have a <code>tags</code> field, which is a string list. By default,
this list is empty, but you can use it to store application-specific
information like whether the label is incorrect:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-137-1"><span class="n">detection</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</span><span id="__span-137-2">
</span><span id="__span-137-3"><span class="n">detection</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;mistake&quot;</span><span class="p">)</span>
</span><span id="__span-137-4">
</span><span id="__span-137-5"><span class="nb">print</span><span class="p">(</span><span class="n">detection</span><span class="o">.</span><span class="n">tags</span><span class="p">)</span>
</span><span id="__span-137-6"><span class="c1"># [&quot;mistake&quot;]</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can add, edit, and filter by label tags
<a href="../app/#app-tagging">directly in the App</a>.</p>
<p>Datasets and views provide helpful methods such as
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.count_label_tags" title="fiftyone.core.collections.SampleCollection.count_label_tags"><code>count_label_tags()</code></a>,
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.tag_labels" title="fiftyone.core.collections.SampleCollection.tag_labels"><code>tag_labels()</code></a>,
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.untag_labels" title="fiftyone.core.collections.SampleCollection.untag_labels"><code>untag_labels()</code></a>,
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.match_labels" title="fiftyone.core.collections.SampleCollection.match_labels"><code>match_labels()</code></a>,
and
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.select_labels" title="fiftyone.core.collections.SampleCollection.select_labels"><code>select_labels()</code></a>
that you can use to perform batch queries and edits to label tags:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-138-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-138-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-138-3"><span class="kn">from</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="kn">import</span> <span class="n">ViewField</span> <span class="k">as</span> <span class="n">F</span>
</span><span id="__span-138-4">
</span><span id="__span-138-5"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="__span-138-6">
</span><span id="__span-138-7"><span class="c1"># Tag all low confidence prediction</span>
</span><span id="__span-138-8"><span class="n">view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">filter_labels</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">,</span> <span class="n">F</span><span class="p">(</span><span class="s2">&quot;confidence&quot;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">)</span>
</span><span id="__span-138-9"><span class="n">view</span><span class="o">.</span><span class="n">tag_labels</span><span class="p">(</span><span class="s2">&quot;potential_mistake&quot;</span><span class="p">,</span> <span class="n">label_fields</span><span class="o">=</span><span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-138-10"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_label_tags</span><span class="p">())</span>  <span class="c1"># {&#39;potential_mistake&#39;: 1555}</span>
</span><span id="__span-138-11">
</span><span id="__span-138-12"><span class="c1"># Create a view containing only tagged labels</span>
</span><span id="__span-138-13"><span class="n">view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">select_labels</span><span class="p">(</span><span class="n">tags</span><span class="o">=</span><span class="s2">&quot;potential_mistake&quot;</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-138-14"><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">view</span><span class="p">))</span>  <span class="c1"># 173</span>
</span><span id="__span-138-15"><span class="nb">print</span><span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">))</span>  <span class="c1"># 1555</span>
</span><span id="__span-138-16">
</span><span id="__span-138-17"><span class="c1"># Create a view containing only samples with at least one tagged label</span>
</span><span id="__span-138-18"><span class="n">view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">match_labels</span><span class="p">(</span><span class="n">tags</span><span class="o">=</span><span class="s2">&quot;potential_mistake&quot;</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-138-19"><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">view</span><span class="p">))</span>  <span class="c1"># 173</span>
</span><span id="__span-138-20"><span class="nb">print</span><span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">))</span>  <span class="c1"># 5151</span>
</span><span id="__span-138-21">
</span><span id="__span-138-22"><span class="n">dataset</span><span class="o">.</span><span class="n">untag_labels</span><span class="p">(</span><span class="s2">&quot;potential_mistake&quot;</span><span class="p">,</span> <span class="n">label_fields</span><span class="o">=</span><span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-138-23"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_label_tags</span><span class="p">())</span>  <span class="c1"># {}</span>
</span></code></pre></div>
<h3 id="label-attributes">Label attributes <a href="#label-attributes" title="Permalink to this headline">¶</a><a class="headerlink" href="#label-attributes" title="Permanent link">&para;</a></h3>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection" title="fiftyone.core.labels.Detection"><code>Detection</code></a>, <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Polyline" title="fiftyone.core.labels.Polyline"><code>Polyline</code></a>, and <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Keypoint" title="fiftyone.core.labels.Keypoint"><code>Keypoint</code></a> label types have an optional
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.attributes" title="fiftyone.core.labels.Detection.attributes"><code>attributes</code></a> field that you
can use to store custom attributes on the object.</p>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.attributes" title="fiftyone.core.labels.Detection.attributes"><code>attributes</code></a> field is a
dictionary mapping attribute names to <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Attribute" title="fiftyone.core.labels.Attribute"><code>Attribute</code></a> instances, which contain the
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Attribute.value" title="fiftyone.core.labels.Attribute.value"><code>value</code></a> of the attribute and any
associated metadata.</p>
<p>Warning</p>
<p>The <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detection.attributes" title="fiftyone.core.labels.Detection.attributes"><code>attributes</code></a> field
will be removed in an upcoming release.</p>
<p>Instead, <a href="#using-labels">add custom attributes directly</a> to your
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> objects:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-139-1"><span class="n">detection</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">])</span>
</span><span id="__span-139-2"><span class="n">detection</span><span class="p">[</span><span class="s2">&quot;custom_attribute&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">51</span>
</span><span id="__span-139-3">
</span><span id="__span-139-4"><span class="c1"># Equivalent</span>
</span><span id="__span-139-5"><span class="n">detection</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>
</span><span id="__span-139-6">    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>
</span><span id="__span-139-7">    <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">],</span>
</span><span id="__span-139-8">    <span class="n">custom_attribute</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span>
</span><span id="__span-139-9"><span class="p">)</span>
</span></code></pre></div>
<p>There are <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Attribute" title="fiftyone.core.labels.Attribute"><code>Attribute</code></a> subclasses for various types of attributes you may want
to store. Use the appropriate subclass when possible so that FiftyOne knows the
schema of the attributes that you’re storing.</p>
<table>
<thead>
<tr>
<th>Attribute class</th>
<th>Value type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.BooleanAttribute" title="fiftyone.core.labels.BooleanAttribute"><code>BooleanAttribute</code></a></td>
<td><code>bool</code></td>
<td>A boolean attribute</td>
</tr>
<tr>
<td><a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.CategoricalAttribute" title="fiftyone.core.labels.CategoricalAttribute"><code>CategoricalAttribute</code></a></td>
<td><code>string</code></td>
<td>A categorical attribute</td>
</tr>
<tr>
<td><a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.NumericAttribute" title="fiftyone.core.labels.NumericAttribute"><code>NumericAttribute</code></a></td>
<td><code>float</code></td>
<td>A numeric attribute</td>
</tr>
<tr>
<td><a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.ListAttribute" title="fiftyone.core.labels.ListAttribute"><code>ListAttribute</code></a></td>
<td><code>list</code></td>
<td>A list attribute</td>
</tr>
<tr>
<td><a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Attribute" title="fiftyone.core.labels.Attribute"><code>Attribute</code></a></td>
<td>arbitrary</td>
<td>A generic attribute of any type</td>
</tr>
</tbody>
</table>
<div class="language-python highlight"><pre><span></span><code><span id="__span-140-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-140-2">
</span><span id="__span-140-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-140-4">
</span><span id="__span-140-5"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detections</span><span class="p">(</span>
</span><span id="__span-140-6">    <span class="n">detections</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-140-7">        <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>\
</span><span id="__span-140-8">            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>\
</span><span id="__span-140-9">            <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>\
</span><span id="__span-140-10">            <span class="n">attributes</span><span class="o">=</span><span class="p">{</span>\
</span><span id="__span-140-11">                <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="n">fo</span><span class="o">.</span><span class="n">NumericAttribute</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">51</span><span class="p">),</span>\
</span><span id="__span-140-12">                <span class="s2">&quot;mood&quot;</span><span class="p">:</span> <span class="n">fo</span><span class="o">.</span><span class="n">CategoricalAttribute</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;salty&quot;</span><span class="p">),</span>\
</span><span id="__span-140-13">            <span class="p">},</span>\
</span><span id="__span-140-14">        <span class="p">),</span>\
</span><span id="__span-140-15">    <span class="p">]</span>
</span><span id="__span-140-16"><span class="p">)</span>
</span><span id="__span-140-17"><span class="n">sample</span><span class="p">[</span><span class="s2">&quot;prediction&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detections</span><span class="p">(</span>
</span><span id="__span-140-18">    <span class="n">detections</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-140-19">        <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>\
</span><span id="__span-140-20">            <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>\
</span><span id="__span-140-21">            <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.480</span><span class="p">,</span> <span class="mf">0.513</span><span class="p">,</span> <span class="mf">0.397</span><span class="p">,</span> <span class="mf">0.288</span><span class="p">],</span>\
</span><span id="__span-140-22">            <span class="n">confidence</span><span class="o">=</span><span class="mf">0.96</span><span class="p">,</span>\
</span><span id="__span-140-23">            <span class="n">attributes</span><span class="o">=</span><span class="p">{</span>\
</span><span id="__span-140-24">                <span class="s2">&quot;age&quot;</span><span class="p">:</span> <span class="n">fo</span><span class="o">.</span><span class="n">NumericAttribute</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">51</span><span class="p">),</span>\
</span><span id="__span-140-25">                <span class="s2">&quot;mood&quot;</span><span class="p">:</span> <span class="n">fo</span><span class="o">.</span><span class="n">CategoricalAttribute</span><span class="p">(</span>\
</span><span id="__span-140-26">                    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;surly&quot;</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="mf">0.95</span>\
</span><span id="__span-140-27">                <span class="p">),</span>\
</span><span id="__span-140-28">            <span class="p">},</span>\
</span><span id="__span-140-29">        <span class="p">),</span>\
</span><span id="__span-140-30">    <span class="p">]</span>
</span><span id="__span-140-31"><span class="p">)</span>
</span><span id="__span-140-32">
</span><span id="__span-140-33"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-141-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-141-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-141-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-141-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-141-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-141-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-141-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-141-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-141-9">    <span class="s1">&#39;ground_truth&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Detections</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-141-10">        <span class="s1">&#39;detections&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-141-11">            <span class="o">&lt;</span><span class="n">Detection</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-141-12">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;60f738e7467d81f41c20054c&#39;</span><span class="p">,</span>\
</span><span id="__span-141-13">                <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-141-14">                    <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">NumericAttribute</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">51</span><span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-141-15">                    <span class="s1">&#39;mood&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">CategoricalAttribute</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-141-16">                        <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;salty&#39;</span><span class="p">,</span> <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span>\
</span><span id="__span-141-17">                    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-141-18">                <span class="p">},</span>\
</span><span id="__span-141-19">                <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>\
</span><span id="__span-141-20">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>\
</span><span id="__span-141-21">                <span class="s1">&#39;bounding_box&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">],</span>\
</span><span id="__span-141-22">                <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-141-23">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-141-24">                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-141-25">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-141-26">        <span class="p">],</span>
</span><span id="__span-141-27">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-141-28">    <span class="s1">&#39;prediction&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Detections</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-141-29">        <span class="s1">&#39;detections&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-141-30">            <span class="o">&lt;</span><span class="n">Detection</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-141-31">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;60f738e7467d81f41c20054d&#39;</span><span class="p">,</span>\
</span><span id="__span-141-32">                <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-141-33">                    <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">NumericAttribute</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mi">51</span><span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-141-34">                    <span class="s1">&#39;mood&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">CategoricalAttribute</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-141-35">                        <span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="s1">&#39;surly&#39;</span><span class="p">,</span> <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span> <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span>\
</span><span id="__span-141-36">                    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-141-37">                <span class="p">},</span>\
</span><span id="__span-141-38">                <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>\
</span><span id="__span-141-39">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>\
</span><span id="__span-141-40">                <span class="s1">&#39;bounding_box&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.48</span><span class="p">,</span> <span class="mf">0.513</span><span class="p">,</span> <span class="mf">0.397</span><span class="p">,</span> <span class="mf">0.288</span><span class="p">],</span>\
</span><span id="__span-141-41">                <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-141-42">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="mf">0.96</span><span class="p">,</span>\
</span><span id="__span-141-43">                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-141-44">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-141-45">        <span class="p">],</span>
</span><span id="__span-141-46">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-141-47"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can view attribute values in the
<a href="../app/#app-sample-view">App tooltip</a> by hovering over the objects.</p>
<h3 id="converting-label-types">Converting label types <a href="#converting-label-types" title="Permalink to this headline">¶</a><a class="headerlink" href="#converting-label-types" title="Permanent link">&para;</a></h3>
<p>FiftyOne provides a number of utility methods to convert between different
representations of certain label types, such as converting between
<a href="#instance-segmentation">instance segmentations</a>,
<a href="#semantic-segmentation">semantic segmentations</a>,
and <a href="#polylines">polylines</a>.</p>
<p>Let’s load some instance segmentations from the COCO dataset to see this in
action:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-142-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-142-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-142-3">
</span><span id="__span-142-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span>
</span><span id="__span-142-5">    <span class="s2">&quot;coco-2017&quot;</span><span class="p">,</span>
</span><span id="__span-142-6">    <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
</span><span id="__span-142-7">    <span class="n">label_types</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;segmentations&quot;</span><span class="p">],</span>
</span><span id="__span-142-8">    <span class="n">classes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="s2">&quot;dog&quot;</span><span class="p">],</span>
</span><span id="__span-142-9">    <span class="n">label_field</span><span class="o">=</span><span class="s2">&quot;instances&quot;</span><span class="p">,</span>
</span><span id="__span-142-10">    <span class="n">max_samples</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span>
</span><span id="__span-142-11">    <span class="n">only_matching</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-142-12"><span class="p">)</span>
</span><span id="__span-142-13">
</span><span id="__span-142-14"><span class="n">sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-142-15"><span class="n">detections</span> <span class="o">=</span> <span class="n">sample</span><span class="p">[</span><span class="s2">&quot;instances&quot;</span><span class="p">]</span>
</span></code></pre></div>
<p>For example, you can use
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections.to_polylines" title="fiftyone.core.labels.Detections.to_polylines"><code>Detections.to_polylines()</code></a>
to convert instance segmentations to polylines:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-143-1"><span class="c1"># Convert `Detections` to `Polylines`</span>
</span><span id="__span-143-2"><span class="n">polylines</span> <span class="o">=</span> <span class="n">detections</span><span class="o">.</span><span class="n">to_polylines</span><span class="p">(</span><span class="n">tolerance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-143-3"><span class="nb">print</span><span class="p">(</span><span class="n">polylines</span><span class="p">)</span>
</span></code></pre></div>
<p>Or you can use
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections.to_segmentation" title="fiftyone.core.labels.Detections.to_segmentation"><code>Detections.to_segmentation()</code></a>
to convert instance segmentations to semantic segmentation masks:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-144-1"><span class="n">metadata</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">ImageMetadata</span><span class="o">.</span><span class="n">build_for</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">filepath</span><span class="p">)</span>
</span><span id="__span-144-2">
</span><span id="__span-144-3"><span class="c1"># Convert `Detections` to `Segmentation`</span>
</span><span id="__span-144-4"><span class="n">segmentation</span> <span class="o">=</span> <span class="n">detections</span><span class="o">.</span><span class="n">to_segmentation</span><span class="p">(</span>
</span><span id="__span-144-5">    <span class="n">frame_size</span><span class="o">=</span><span class="p">(</span><span class="n">metadata</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">metadata</span><span class="o">.</span><span class="n">height</span><span class="p">),</span>
</span><span id="__span-144-6">    <span class="n">mask_targets</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">},</span>
</span><span id="__span-144-7"><span class="p">)</span>
</span><span id="__span-144-8">
</span><span id="__span-144-9"><span class="c1"># Export the segmentation to disk</span>
</span><span id="__span-144-10"><span class="n">segmentation</span><span class="o">.</span><span class="n">export_mask</span><span class="p">(</span><span class="s2">&quot;/tmp/mask.png&quot;</span><span class="p">,</span> <span class="n">update</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-144-11">
</span><span id="__span-144-12"><span class="nb">print</span><span class="p">(</span><span class="n">segmentation</span><span class="p">)</span>
</span></code></pre></div>
<p>Methods such as
<a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation.to_detections" title="fiftyone.core.labels.Segmentation.to_detections"><code>Segmentation.to_detections()</code></a>
and <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Segmentation.to_polylines" title="fiftyone.core.labels.Segmentation.to_polylines"><code>Segmentation.to_polylines()</code></a>
also exist to transform semantic segmentations back into individual shapes.</p>
<p>In addition, the <a href="../../api/fiftyone.utils.labels.html#module-fiftyone.utils.labels" title="fiftyone.utils.labels"><code>fiftyone.utils.labels</code></a> module contains a variety of
utility methods for converting entire collections’ labels between common
formats:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-145-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.utils.labels</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foul</span>
</span><span id="__span-145-2">
</span><span id="__span-145-3"><span class="c1"># Convert instance segmentations to semantic segmentations stored on disk</span>
</span><span id="__span-145-4"><span class="n">foul</span><span class="o">.</span><span class="n">objects_to_segmentations</span><span class="p">(</span>
</span><span id="__span-145-5">    <span class="n">dataset</span><span class="p">,</span>
</span><span id="__span-145-6">    <span class="s2">&quot;instances&quot;</span><span class="p">,</span>
</span><span id="__span-145-7">    <span class="s2">&quot;segmentations&quot;</span><span class="p">,</span>
</span><span id="__span-145-8">    <span class="n">output_dir</span><span class="o">=</span><span class="s2">&quot;/tmp/segmentations&quot;</span><span class="p">,</span>
</span><span id="__span-145-9">    <span class="n">mask_targets</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">},</span>
</span><span id="__span-145-10"><span class="p">)</span>
</span><span id="__span-145-11">
</span><span id="__span-145-12"><span class="c1"># Convert instance segmentations to polylines format</span>
</span><span id="__span-145-13"><span class="n">foul</span><span class="o">.</span><span class="n">instances_to_polylines</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="s2">&quot;instances&quot;</span><span class="p">,</span> <span class="s2">&quot;polylines&quot;</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-145-14">
</span><span id="__span-145-15"><span class="c1"># Convert semantic segmentations to instance segmentations</span>
</span><span id="__span-145-16"><span class="n">foul</span><span class="o">.</span><span class="n">segmentations_to_detections</span><span class="p">(</span>
</span><span id="__span-145-17">    <span class="n">dataset</span><span class="p">,</span>
</span><span id="__span-145-18">    <span class="s2">&quot;segmentations&quot;</span><span class="p">,</span>
</span><span id="__span-145-19">    <span class="s2">&quot;instances2&quot;</span><span class="p">,</span>
</span><span id="__span-145-20">    <span class="n">mask_targets</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">},</span>
</span><span id="__span-145-21">    <span class="n">mask_types</span><span class="o">=</span><span class="s2">&quot;thing&quot;</span><span class="p">,</span>  <span class="c1"># give each connected region a separate instance</span>
</span><span id="__span-145-22"><span class="p">)</span>
</span><span id="__span-145-23">
</span><span id="__span-145-24"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-146-1"><span class="n">Name</span><span class="p">:</span>        <span class="n">coco</span><span class="o">-</span><span class="mi">2017</span><span class="o">-</span><span class="n">validation</span><span class="o">-</span><span class="mi">25</span>
</span><span id="__span-146-2"><span class="n">Media</span> <span class="nb">type</span><span class="p">:</span>  <span class="n">image</span>
</span><span id="__span-146-3"><span class="n">Num</span> <span class="n">samples</span><span class="p">:</span> <span class="mi">25</span>
</span><span id="__span-146-4"><span class="n">Persistent</span><span class="p">:</span>  <span class="kc">False</span>
</span><span id="__span-146-5"><span class="n">Tags</span><span class="p">:</span>        <span class="p">[]</span>
</span><span id="__span-146-6"><span class="n">Sample</span> <span class="n">fields</span><span class="p">:</span>
</span><span id="__span-146-7">    <span class="nb">id</span><span class="p">:</span>               <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ObjectIdField</span>
</span><span id="__span-146-8">    <span class="n">filepath</span><span class="p">:</span>         <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span>
</span><span id="__span-146-9">    <span class="n">tags</span><span class="p">:</span>             <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span><span class="p">)</span>
</span><span id="__span-146-10">    <span class="n">metadata</span><span class="p">:</span>         <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">ImageMetadata</span><span class="p">)</span>
</span><span id="__span-146-11">    <span class="n">created_at</span><span class="p">:</span>       <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span>
</span><span id="__span-146-12">    <span class="n">last_modified_at</span><span class="p">:</span> <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span>
</span><span id="__span-146-13">    <span class="n">instances</span><span class="p">:</span>        <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">Detections</span><span class="p">)</span>
</span><span id="__span-146-14">    <span class="n">segmentations</span><span class="p">:</span>    <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">Segmentation</span><span class="p">)</span>
</span><span id="__span-146-15">    <span class="n">polylines</span><span class="p">:</span>        <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">Polylines</span><span class="p">)</span>
</span><span id="__span-146-16">    <span class="n">instances2</span><span class="p">:</span>       <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">Detections</span><span class="p">)</span>
</span></code></pre></div>
<p>Note that, if your goal is to export the labels to disk, FiftyOne can
<a href="../export_datasets/#export-label-coercion">automatically coerce</a> the labels into the correct
format based on the type of the <code>label_field</code> and the <code>dataset_type</code> that you
specify for the export without explicitly storing the transformed labels as a
new field on your dataset:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-147-1"><span class="c1"># Export the instance segmentations in the `instances` field as semantic</span>
</span><span id="__span-147-2"><span class="c1"># segmentation images on disk</span>
</span><span id="__span-147-3"><span class="n">dataset</span><span class="o">.</span><span class="n">export</span><span class="p">(</span>
</span><span id="__span-147-4">    <span class="n">label_field</span><span class="o">=</span><span class="s2">&quot;instances&quot;</span><span class="p">,</span>
</span><span id="__span-147-5">    <span class="n">dataset_type</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">ImageSegmentationDirectory</span><span class="p">,</span>
</span><span id="__span-147-6">    <span class="n">labels_path</span><span class="o">=</span><span class="s2">&quot;/tmp/masks&quot;</span><span class="p">,</span>
</span><span id="__span-147-7">    <span class="n">mask_targets</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;dog&quot;</span><span class="p">},</span>
</span><span id="__span-147-8"><span class="p">)</span>
</span></code></pre></div>
<h2 id="dynamic-attributes">Dynamic attributes <a href="#dynamic-attributes" title="Permalink to this headline">¶</a><a class="headerlink" href="#dynamic-attributes" title="Permanent link">&para;</a></h2>
<p>Any field(s) of your FiftyOne datasets that contain <a href="../../api/fiftyone.core.odm.embedded_document.html#fiftyone.core.odm.embedded_document.DynamicEmbeddedDocument" title="fiftyone.core.odm.embedded_document.DynamicEmbeddedDocument"><code>DynamicEmbeddedDocument</code></a>
values can have arbitrary custom attributes added to their instances.</p>
<p>For example, all <a href="#using-labels">Label classes</a> and
<a href="#using-metadata">Metadata classes</a> are dynamic, so you can add custom
attributes to them as follows:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-148-1"><span class="c1"># Provide some default attributes</span>
</span><span id="__span-148-2"><span class="n">label</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="n">confidence</span><span class="o">=</span><span class="mf">0.98</span><span class="p">)</span>
</span><span id="__span-148-3">
</span><span id="__span-148-4"><span class="c1"># Add custom attributes</span>
</span><span id="__span-148-5"><span class="n">label</span><span class="p">[</span><span class="s2">&quot;int&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span>
</span><span id="__span-148-6"><span class="n">label</span><span class="p">[</span><span class="s2">&quot;float&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">51.0</span>
</span><span id="__span-148-7"><span class="n">label</span><span class="p">[</span><span class="s2">&quot;list&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</span><span id="__span-148-8"><span class="n">label</span><span class="p">[</span><span class="s2">&quot;bool&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="__span-148-9"><span class="n">label</span><span class="p">[</span><span class="s2">&quot;dict&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="s2">&quot;of&quot;</span><span class="p">,</span> <span class="s2">&quot;values&quot;</span><span class="p">]}</span>
</span></code></pre></div>
<p>By default, dynamic attributes are not included in a
<a href="#field-schemas">dataset’s schema</a>, which means that these attributes may
contain arbitrary heterogeneous values across the dataset’s samples.</p>
<p>However, FiftyOne provides methods that you can use to formally declare custom
dynamic attributes, which allows you to enforce type constraints, filter by
these custom attributes <a href="../app/#app-filtering">in the App</a>, and more.</p>
<p>You can use
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.get_dynamic_field_schema" title="fiftyone.core.dataset.Dataset.get_dynamic_field_schema"><code>get_dynamic_field_schema()</code></a>
to detect the names and type(s) of any undeclared dynamic embedded document
attributes on a dataset:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-149-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-149-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-149-3">
</span><span id="__span-149-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-149-5">
</span><span id="__span-149-6"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_dynamic_field_schema</span><span class="p">())</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-150-1"><span class="p">{</span>
</span><span id="__span-150-2">    <span class="s1">&#39;ground_truth.detections.iscrowd&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">FloatField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-150-3">    <span class="s1">&#39;ground_truth.detections.area&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">FloatField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-150-4"><span class="p">}</span>
</span></code></pre></div>
<p>You can then use
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_sample_field" title="fiftyone.core.dataset.Dataset.add_sample_field"><code>add_sample_field()</code></a> to
declare a specific dynamic embedded document attribute:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-151-1"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections.iscrowd&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">FloatField</span><span class="p">)</span>
</span></code></pre></div>
<p>or you can use the
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_dynamic_sample_fields" title="fiftyone.core.dataset.Dataset.add_dynamic_sample_fields"><code>add_dynamic_sample_fields()</code></a>
method to declare all dynamic embedded document attribute(s) that contain
values of a single type:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-152-1"><span class="n">dataset</span><span class="o">.</span><span class="n">add_dynamic_sample_fields</span><span class="p">()</span>
</span></code></pre></div>
<p>Note</p>
<p>Pass the <code>add_mixed=True</code> option to
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_dynamic_sample_fields" title="fiftyone.core.dataset.Dataset.add_dynamic_sample_fields"><code>add_dynamic_sample_fields()</code></a>
if you wish to declare all dynamic attributes that contain mixed values
using a generic <a href="../../api/fiftyone.core.fields.html#fiftyone.core.fields.Field" title="fiftyone.core.fields.Field"><code>Field</code></a> type.</p>
<p>You can provide the optional <code>flat=True</code> option to
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.get_field_schema" title="fiftyone.core.dataset.Dataset.get_field_schema"><code>get_field_schema()</code></a> to
retrieve a flattened version of a dataset’s schema that includes all embedded
document attributes as top-level keys:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-153-1"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-154-1"><span class="p">{</span>
</span><span id="__span-154-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ObjectIdField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-3">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-4">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-5">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-6">    <span class="s1">&#39;metadata.size_bytes&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">IntField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-7">    <span class="s1">&#39;metadata.mime_type&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-8">    <span class="s1">&#39;metadata.width&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">IntField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-9">    <span class="s1">&#39;metadata.height&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">IntField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-10">    <span class="s1">&#39;metadata.num_channels&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">IntField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-11">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7fea584bc730</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-12">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x7fea584bc280</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-13">    <span class="s1">&#39;ground_truth&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-14">    <span class="s1">&#39;ground_truth.detections&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-15">    <span class="s1">&#39;ground_truth.detections.id&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ObjectIdField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-16">    <span class="s1">&#39;ground_truth.detections.tags&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-17">    <span class="o">...</span>
</span><span id="__span-154-18">    <span class="s1">&#39;ground_truth.detections.iscrowd&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">FloatField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-19">    <span class="s1">&#39;ground_truth.detections.area&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">FloatField</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-154-20">    <span class="o">...</span>
</span><span id="__span-154-21"><span class="p">}</span>
</span></code></pre></div>
<p>By default, dynamic attributes are not declared on a dataset’s schema when
samples are added to it:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-155-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-155-2">
</span><span id="__span-155-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>
</span><span id="__span-155-4">    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.jpg&quot;</span><span class="p">,</span>
</span><span id="__span-155-5">    <span class="n">ground_truth</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">Detections</span><span class="p">(</span>
</span><span id="__span-155-6">        <span class="n">detections</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-155-7">            <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>\
</span><span id="__span-155-8">                <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>\
</span><span id="__span-155-9">                <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span>\
</span><span id="__span-155-10">                <span class="n">mood</span><span class="o">=</span><span class="s2">&quot;surly&quot;</span><span class="p">,</span>\
</span><span id="__span-155-11">            <span class="p">),</span>\
</span><span id="__span-155-12">            <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>\
</span><span id="__span-155-13">                <span class="n">label</span><span class="o">=</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span>\
</span><span id="__span-155-14">                <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span>\
</span><span id="__span-155-15">                <span class="n">mood</span><span class="o">=</span><span class="s2">&quot;happy&quot;</span><span class="p">,</span>\
</span><span id="__span-155-16">            <span class="p">)</span>\
</span><span id="__span-155-17">        <span class="p">]</span>
</span><span id="__span-155-18">    <span class="p">)</span>
</span><span id="__span-155-19"><span class="p">)</span>
</span><span id="__span-155-20">
</span><span id="__span-155-21"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-155-22"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-155-23">
</span><span id="__span-155-24"><span class="n">schema</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-155-25">
</span><span id="__span-155-26"><span class="k">assert</span> <span class="s2">&quot;ground_truth.detections.mood&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">schema</span>
</span></code></pre></div>
<p>However, methods such as
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_sample" title="fiftyone.core.dataset.Dataset.add_sample"><code>add_sample()</code></a>,
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_samples" title="fiftyone.core.dataset.Dataset.add_samples"><code>add_samples()</code></a>,
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_dir" title="fiftyone.core.dataset.Dataset.add_dir"><code>add_dir()</code></a>,
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.from_dir" title="fiftyone.core.dataset.Dataset.from_dir"><code>from_dir()</code></a>, and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.merge_samples" title="fiftyone.core.dataset.Dataset.merge_samples"><code>merge_samples()</code></a>
provide an optional <code>dynamic=True</code> option that you can provide to automatically
declare any dynamic embedded document attributes encountered while importing
data:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-156-1"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-156-2">
</span><span id="__span-156-3"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-156-4"><span class="n">schema</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-156-5">
</span><span id="__span-156-6"><span class="k">assert</span> <span class="s2">&quot;ground_truth.detections.mood&quot;</span> <span class="ow">in</span> <span class="n">schema</span>
</span></code></pre></div>
<p>Note that, when declaring dynamic attributes on non-empty datasets, you must
ensure that the attribute’s type is consistent with any existing values in that
field, e.g., by first running
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.get_dynamic_field_schema" title="fiftyone.core.dataset.Dataset.get_dynamic_field_schema"><code>get_dynamic_field_schema()</code></a>
to check the existing type(s). Methods like
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_sample_field" title="fiftyone.core.dataset.Dataset.add_sample_field"><code>add_sample_field()</code></a>
and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_samples" title="fiftyone.core.dataset.Dataset.add_samples"><code>add_samples(..., dynamic=True)</code></a>
do not validate newly declared field’s types against existing field values:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-157-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-157-2">
</span><span id="__span-157-3"><span class="n">sample1</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>
</span><span id="__span-157-4">    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image1.jpg&quot;</span><span class="p">,</span>
</span><span id="__span-157-5">    <span class="n">ground_truth</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span>
</span><span id="__span-157-6">        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span>
</span><span id="__span-157-7">        <span class="n">mood</span><span class="o">=</span><span class="s2">&quot;surly&quot;</span><span class="p">,</span>
</span><span id="__span-157-8">        <span class="n">age</span><span class="o">=</span><span class="s2">&quot;bad-value&quot;</span><span class="p">,</span>
</span><span id="__span-157-9">    <span class="p">),</span>
</span><span id="__span-157-10"><span class="p">)</span>
</span><span id="__span-157-11">
</span><span id="__span-157-12"><span class="n">sample2</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>
</span><span id="__span-157-13">    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image2.jpg&quot;</span><span class="p">,</span>
</span><span id="__span-157-14">    <span class="n">ground_truth</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span>
</span><span id="__span-157-15">        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span>
</span><span id="__span-157-16">        <span class="n">mood</span><span class="o">=</span><span class="s2">&quot;happy&quot;</span><span class="p">,</span>
</span><span id="__span-157-17">        <span class="n">age</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-157-18">    <span class="p">),</span>
</span><span id="__span-157-19"><span class="p">)</span>
</span><span id="__span-157-20">
</span><span id="__span-157-21"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-157-22">
</span><span id="__span-157-23"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample1</span><span class="p">)</span>
</span><span id="__span-157-24">
</span><span id="__span-157-25"><span class="c1"># Either of these are problematic</span>
</span><span id="__span-157-26"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample2</span><span class="p">,</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-157-27"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;ground_truth.age&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">IntField</span><span class="p">)</span>
</span><span id="__span-157-28">
</span><span id="__span-157-29"><span class="n">sample1</span><span class="o">.</span><span class="n">reload</span><span class="p">()</span>  <span class="c1"># ValidationError: bad-value could not be converted to int</span>
</span></code></pre></div>
<p>If you declare a dynamic attribute with a type that is not compatible with
existing values in that field, you will need to remove that field from the
dataset’s schema using
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.remove_dynamic_sample_field" title="fiftyone.core.dataset.Dataset.remove_dynamic_sample_field"><code>remove_dynamic_sample_field()</code></a>
in order for the dataset to be usable again:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-158-1"><span class="c1"># Removes dynamic field from dataset&#39;s schema without deleting the values</span>
</span><span id="__span-158-2"><span class="n">dataset</span><span class="o">.</span><span class="n">remove_dynamic_sample_field</span><span class="p">(</span><span class="s2">&quot;ground_truth.age&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>You can use
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.select_fields" title="fiftyone.core.collections.SampleCollection.select_fields"><code>select_fields()</code></a>
and
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.exclude_fields" title="fiftyone.core.collections.SampleCollection.exclude_fields"><code>exclude_fields()</code></a>
to create <a href="../using_views/#using-views">views</a> that select/exclude specific dynamic
attributes from your dataset and its schema:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-159-1"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;ground_truth.age&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">Field</span><span class="p">)</span>
</span><span id="__span-159-2"><span class="n">sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-159-3">
</span><span id="__span-159-4"><span class="k">assert</span> <span class="s2">&quot;ground_truth.age&quot;</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-159-5"><span class="k">assert</span> <span class="n">sample</span><span class="o">.</span><span class="n">ground_truth</span><span class="o">.</span><span class="n">has_field</span><span class="p">(</span><span class="s2">&quot;age&quot;</span><span class="p">)</span>
</span><span id="__span-159-6">
</span><span id="__span-159-7"><span class="c1"># Omits the `age` attribute from the `ground_truth` field</span>
</span><span id="__span-159-8"><span class="n">view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">exclude_fields</span><span class="p">(</span><span class="s2">&quot;ground_truth.age&quot;</span><span class="p">)</span>
</span><span id="__span-159-9"><span class="n">sample</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-159-10">
</span><span id="__span-159-11"><span class="k">assert</span> <span class="s2">&quot;ground_truth.age&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">view</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-159-12"><span class="k">assert</span> <span class="ow">not</span> <span class="n">sample</span><span class="o">.</span><span class="n">ground_truth</span><span class="o">.</span><span class="n">has_field</span><span class="p">(</span><span class="s2">&quot;age&quot;</span><span class="p">)</span>
</span><span id="__span-159-13">
</span><span id="__span-159-14"><span class="c1"># Only include `mood` (and default) attributes of the `ground_truth` field</span>
</span><span id="__span-159-15"><span class="n">view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">select_fields</span><span class="p">(</span><span class="s2">&quot;ground_truth.mood&quot;</span><span class="p">)</span>
</span><span id="__span-159-16"><span class="n">sample</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-159-17">
</span><span id="__span-159-18"><span class="k">assert</span> <span class="s2">&quot;ground_truth.age&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">view</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-159-19"><span class="k">assert</span> <span class="ow">not</span> <span class="n">sample</span><span class="o">.</span><span class="n">ground_truth</span><span class="o">.</span><span class="n">has_field</span><span class="p">(</span><span class="s2">&quot;age&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h2 id="custom-embedded-documents">Custom embedded documents <a href="#custom-embedded-documents" title="Permalink to this headline">¶</a><a class="headerlink" href="#custom-embedded-documents" title="Permanent link">&para;</a></h2>
<p>If you work with collections of related fields that you would like to organize
under a single top-level field, you can achieve this by defining and using
custom <a href="../../api/fiftyone.core.odm.embedded_document.html#fiftyone.core.odm.embedded_document.EmbeddedDocument" title="fiftyone.core.odm.embedded_document.EmbeddedDocument"><code>EmbeddedDocument</code></a> and <a href="../../api/fiftyone.core.odm.embedded_document.html#fiftyone.core.odm.embedded_document.DynamicEmbeddedDocument" title="fiftyone.core.odm.embedded_document.DynamicEmbeddedDocument"><code>DynamicEmbeddedDocument</code></a> classes to populate
your datasetes.</p>
<p>Using custom embedded document classes enables you to access your data using
the same object-oriented interface enjoyed by FiftyOne’s
<a href="#using-labels">builtin label types</a>.</p>
<p>The <a href="../../api/fiftyone.core.odm.embedded_document.html#fiftyone.core.odm.embedded_document.EmbeddedDocument" title="fiftyone.core.odm.embedded_document.EmbeddedDocument"><code>EmbeddedDocument</code></a> class represents a fixed collection of fields with
predefined types and optional default values, while the
<a href="../../api/fiftyone.core.odm.embedded_document.html#fiftyone.core.odm.embedded_document.DynamicEmbeddedDocument" title="fiftyone.core.odm.embedded_document.DynamicEmbeddedDocument"><code>DynamicEmbeddedDocument</code></a> class supports predefined fields but also allows
users to populate arbitrary custom fields at runtime, like FiftyOne’s
<a href="#using-labels">builtin label types</a>.</p>
<h3 id="defining-custom-documents-on-the-fly">Defining custom documents on-the-fly <a href="#defining-custom-documents-on-the-fly" title="Permalink to this headline">¶</a><a class="headerlink" href="#defining-custom-documents-on-the-fly" title="Permanent link">&para;</a></h3>
<p>The simplest way to define custom embedded documents on your datasets is to
declare empty <a href="../../api/fiftyone.core.odm.embedded_document.html#fiftyone.core.odm.embedded_document.DynamicEmbeddedDocument" title="fiftyone.core.odm.embedded_document.DynamicEmbeddedDocument"><code>DynamicEmbeddedDocument</code></a> field(s) and then incrementally
populate new <a href="#dynamic-attributes">dynamic attributes</a> as needed.</p>
<p>To illustrate, let’s start by defining an empty embedded document field:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-160-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-160-2">
</span><span id="__span-160-3"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-160-4">
</span><span id="__span-160-5"><span class="c1"># Define an empty embedded document field</span>
</span><span id="__span-160-6"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span>
</span><span id="__span-160-7">    <span class="s2">&quot;camera_info&quot;</span><span class="p">,</span>
</span><span id="__span-160-8">    <span class="n">fo</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">,</span>
</span><span id="__span-160-9">    <span class="n">embedded_doc_type</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">DynamicEmbeddedDocument</span><span class="p">,</span>
</span><span id="__span-160-10"><span class="p">)</span>
</span></code></pre></div>
<p>From here, there are a variety of ways to add new embedded attributes to the
field.</p>
<p>You can explicitly declare new fields using
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_sample_field" title="fiftyone.core.dataset.Dataset.add_sample_field"><code>add_sample_field()</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-161-1"><span class="c1"># Declare a new `camera_id` attribute</span>
</span><span id="__span-161-2"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;camera_info.camera_id&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">StringField</span><span class="p">)</span>
</span><span id="__span-161-3">
</span><span id="__span-161-4"><span class="k">assert</span> <span class="s2">&quot;camera_info.camera_id&quot;</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></code></pre></div>
<p>or you can implicitly declare new fields using
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.add_samples" title="fiftyone.core.dataset.Dataset.add_samples"><code>add_samples()</code></a> with the
<code>dynamic=True</code> flag:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-162-1"><span class="c1"># Includes a new `quality` attribute</span>
</span><span id="__span-162-2"><span class="n">sample1</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>
</span><span id="__span-162-3">    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image1.jpg&quot;</span><span class="p">,</span>
</span><span id="__span-162-4">    <span class="n">camera_info</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">DynamicEmbeddedDocument</span><span class="p">(</span>
</span><span id="__span-162-5">        <span class="n">camera_id</span><span class="o">=</span><span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
</span><span id="__span-162-6">        <span class="n">quality</span><span class="o">=</span><span class="mf">51.0</span><span class="p">,</span>
</span><span id="__span-162-7">    <span class="p">),</span>
</span><span id="__span-162-8"><span class="p">)</span>
</span><span id="__span-162-9">
</span><span id="__span-162-10"><span class="n">sample2</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>
</span><span id="__span-162-11">    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image2.jpg&quot;</span><span class="p">,</span>
</span><span id="__span-162-12">    <span class="n">camera_info</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">DynamicEmbeddedDocument</span><span class="p">(</span><span class="n">camera_id</span><span class="o">=</span><span class="s2">&quot;123456789&quot;</span><span class="p">),</span>
</span><span id="__span-162-13"><span class="p">)</span>
</span><span id="__span-162-14">
</span><span id="__span-162-15"><span class="c1"># Automatically declares new dynamic attributes as they are encountered</span>
</span><span id="__span-162-16"><span class="n">dataset</span><span class="o">.</span><span class="n">add_samples</span><span class="p">([</span><span class="n">sample1</span><span class="p">,</span> <span class="n">sample2</span><span class="p">],</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-162-17">
</span><span id="__span-162-18"><span class="k">assert</span> <span class="s2">&quot;camera_info.quality&quot;</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></code></pre></div>
<p>or you can implicitly declare new fields using
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.set_values" title="fiftyone.core.collections.SampleCollection.set_values"><code>set_values()</code></a>
with the <code>dynamic=True</code> flag:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-163-1"><span class="c1"># Populate a new `description` attribute on each sample in the dataset</span>
</span><span id="__span-163-2"><span class="n">dataset</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span><span class="s2">&quot;camera_info.description&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">],</span> <span class="n">dynamic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-163-3">
</span><span id="__span-163-4"><span class="k">assert</span> <span class="s2">&quot;camera_info.description&quot;</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">(</span><span class="n">flat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="defining-custom-documents-in-modules">Defining custom documents in modules <a href="#defining-custom-documents-in-modules" title="Permalink to this headline">¶</a><a class="headerlink" href="#defining-custom-documents-in-modules" title="Permanent link">&para;</a></h3>
<p>You can also define custom embedded document classes in Python modules and
packages that you maintain, using the appropriate types from the
<a href="../../api/fiftyone.core.fields.html#module-fiftyone.core.fields" title="fiftyone.core.fields"><code>fiftyone.core.fields</code></a> module to declare your fields and their types,
defaults, etc.</p>
<p>The benefit of this approach over the on-the-fly definition from the previous
section is that you can provide extra metadata such as whether fields are
<code>required</code> or should have <code>default</code> values if they are not explicitly set
during creation.</p>
<p>Warning</p>
<p>In order to work with datasets containing custom embedded documents defined
using this approach, you must configure your <code>module_path</code> in
<em>all environments</em> where you intend to work with the datasets that use
these classes, not just the environment where you create the dataset.</p>
<p>To avoid this requirement, consider defining custom documents
<a href="#defining-custom-documents-on-the-fly">on-the-fly</a> instead.</p>
<p>For example, suppose you add the following embedded document classes to a
<code>foo.bar</code> module:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-164-1"><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
</span><span id="__span-164-2">
</span><span id="__span-164-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-164-4">
</span><span id="__span-164-5"><span class="k">class</span><span class="w"> </span><span class="nc">CameraInfo</span><span class="p">(</span><span class="n">fo</span><span class="o">.</span><span class="n">EmbeddedDocument</span><span class="p">):</span>
</span><span id="__span-164-6">    <span class="n">camera_id</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">StringField</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-164-7">    <span class="n">quality</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">FloatField</span><span class="p">()</span>
</span><span id="__span-164-8">    <span class="n">description</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">StringField</span><span class="p">()</span>
</span><span id="__span-164-9">
</span><span id="__span-164-10"><span class="k">class</span><span class="w"> </span><span class="nc">LabelMetadata</span><span class="p">(</span><span class="n">fo</span><span class="o">.</span><span class="n">DynamicEmbeddedDocument</span><span class="p">):</span>
</span><span id="__span-164-11">    <span class="n">created_at</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">)</span>
</span><span id="__span-164-12">    <span class="n">model_name</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">StringField</span><span class="p">()</span>
</span></code></pre></div>
<p>and then <code>foo.bar</code> to FiftyOne’s <code>module_path</code> config setting (see
<a href="../config/#configuring-fiftyone">this page</a> for more ways to register this):</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-165-1"><span class="n">export</span> <span class="n">FIFTYONE_MODULE_PATH</span><span class="o">=</span><span class="n">foo</span><span class="o">.</span><span class="n">bar</span>
</span><span id="__span-165-2">
</span><span id="__span-165-3"><span class="c1"># Verify module path</span>
</span><span id="__span-165-4"><span class="n">fiftyone</span> <span class="n">config</span>
</span></code></pre></div>
<p>You’re now free to use your custom embedded document classes as you please,
whether this be top-level sample fields or nested fields:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-166-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-166-2"><span class="kn">import</span><span class="w"> </span><span class="nn">foo.bar</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fb</span>
</span><span id="__span-166-3">
</span><span id="__span-166-4"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>
</span><span id="__span-166-5">    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">,</span>
</span><span id="__span-166-6">    <span class="n">camera_info</span><span class="o">=</span><span class="n">fb</span><span class="o">.</span><span class="n">CameraInfo</span><span class="p">(</span>
</span><span id="__span-166-7">        <span class="n">camera_id</span><span class="o">=</span><span class="s2">&quot;123456789&quot;</span><span class="p">,</span>
</span><span id="__span-166-8">        <span class="n">quality</span><span class="o">=</span><span class="mf">99.0</span><span class="p">,</span>
</span><span id="__span-166-9">    <span class="p">),</span>
</span><span id="__span-166-10">    <span class="n">weather</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span>
</span><span id="__span-166-11">        <span class="n">label</span><span class="o">=</span><span class="s2">&quot;sunny&quot;</span><span class="p">,</span>
</span><span id="__span-166-12">        <span class="n">confidence</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
</span><span id="__span-166-13">        <span class="n">metadata</span><span class="o">=</span><span class="n">fb</span><span class="o">.</span><span class="n">LabelMetadata</span><span class="p">(</span>
</span><span id="__span-166-14">            <span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;resnet50&quot;</span><span class="p">,</span>
</span><span id="__span-166-15">            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A dynamic field&quot;</span><span class="p">,</span>
</span><span id="__span-166-16">        <span class="p">)</span>
</span><span id="__span-166-17">    <span class="p">),</span>
</span><span id="__span-166-18"><span class="p">)</span>
</span><span id="__span-166-19">
</span><span id="__span-166-20"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-166-21"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-166-22">
</span><span id="__span-166-23"><span class="n">dataset</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;test&quot;</span>
</span><span id="__span-166-24"><span class="n">dataset</span><span class="o">.</span><span class="n">persistent</span> <span class="o">=</span> <span class="kc">True</span>
</span></code></pre></div>
<p>As long as <code>foo.bar</code> is on your <code>module_path</code>, this dataset can be loaded in
future sessions and manipulated as usual:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-167-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-167-2">
</span><span id="__span-167-3"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">&quot;test&quot;</span><span class="p">)</span>
</span><span id="__span-167-4"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">first</span><span class="p">())</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-168-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-168-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6217b696d181786cff360740&#39;</span><span class="p">,</span>
</span><span id="__span-168-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-168-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-168-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-168-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-168-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">701907</span><span class="p">),</span>
</span><span id="__span-168-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">701907</span><span class="p">),</span>
</span><span id="__span-168-9">    <span class="s1">&#39;camera_info&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">CameraInfo</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-168-10">        <span class="s1">&#39;camera_id&#39;</span><span class="p">:</span> <span class="s1">&#39;123456789&#39;</span><span class="p">,</span>
</span><span id="__span-168-11">        <span class="s1">&#39;quality&#39;</span><span class="p">:</span> <span class="mf">99.0</span><span class="p">,</span>
</span><span id="__span-168-12">        <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-168-13">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-168-14">    <span class="s1">&#39;weather&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-168-15">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6217b696d181786cff36073e&#39;</span><span class="p">,</span>
</span><span id="__span-168-16">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-168-17">        <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;sunny&#39;</span><span class="p">,</span>
</span><span id="__span-168-18">        <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span>
</span><span id="__span-168-19">        <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-168-20">        <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">LabelMetadata</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-168-21">            <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
</span><span id="__span-168-22">            <span class="s1">&#39;model_name&#39;</span><span class="p">:</span> <span class="s1">&#39;resnet50&#39;</span><span class="p">,</span>
</span><span id="__span-168-23">            <span class="s1">&#39;description&#39;</span><span class="p">:</span> <span class="s1">&#39;A dynamic field&#39;</span><span class="p">,</span>
</span><span id="__span-168-24">        <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-168-25">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-168-26"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<h2 id="image-datasets">Image datasets <a href="#image-datasets" title="Permalink to this headline">¶</a><a class="headerlink" href="#image-datasets" title="Permanent link">&para;</a></h2>
<p>Any <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> whose <code>filepath</code> is a file with MIME type <code>image/*</code> is recognized
as a image sample, and datasets composed of image samples have media type
<code>image</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-169-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-169-2">
</span><span id="__span-169-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/image.png&quot;</span><span class="p">)</span>
</span><span id="__span-169-4">
</span><span id="__span-169-5"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-169-6"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-169-7">
</span><span id="__span-169-8"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">media_type</span><span class="p">)</span>  <span class="c1"># image</span>
</span><span id="__span-169-9"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-170-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-170-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6655ca275e20e244f2c8fe31&#39;</span><span class="p">,</span>
</span><span id="__span-170-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span>
</span><span id="__span-170-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/image.png&#39;</span><span class="p">,</span>
</span><span id="__span-170-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-170-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-170-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">122038</span><span class="p">),</span>
</span><span id="__span-170-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">122038</span><span class="p">),</span>
</span><span id="__span-170-9"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<h3 id="example-image-dataset">Example image dataset <a href="#example-image-dataset" title="Permalink to this headline">¶</a><a class="headerlink" href="#example-image-dataset" title="Permanent link">&para;</a></h3>
<p>To get started exploring image datasets, try loading the
<a href="../../data/dataset_zoo/datasets/#dataset-zoo-quickstart">quickstart dataset</a> from the zoo:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-171-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-171-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-171-3">
</span><span id="__span-171-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-171-5">
</span><span id="__span-171-6"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections&quot;</span><span class="p">))</span>  <span class="c1"># 1232</span>
</span><span id="__span-171-7"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">))</span>  <span class="c1"># 5620</span>
</span><span id="__span-171-8"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_values</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections.label&quot;</span><span class="p">))</span>
</span><span id="__span-171-9"><span class="c1"># {&#39;dog&#39;: 15, &#39;airplane&#39;: 24, &#39;dining table&#39;: 15, &#39;hot dog&#39;: 5, ...}</span>
</span><span id="__span-171-10">
</span><span id="__span-171-11"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p><img alt="quickstart" src="../../_images/quickstart.gif" /></p>
<h2 id="video-datasets">Video datasets <a href="#video-datasets" title="Permalink to this headline">¶</a><a class="headerlink" href="#video-datasets" title="Permanent link">&para;</a></h2>
<p>Any <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> whose <code>filepath</code> is a file with MIME type <code>video/*</code> is recognized
as a video sample, and datasets composed of video samples have media type
<code>video</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-172-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-172-2">
</span><span id="__span-172-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/video.mp4&quot;</span><span class="p">)</span>
</span><span id="__span-172-4">
</span><span id="__span-172-5"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-172-6"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-172-7">
</span><span id="__span-172-8"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">media_type</span><span class="p">)</span>  <span class="c1"># video</span>
</span><span id="__span-172-9"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-173-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-173-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6403ccef0a3af5bc780b5a10&#39;</span><span class="p">,</span>
</span><span id="__span-173-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span>
</span><span id="__span-173-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/video.mp4&#39;</span><span class="p">,</span>
</span><span id="__span-173-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-173-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-173-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">229263</span><span class="p">),</span>
</span><span id="__span-173-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">229263</span><span class="p">),</span>
</span><span id="__span-173-9">    <span class="s1">&#39;frames&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Frames</span><span class="p">:</span> <span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-173-10"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>All video samples have a reserved <code>frames</code> attribute in which you can store
frame-level labels and other custom annotations for the video. The <code>frames</code>
attribute is a dictionary whose keys are frame numbers and whose values are
<a href="../../api/fiftyone.core.frame.html#fiftyone.core.frame.Frame" title="fiftyone.core.frame.Frame"><code>Frame</code></a> instances that hold all of the <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> instances and other
primitive-type fields for the frame.</p>
<p>Note</p>
<p>FiftyOne uses 1-based indexing for video frame numbers.</p>
<p>You can add, modify, and delete <a href="#using-labels">labels of any type</a> as
well as primitive fields such as integers, strings, and booleans using the same
dynamic attribute syntax that you use to
<a href="#adding-sample-fields">interact with samples</a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-174-1"><span class="n">frame</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span>
</span><span id="__span-174-2">    <span class="n">quality</span><span class="o">=</span><span class="mf">97.12</span><span class="p">,</span>
</span><span id="__span-174-3">    <span class="n">weather</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">Classification</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;sunny&quot;</span><span class="p">),</span>
</span><span id="__span-174-4">    <span class="n">objects</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">Detections</span><span class="p">(</span>
</span><span id="__span-174-5">        <span class="n">detections</span><span class="o">=</span><span class="p">[</span>\
</span><span id="__span-174-6">            <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]),</span>\
</span><span id="__span-174-7">            <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;dog&quot;</span><span class="p">,</span> <span class="n">bounding_box</span><span class="o">=</span><span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">]),</span>\
</span><span id="__span-174-8">        <span class="p">]</span>
</span><span id="__span-174-9">    <span class="p">)</span>
</span><span id="__span-174-10"><span class="p">)</span>
</span><span id="__span-174-11">
</span><span id="__span-174-12"><span class="c1"># Add labels to the first frame of the video</span>
</span><span id="__span-174-13"><span class="n">sample</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">frame</span>
</span><span id="__span-174-14"><span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample.save" title="fiftyone.core.sample.Sample.save"><code>sample.save()</code></a> in
order to persist changes to the database when editing video samples and/or
their frames that are in datasets.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-175-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-175-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6403ccef0a3af5bc780b5a10&#39;</span><span class="p">,</span>
</span><span id="__span-175-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span>
</span><span id="__span-175-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/video.mp4&#39;</span><span class="p">,</span>
</span><span id="__span-175-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-175-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-175-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">229263</span><span class="p">),</span>
</span><span id="__span-175-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">229263</span><span class="p">),</span>
</span><span id="__span-175-9">    <span class="s1">&#39;frames&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Frames</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">,</span>    <span class="o">&lt;--</span> <span class="err">`</span><span class="n">frames</span><span class="err">`</span> <span class="n">now</span> <span class="n">contains</span> <span class="mi">1</span> <span class="n">frame</span> <span class="n">of</span> <span class="n">labels</span>
</span><span id="__span-175-10"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>The <code>frames</code> attribute of video samples behaves like a defaultdict; a new
<a href="../../api/fiftyone.core.frame.html#fiftyone.core.frame.Frame" title="fiftyone.core.frame.Frame"><code>Frame</code></a> will be created if the frame number does not exist when you access
it.</p>
<p>You can iterate over the frames in a video sample using the expected syntax:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-176-1"><span class="k">for</span> <span class="n">frame_number</span><span class="p">,</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">sample</span><span class="o">.</span><span class="n">frames</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-176-2">    <span class="nb">print</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-177-1"><span class="o">&lt;</span><span class="n">Frame</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-177-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6403cd972a54cee076f88bd2&#39;</span><span class="p">,</span>
</span><span id="__span-177-3">    <span class="s1">&#39;frame_number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="__span-177-4">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">839000</span><span class="p">),</span>
</span><span id="__span-177-5">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">839000</span><span class="p">),</span>
</span><span id="__span-177-6">    <span class="s1">&#39;quality&#39;</span><span class="p">:</span> <span class="mf">97.12</span><span class="p">,</span>
</span><span id="__span-177-7">    <span class="s1">&#39;weather&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Classification</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-177-8">        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;609078d54653b0094e9baa52&#39;</span><span class="p">,</span>
</span><span id="__span-177-9">        <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-177-10">        <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;sunny&#39;</span><span class="p">,</span>
</span><span id="__span-177-11">        <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-177-12">        <span class="s1">&#39;logits&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-177-13">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-177-14">    <span class="s1">&#39;objects&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Detections</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-177-15">        <span class="s1">&#39;detections&#39;</span><span class="p">:</span> <span class="p">[</span>\
</span><span id="__span-177-16">            <span class="o">&lt;</span><span class="n">Detection</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-177-17">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;609078d54653b0094e9baa53&#39;</span><span class="p">,</span>\
</span><span id="__span-177-18">                <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>\
</span><span id="__span-177-19">                <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>\
</span><span id="__span-177-20">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;cat&#39;</span><span class="p">,</span>\
</span><span id="__span-177-21">                <span class="s1">&#39;bounding_box&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>\
</span><span id="__span-177-22">                <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-177-23">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-177-24">                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-177-25">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-177-26">            <span class="o">&lt;</span><span class="n">Detection</span><span class="p">:</span> <span class="p">{</span>\
</span><span id="__span-177-27">                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;609078d54653b0094e9baa54&#39;</span><span class="p">,</span>\
</span><span id="__span-177-28">                <span class="s1">&#39;attributes&#39;</span><span class="p">:</span> <span class="p">{},</span>\
</span><span id="__span-177-29">                <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>\
</span><span id="__span-177-30">                <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;dog&#39;</span><span class="p">,</span>\
</span><span id="__span-177-31">                <span class="s1">&#39;bounding_box&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>\
</span><span id="__span-177-32">                <span class="s1">&#39;mask&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-177-33">                <span class="s1">&#39;confidence&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-177-34">                <span class="s1">&#39;index&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>\
</span><span id="__span-177-35">            <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>\
</span><span id="__span-177-36">        <span class="p">],</span>
</span><span id="__span-177-37">    <span class="p">}</span><span class="o">&gt;</span><span class="p">,</span>
</span><span id="__span-177-38"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Notice that the dataset’s summary indicates that the dataset has media type
<code>video</code> and includes the schema of any frame fields you add:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-178-1"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-179-1"><span class="n">Name</span><span class="p">:</span>           <span class="mf">2021.05.03.18.30.20</span>
</span><span id="__span-179-2"><span class="n">Media</span> <span class="nb">type</span><span class="p">:</span>     <span class="n">video</span>
</span><span id="__span-179-3"><span class="n">Num</span> <span class="n">samples</span><span class="p">:</span>    <span class="mi">1</span>
</span><span id="__span-179-4"><span class="n">Persistent</span><span class="p">:</span>     <span class="kc">False</span>
</span><span id="__span-179-5"><span class="n">Tags</span><span class="p">:</span>           <span class="p">[]</span>
</span><span id="__span-179-6"><span class="n">Sample</span> <span class="n">fields</span><span class="p">:</span>
</span><span id="__span-179-7">    <span class="nb">id</span><span class="p">:</span>               <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ObjectIdField</span>
</span><span id="__span-179-8">    <span class="n">filepath</span><span class="p">:</span>         <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span>
</span><span id="__span-179-9">    <span class="n">tags</span><span class="p">:</span>             <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ListField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">StringField</span><span class="p">)</span>
</span><span id="__span-179-10">    <span class="n">metadata</span><span class="p">:</span>         <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">metadata</span><span class="o">.</span><span class="n">VideoMetadata</span><span class="p">)</span>
</span><span id="__span-179-11">    <span class="n">created_at</span><span class="p">:</span>       <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span>
</span><span id="__span-179-12">    <span class="n">last_modified_at</span><span class="p">:</span> <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span>
</span><span id="__span-179-13"><span class="n">Frame</span> <span class="n">fields</span><span class="p">:</span>
</span><span id="__span-179-14">    <span class="nb">id</span><span class="p">:</span>               <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">ObjectIdField</span>
</span><span id="__span-179-15">    <span class="n">frame_number</span><span class="p">:</span>     <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">FrameNumberField</span>
</span><span id="__span-179-16">    <span class="n">created_at</span><span class="p">:</span>       <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span>
</span><span id="__span-179-17">    <span class="n">last_modified_at</span><span class="p">:</span> <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">DateTimeField</span>
</span><span id="__span-179-18">    <span class="n">quality</span><span class="p">:</span>          <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">FloatField</span>
</span><span id="__span-179-19">    <span class="n">weather</span><span class="p">:</span>          <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">Classification</span><span class="p">)</span>
</span><span id="__span-179-20">    <span class="n">objects</span><span class="p">:</span>          <span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">fields</span><span class="o">.</span><span class="n">EmbeddedDocumentField</span><span class="p">(</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">Detections</span><span class="p">)</span>
</span></code></pre></div>
<p>You can retrieve detailed information about the schema of the frames of a
video <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> using
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.get_frame_field_schema" title="fiftyone.core.dataset.Dataset.get_frame_field_schema"><code>dataset.get_frame_field_schema()</code></a>.</p>
<p>The samples in video datasets can be accessed
<a href="#accessing-samples-in-a-dataset">like usual</a>, and the sample’s frame
labels can be modified by updating the <code>frames</code> attribute of a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-180-1"><span class="n">sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-180-2"><span class="k">for</span> <span class="n">frame_number</span><span class="p">,</span> <span class="n">frame</span> <span class="ow">in</span> <span class="n">sample</span><span class="o">.</span><span class="n">frames</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-180-3">    <span class="n">frame</span><span class="p">[</span><span class="s2">&quot;frame_str&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">frame_number</span><span class="p">)</span>
</span><span id="__span-180-4">    <span class="k">del</span> <span class="n">frame</span><span class="p">[</span><span class="s2">&quot;weather&quot;</span><span class="p">]</span>
</span><span id="__span-180-5">    <span class="k">del</span> <span class="n">frame</span><span class="p">[</span><span class="s2">&quot;objects&quot;</span><span class="p">]</span>
</span><span id="__span-180-6">
</span><span id="__span-180-7"><span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-180-8">
</span><span id="__span-180-9"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">frames</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-181-1"><span class="o">&lt;</span><span class="n">Frame</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-181-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6403cd972a54cee076f88bd2&#39;</span><span class="p">,</span>
</span><span id="__span-181-3">    <span class="s1">&#39;frame_number&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="__span-181-4">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">839000</span><span class="p">),</span>
</span><span id="__span-181-5">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">49</span><span class="p">,</span> <span class="mi">430051</span><span class="p">),</span>
</span><span id="__span-181-6">    <span class="s1">&#39;quality&#39;</span><span class="p">:</span> <span class="mf">97.12</span><span class="p">,</span>
</span><span id="__span-181-7">    <span class="s1">&#39;weather&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-181-8">    <span class="s1">&#39;objects&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-181-9">    <span class="s1">&#39;frame_str&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span>
</span><span id="__span-181-10"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Note</p>
<p>You must call <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample.save" title="fiftyone.core.sample.Sample.save"><code>sample.save()</code></a> in
order to persist changes to the database when editing video samples and/or
their frames that are in datasets.</p>
<p><a href="../dataset_creation/#loading-custom-datasets">See this page</a> for more information about
building labeled video samples.</p>
<h3 id="example-video-dataset">Example video dataset <a href="#example-video-dataset" title="Permalink to this headline">¶</a><a class="headerlink" href="#example-video-dataset" title="Permanent link">&para;</a></h3>
<p>To get started exploring video datasets, try loading the
<a href="../../data/dataset_zoo/datasets/#dataset-zoo-quickstart-video">quickstart-video dataset</a> from the zoo:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-182-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-182-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-182-3">
</span><span id="__span-182-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart-video&quot;</span><span class="p">)</span>
</span><span id="__span-182-5">
</span><span id="__span-182-6"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;frames&quot;</span><span class="p">))</span>  <span class="c1"># 1279</span>
</span><span id="__span-182-7"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;frames.detections.detections&quot;</span><span class="p">))</span>  <span class="c1"># 11345</span>
</span><span id="__span-182-8"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_values</span><span class="p">(</span><span class="s2">&quot;frames.detections.detections.label&quot;</span><span class="p">))</span>
</span><span id="__span-182-9"><span class="c1"># {&#39;vehicle&#39;: 7511, &#39;road sign&#39;: 2726, &#39;person&#39;: 1108}</span>
</span><span id="__span-182-10">
</span><span id="__span-182-11"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p><img alt="quickstart-video" src="../../_images/quickstart-video.gif" /></p>
<h2 id="3d-datasets">3D datasets <a href="#d-datasets" title="Permalink to this headline">¶</a><a class="headerlink" href="#3d-datasets" title="Permanent link">&para;</a></h2>
<p>Any <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> whose <code>filepath</code> is a file with extension <code>.fo3d</code> is
recognized as a 3D sample, and datasets composed of 3D
samples have media type <code>3d</code>.</p>
<p>An FO3D file encapsulates a 3D scene constructed using the
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.Scene" title="fiftyone.core.threed.Scene"><code>Scene</code></a> class, which provides methods
to add, remove, and manipulate 3D objects in the scene. A scene is
internally represented as a n-ary tree of 3D objects, where each
object is a node in the tree. A 3D object is either a
<a href="#d-meshes">3D mesh</a>, <a href="#d-point-clouds">point cloud</a>,
or a <a href="#d-shapes">3D shape geometry</a>.</p>
<p>A scene may be explicitly initialized with additional attributes, such as
<a href="../../api/fiftyone.core.threed.camera.html#module-fiftyone.core.threed.camera" title="fiftyone.core.threed.camera"><code>camera</code></a>,
<a href="../../api/fiftyone.core.threed.lights.html#module-fiftyone.core.threed.lights" title="fiftyone.core.threed.lights"><code>lights</code></a>, and
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.SceneBackground" title="fiftyone.core.threed.SceneBackground"><code>background</code></a>. By default, a
scene is created with neutral lighting, and a perspective camera whose
<code>up</code> is set to <code>Y</code> axis in a right-handed coordinate system.</p>
<p>After a scene is constructed, it should be written to the disk using the
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.Scene.write" title="fiftyone.core.threed.Scene.write"><code>scene.write()</code></a> method, which
serializes the scene into an FO3D file.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-183-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-183-2">
</span><span id="__span-183-3"><span class="n">scene</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Scene</span><span class="p">()</span>
</span><span id="__span-183-4"><span class="n">scene</span><span class="o">.</span><span class="n">camera</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">PerspectiveCamera</span><span class="p">(</span><span class="n">up</span><span class="o">=</span><span class="s2">&quot;Z&quot;</span><span class="p">)</span>
</span><span id="__span-183-5">
</span><span id="__span-183-6"><span class="n">mesh</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">GltfMesh</span><span class="p">(</span><span class="s2">&quot;mesh&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh.glb&quot;</span><span class="p">)</span>
</span><span id="__span-183-7"><span class="n">mesh</span><span class="o">.</span><span class="n">rotation</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Euler</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">degrees</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-183-8">
</span><span id="__span-183-9"><span class="n">sphere1</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">SphereGeometry</span><span class="p">(</span><span class="s2">&quot;sphere1&quot;</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="__span-183-10"><span class="n">sphere1</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</span><span id="__span-183-11"><span class="n">sphere1</span><span class="o">.</span><span class="n">default_material</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
</span><span id="__span-183-12">
</span><span id="__span-183-13"><span class="n">sphere2</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">SphereGeometry</span><span class="p">(</span><span class="s2">&quot;sphere2&quot;</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="__span-183-14"><span class="n">sphere2</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</span><span id="__span-183-15"><span class="n">sphere2</span><span class="o">.</span><span class="n">default_material</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span>
</span><span id="__span-183-16">
</span><span id="__span-183-17"><span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">sphere1</span><span class="p">,</span> <span class="n">sphere2</span><span class="p">)</span>
</span><span id="__span-183-18">
</span><span id="__span-183-19"><span class="n">scene</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;/path/to/scene.fo3d&quot;</span><span class="p">)</span>
</span><span id="__span-183-20">
</span><span id="__span-183-21"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/scene.fo3d&quot;</span><span class="p">)</span>
</span><span id="__span-183-22">
</span><span id="__span-183-23"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-183-24"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-183-25">
</span><span id="__span-183-26"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">media_type</span><span class="p">)</span>  <span class="c1"># 3d</span>
</span></code></pre></div>
<p>To modify an exising scene, load it via
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.Scene.from_fo3d" title="fiftyone.core.threed.Scene.from_fo3d"><code>Scene.from_fo3d()</code></a>, perform any
necessary updates, and then re-write it to disk:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-184-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-184-2">
</span><span id="__span-184-3"><span class="n">scene</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Scene</span><span class="o">.</span><span class="n">from_fo3d</span><span class="p">(</span><span class="s2">&quot;/path/to/scene.fo3d&quot;</span><span class="p">)</span>
</span><span id="__span-184-4">
</span><span id="__span-184-5"><span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">traverse</span><span class="p">():</span>
</span><span id="__span-184-6">    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">SphereGeometry</span><span class="p">):</span>
</span><span id="__span-184-7">        <span class="n">node</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="__span-184-8">
</span><span id="__span-184-9"><span class="n">scene</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;/path/to/scene.fo3d&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="3d-meshes">3D meshes <a href="#d-meshes" title="Permalink to this headline">¶</a><a class="headerlink" href="#3d-meshes" title="Permanent link">&para;</a></h3>
<p>A 3D mesh is a collection of vertices, edges, and faces that define the shape
of a 3D object. Whereas some mesh formats store only the geometry of the mesh,
others also store the material properties and textures of the mesh. If a
mesh file contains material properties and textures, FiftyOne will
automatically load and display them. You may also
assign default material for your meshes by setting the
<code>default_material</code>
attribute of the mesh. In the absence of any material information,
meshes are assigned a
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.MeshStandardMaterial" title="fiftyone.core.threed.MeshStandardMaterial"><code>MeshStandardMaterial</code></a>
with reasonable defaults that can also be dynamically configured from the app.
Please refer to <a href="../../api/fiftyone.core.threed.material_3d.html#module-fiftyone.core.threed.material_3d" title="fiftyone.core.threed.material_3d"><code>material_3d</code></a> for more
details.</p>
<p>FiftyOne currently supports
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.GltfMesh" title="fiftyone.core.threed.GltfMesh"><code>GLTF</code></a>,
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.ObjMesh" title="fiftyone.core.threed.ObjMesh"><code>OBJ</code></a>,
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.PlyMesh" title="fiftyone.core.threed.PlyMesh"><code>PLY</code></a>,
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.StlMesh" title="fiftyone.core.threed.StlMesh"><code>STL</code></a>, and
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.FbxMesh" title="fiftyone.core.threed.FbxMesh"><code>FBX 7.x+</code></a> mesh formats.</p>
<p>Note</p>
<p>We recommend the <a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.GltfMesh" title="fiftyone.core.threed.GltfMesh"><code>GLTF</code></a> format for
3D meshes where possible, as it is the most compact, efficient, and
web-friendly format for storing and transmitting 3D models.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-185-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-185-2">
</span><span id="__span-185-3"><span class="n">scene</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Scene</span><span class="p">()</span>
</span><span id="__span-185-4">
</span><span id="__span-185-5"><span class="n">mesh1</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">GltfMesh</span><span class="p">(</span><span class="s2">&quot;mesh1&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh.glb&quot;</span><span class="p">)</span>
</span><span id="__span-185-6"><span class="n">mesh1</span><span class="o">.</span><span class="n">rotation</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Euler</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">degrees</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-185-7">
</span><span id="__span-185-8"><span class="n">mesh2</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">ObjMesh</span><span class="p">(</span><span class="s2">&quot;mesh2&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh.obj&quot;</span><span class="p">)</span>
</span><span id="__span-185-9"><span class="n">mesh3</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">PlyMesh</span><span class="p">(</span><span class="s2">&quot;mesh3&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh.ply&quot;</span><span class="p">)</span>
</span><span id="__span-185-10"><span class="n">mesh4</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">StlMesh</span><span class="p">(</span><span class="s2">&quot;mesh4&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh.stl&quot;</span><span class="p">)</span>
</span><span id="__span-185-11"><span class="n">mesh5</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">FbxMesh</span><span class="p">(</span><span class="s2">&quot;mesh5&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh.fbx&quot;</span><span class="p">)</span>
</span><span id="__span-185-12">
</span><span id="__span-185-13"><span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">mesh1</span><span class="p">,</span> <span class="n">mesh2</span><span class="p">,</span> <span class="n">mesh3</span><span class="p">,</span> <span class="n">mesh4</span><span class="p">,</span> <span class="n">mesh5</span><span class="p">)</span>
</span><span id="__span-185-14">
</span><span id="__span-185-15"><span class="n">scene</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;/path/to/scene.fo3d&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="3d-point-clouds">3D point clouds <a href="#d-point-clouds" title="Permalink to this headline">¶</a><a class="headerlink" href="#3d-point-clouds" title="Permanent link">&para;</a></h3>
<p>FiftyOne supports the
<a href="https://pointclouds.org/documentation/tutorials/pcd_file_format.html">PCD</a>
point cloud format. A code snippet to create a PCD object that can be added
to a FiftyOne 3D scene is shown below:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-186-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-186-2">
</span><span id="__span-186-3"><span class="n">pcd</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">PointCloud</span><span class="p">(</span><span class="s2">&quot;my-pcd&quot;</span><span class="p">,</span> <span class="s2">&quot;point-cloud.pcd&quot;</span><span class="p">)</span>
</span><span id="__span-186-4"><span class="n">pcd</span><span class="o">.</span><span class="n">default_material</span><span class="o">.</span><span class="n">shading_mode</span> <span class="o">=</span> <span class="s2">&quot;custom&quot;</span>
</span><span id="__span-186-5"><span class="n">pcd</span><span class="o">.</span><span class="n">default_material</span><span class="o">.</span><span class="n">custom_color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
</span><span id="__span-186-6"><span class="n">pcd</span><span class="o">.</span><span class="n">default_material</span><span class="o">.</span><span class="n">point_size</span> <span class="o">=</span> <span class="mi">2</span>
</span><span id="__span-186-7">
</span><span id="__span-186-8"><span class="n">scene</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Scene</span><span class="p">()</span>
</span><span id="__span-186-9"><span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pcd</span><span class="p">)</span>
</span><span id="__span-186-10">
</span><span id="__span-186-11"><span class="n">scene</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;/path/to/scene.fo3d&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>You can customize the appearance of a point cloud by setting the
<code>default_material</code> attribute of the point cloud object, or dynamically from
the app. Please refer to the
<a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.PointCloudMaterial" title="fiftyone.core.threed.PointCloudMaterial"><code>PointCloudMaterial</code></a>
class for more details.</p>
<p>Note</p>
<p>If your scene contains multiple point clouds, you can control which point
cloud is included in
<a href="#orthographic-projection-images">orthographic projections</a> by
initializing it with <code>flag_for_projection=True</code>.</p>
<p>Here’s how a typical PCD file is structured:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-187-1"><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</span><span id="__span-187-2"><span class="kn">import</span><span class="w"> </span><span class="nn">open3d</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">o3d</span>
</span><span id="__span-187-3">
</span><span id="__span-187-4"><span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">z1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">z2</span><span class="p">),</span> <span class="o">...</span><span class="p">])</span>
</span><span id="__span-187-5"><span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="n">r1</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">b1</span><span class="p">),</span> <span class="p">(</span><span class="n">r2</span><span class="p">,</span> <span class="n">g2</span><span class="p">,</span> <span class="n">b2</span><span class="p">),</span> <span class="o">...</span><span class="p">])</span>
</span><span id="__span-187-6">
</span><span id="__span-187-7"><span class="n">pcd</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">PointCloud</span><span class="p">()</span>
</span><span id="__span-187-8"><span class="n">pcd</span><span class="o">.</span><span class="n">points</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">utility</span><span class="o">.</span><span class="n">Vector3dVector</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
</span><span id="__span-187-9"><span class="n">pcd</span><span class="o">.</span><span class="n">colors</span> <span class="o">=</span> <span class="n">o3d</span><span class="o">.</span><span class="n">utility</span><span class="o">.</span><span class="n">Vector3dVector</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
</span><span id="__span-187-10">
</span><span id="__span-187-11"><span class="n">o3d</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">write_point_cloud</span><span class="p">(</span><span class="s2">&quot;/path/to/point-cloud.pcd&quot;</span><span class="p">,</span> <span class="n">pcd</span><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>When working with modalities such as LIDAR, intensity data is assumed to be
encoded in the <code>r</code> channel of the <code>rgb</code> field of the
<a href="https://pointclouds.org/documentation/tutorials/pcd_file_format.html">PCD files</a>.</p>
<p>When coloring by intensity <a href="../app/#app-3d-visualizer">in the App</a>, the
intensity values are automatically scaled to use the full dynamic range of
the colorscale.</p>
<h3 id="3d-shapes">3D shapes <a href="#d-shapes" title="Permalink to this headline">¶</a><a class="headerlink" href="#3d-shapes" title="Permanent link">&para;</a></h3>
<p>FiftyOne provides a set of primitive 3D shape geometries that can be added to
a 3D scene. The following 3D shape geometries are supported:</p>
<ul>
<li>
<p>Box: <a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.BoxGeometry" title="fiftyone.core.threed.BoxGeometry"><code>BoxGeometry</code></a></p>
</li>
<li>
<p>Sphere: <a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.SphereGeometry" title="fiftyone.core.threed.SphereGeometry"><code>SphereGeometry</code></a></p>
</li>
<li>
<p>Cylinder: <a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.CylinderGeometry" title="fiftyone.core.threed.CylinderGeometry"><code>CylinderGeometry</code></a></p>
</li>
<li>
<p>Plane: <a href="../../api/fiftyone.core.threed.html#fiftyone.core.threed.PlaneGeometry" title="fiftyone.core.threed.PlaneGeometry"><code>PlaneGeometry</code></a></p>
</li>
</ul>
<p>Similar to meshes and point clouds, shapes can be manipulated by setting their
position, rotation, and scale. Their appearance can be customized either by
setting the <code>default_material</code> attribute of the shape object, or dynamically
from the app.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-188-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-188-2">
</span><span id="__span-188-3"><span class="n">scene</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Scene</span><span class="p">()</span>
</span><span id="__span-188-4">
</span><span id="__span-188-5"><span class="n">box</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">BoxGeometry</span><span class="p">(</span><span class="s2">&quot;box&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</span><span id="__span-188-6"><span class="n">box</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</span><span id="__span-188-7"><span class="n">box</span><span class="o">.</span><span class="n">default_material</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
</span><span id="__span-188-8">
</span><span id="__span-188-9"><span class="n">sphere</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">SphereGeometry</span><span class="p">(</span><span class="s2">&quot;sphere&quot;</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="__span-188-10"><span class="n">sphere</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</span><span id="__span-188-11"><span class="n">sphere</span><span class="o">.</span><span class="n">default_material</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span>
</span><span id="__span-188-12">
</span><span id="__span-188-13"><span class="n">cylinder</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">CylinderGeometry</span><span class="p">(</span><span class="s2">&quot;cylinder&quot;</span><span class="p">,</span> <span class="n">radius_top</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-188-14"><span class="n">cylinder</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</span><span id="__span-188-15">
</span><span id="__span-188-16"><span class="n">plane</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">PlaneGeometry</span><span class="p">(</span><span class="s2">&quot;plane&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-188-17"><span class="n">plane</span><span class="o">.</span><span class="n">rotation</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Euler</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">degrees</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-188-18">
</span><span id="__span-188-19"><span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">box</span><span class="p">,</span> <span class="n">sphere</span><span class="p">,</span> <span class="n">cylinder</span><span class="p">,</span> <span class="n">plane</span><span class="p">)</span>
</span><span id="__span-188-20">
</span><span id="__span-188-21"><span class="n">scene</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;/path/to/scene.fo3d&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="3d-annotations">3D annotations <a href="#d-annotations" title="Permalink to this headline">¶</a><a class="headerlink" href="#3d-annotations" title="Permanent link">&para;</a></h3>
<p>3D samples may contain any type and number of custom fields, including
<a href="#d-detections">3D detections</a> and <a href="#d-polylines">3D polylines</a>,
which are natively visualizable by the App’s
<a href="../app/#app-3d-visualizer">3D visualizer</a>.</p>
<p>Because 3D annotations are stored in dedicated fields of datasets rather than
being embedded in FO3D files, they can be queried and filtered via
<a href="../using_views/#view-filtering">dataset views</a> and <a href="../app/#app-filtering">in the App</a>
just like other primitive/label fields.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-189-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-189-2">
</span><span id="__span-189-3"><span class="n">scene</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Scene</span><span class="p">()</span>
</span><span id="__span-189-4"><span class="n">scene</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">fo</span><span class="o">.</span><span class="n">GltfMesh</span><span class="p">(</span><span class="s2">&quot;mesh&quot;</span><span class="p">,</span> <span class="s2">&quot;mesh.gltf&quot;</span><span class="p">))</span>
</span><span id="__span-189-5"><span class="n">scene</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;/path/to/scene.fo3d&quot;</span><span class="p">)</span>
</span><span id="__span-189-6">
</span><span id="__span-189-7"><span class="n">detection</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Detection</span><span class="p">(</span>
</span><span id="__span-189-8">    <span class="n">label</span><span class="o">=</span><span class="s2">&quot;vehicle&quot;</span><span class="p">,</span>
</span><span id="__span-189-9">    <span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="mf">0.47</span><span class="p">,</span> <span class="mf">1.49</span><span class="p">,</span> <span class="mf">69.44</span><span class="p">],</span>
</span><span id="__span-189-10">    <span class="n">dimensions</span><span class="o">=</span><span class="p">[</span><span class="mf">2.85</span><span class="p">,</span> <span class="mf">2.63</span><span class="p">,</span> <span class="mf">12.34</span><span class="p">],</span>
</span><span id="__span-189-11">    <span class="n">rotation</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.56</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
</span><span id="__span-189-12"><span class="p">)</span>
</span><span id="__span-189-13">
</span><span id="__span-189-14"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span>
</span><span id="__span-189-15">    <span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/scene.fo3d&quot;</span><span class="p">,</span>
</span><span id="__span-189-16">    <span class="n">ground_truth</span><span class="o">=</span><span class="n">fo</span><span class="o">.</span><span class="n">Detections</span><span class="p">(</span><span class="n">detections</span><span class="o">=</span><span class="p">[</span><span class="n">detection</span><span class="p">]),</span>
</span><span id="__span-189-17"><span class="p">)</span>
</span></code></pre></div>
<h3 id="orthographic-projection-images">Orthographic projection images <a href="#orthographic-projection-images" title="Permalink to this headline">¶</a><a class="headerlink" href="#orthographic-projection-images" title="Permanent link">&para;</a></h3>
<p>In order to visualize 3D datasets in the App’s grid view, you can use
<a href="../../api/fiftyone.utils.utils3d.html#fiftyone.utils.utils3d.compute_orthographic_projection_images" title="fiftyone.utils.utils3d.compute_orthographic_projection_images"><code>compute_orthographic_projection_images()</code></a>
to generate orthographic projection images of each scene:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-190-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-190-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.utils.utils3d</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fou3d</span>
</span><span id="__span-190-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-190-4">
</span><span id="__span-190-5"><span class="c1"># Load an example 3D dataset</span>
</span><span id="__span-190-6"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart-3d&quot;</span><span class="p">)</span>
</span><span id="__span-190-7">
</span><span id="__span-190-8"><span class="c1"># This dataset already has orthographic projections populated, but let&#39;s</span>
</span><span id="__span-190-9"><span class="c1"># recompute them to demonstrate the idea</span>
</span><span id="__span-190-10"><span class="n">fou3d</span><span class="o">.</span><span class="n">compute_orthographic_projection_images</span><span class="p">(</span>
</span><span id="__span-190-11">    <span class="n">dataset</span><span class="p">,</span>
</span><span id="__span-190-12">    <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span>  <span class="c1"># (width, height) of each image; -1 means aspect-preserving</span>
</span><span id="__span-190-13">    <span class="n">bounds</span><span class="o">=</span><span class="p">((</span><span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">),</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">)),</span>
</span><span id="__span-190-14">    <span class="n">projection_normal</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
</span><span id="__span-190-15">    <span class="n">output_dir</span><span class="o">=</span><span class="s2">&quot;/tmp/quickstart-3d-proj&quot;</span><span class="p">,</span>
</span><span id="__span-190-16">    <span class="n">shading_mode</span><span class="o">=</span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-190-17"><span class="p">)</span>
</span><span id="__span-190-18">
</span><span id="__span-190-19"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p>Note that the method also supports <a href="../groups/#groups">grouped datasets</a> that
contain 3D slice(s):</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-191-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-191-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.utils.utils3d</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fou3d</span>
</span><span id="__span-191-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-191-4">
</span><span id="__span-191-5"><span class="c1"># Load an example group dataset that contains a 3D slice</span>
</span><span id="__span-191-6"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart-groups&quot;</span><span class="p">)</span>
</span><span id="__span-191-7">
</span><span id="__span-191-8"><span class="c1"># Populate orthographic projections</span>
</span><span id="__span-191-9"><span class="n">fou3d</span><span class="o">.</span><span class="n">compute_orthographic_projection_images</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="s2">&quot;/tmp/proj&quot;</span><span class="p">)</span>
</span><span id="__span-191-10">
</span><span id="__span-191-11"><span class="n">dataset</span><span class="o">.</span><span class="n">group_slice</span> <span class="o">=</span> <span class="s2">&quot;pcd&quot;</span>
</span><span id="__span-191-12"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>Orthographic projection images currently only include point clouds, not
meshes or 3D shapes.</p>
<p>If a scene contains multiple <a href="#d-point-clouds">point clouds</a>, you can
control which point cloud to project by initializing it with
<code>flag_for_projection=True</code>.</p>
<p>The above method populates an <a href="../../api/fiftyone.utils.utils3d.html#fiftyone.utils.utils3d.OrthographicProjectionMetadata" title="fiftyone.utils.utils3d.OrthographicProjectionMetadata"><code>OrthographicProjectionMetadata</code></a> field on each
sample that contains the path to its projection image and other necessary
information to properly
<a href="../app/#app-3d-orthographic-projections">visualize it in the App</a>.</p>
<p>Refer to the
<a href="../../api/fiftyone.utils.utils3d.html#fiftyone.utils.utils3d.compute_orthographic_projection_images" title="fiftyone.utils.utils3d.compute_orthographic_projection_images"><code>compute_orthographic_projection_images()</code></a>
documentation for available parameters to customize the projections.</p>
<h3 id="example-3d-datasets">Example 3D datasets <a href="#example-3d-datasets" title="Permalink to this headline">¶</a><a class="headerlink" href="#example-3d-datasets" title="Permanent link">&para;</a></h3>
<p>To get started exploring 3D datasets, try loading the
<a href="../../data/dataset_zoo/datasets/#dataset-zoo-quickstart-3d">quickstart-3d dataset</a> from the zoo:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-192-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-192-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-192-3">
</span><span id="__span-192-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart-3d&quot;</span><span class="p">)</span>
</span><span id="__span-192-5">
</span><span id="__span-192-6"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_values</span><span class="p">(</span><span class="s2">&quot;ground_truth.label&quot;</span><span class="p">))</span>
</span><span id="__span-192-7"><span class="c1"># {&#39;bottle&#39;: 5, &#39;stairs&#39;: 5, &#39;keyboard&#39;: 5, &#39;car&#39;: 5, ...}</span>
</span><span id="__span-192-8">
</span><span id="__span-192-9"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p><img alt="quickstart-3d" src="../../_images/quickstart-3d.gif" /></p>
<p>Also check out the
<a href="../../data/dataset_zoo/datasets/#dataset-zoo-quickstart-groups">quickstart-groups dataset</a>, which
contains a point cloud slice:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-193-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-193-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.utils.utils3d</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fou3d</span>
</span><span id="__span-193-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-193-4">
</span><span id="__span-193-5"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart-groups&quot;</span><span class="p">)</span>
</span><span id="__span-193-6">
</span><span id="__span-193-7"><span class="c1"># Populate orthographic projections</span>
</span><span id="__span-193-8"><span class="n">fou3d</span><span class="o">.</span><span class="n">compute_orthographic_projection_images</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="s2">&quot;/tmp/proj&quot;</span><span class="p">)</span>
</span><span id="__span-193-9">
</span><span id="__span-193-10"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections&quot;</span><span class="p">))</span>  <span class="c1"># 1100</span>
</span><span id="__span-193-11"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_values</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections.label&quot;</span><span class="p">))</span>
</span><span id="__span-193-12"><span class="c1"># {&#39;Pedestrian&#39;: 133, &#39;Car&#39;: 774, ...}</span>
</span><span id="__span-193-13">
</span><span id="__span-193-14"><span class="n">dataset</span><span class="o">.</span><span class="n">group_slice</span> <span class="o">=</span> <span class="s2">&quot;pcd&quot;</span>
</span><span id="__span-193-15"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p><img alt="quickstart-groups" src="../../_images/quickstart-groups.gif" /></p>
<h2 id="point-cloud-datasets">Point cloud datasets <a href="#point-cloud-datasets" title="Permalink to this headline">¶</a><a class="headerlink" href="#point-cloud-datasets" title="Permanent link">&para;</a></h2>
<p>Warning</p>
<p>The <code>point-cloud</code> media type has been deprecated in favor of the
<a href="#d-datasets">3D media type</a>.</p>
<p>While we’ll keep supporting the <code>point-cloud</code> media type for backward
compatibility, we recommend using the <code>3d</code> media type for new datasets.</p>
<p>Any <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> whose <code>filepath</code> is a
<a href="https://pointclouds.org/documentation/tutorials/pcd_file_format.html">PCD file</a>
with extension <code>.pcd</code> is recognized as a point cloud sample, and datasets
composed of point cloud samples have media type <code>point-cloud</code>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-194-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-194-2">
</span><span id="__span-194-3"><span class="n">sample</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Sample</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="s2">&quot;/path/to/point-cloud.pcd&quot;</span><span class="p">)</span>
</span><span id="__span-194-4">
</span><span id="__span-194-5"><span class="n">dataset</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">Dataset</span><span class="p">()</span>
</span><span id="__span-194-6"><span class="n">dataset</span><span class="o">.</span><span class="n">add_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span><span id="__span-194-7">
</span><span id="__span-194-8"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">media_type</span><span class="p">)</span>  <span class="c1"># point-cloud</span>
</span><span id="__span-194-9"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-195-1"><span class="o">&lt;</span><span class="n">Sample</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-195-2">    <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="s1">&#39;6403ce64c8957c42bc8f9e67&#39;</span><span class="p">,</span>
</span><span id="__span-195-3">    <span class="s1">&#39;media_type&#39;</span><span class="p">:</span> <span class="s1">&#39;point-cloud&#39;</span><span class="p">,</span>
</span><span id="__span-195-4">    <span class="s1">&#39;filepath&#39;</span><span class="p">:</span> <span class="s1">&#39;/path/to/point-cloud.pcd&#39;</span><span class="p">,</span>
</span><span id="__span-195-5">    <span class="s1">&#39;tags&#39;</span><span class="p">:</span> <span class="p">[],</span>
</span><span id="__span-195-6">    <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-195-7">    <span class="s1">&#39;created_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">701907</span><span class="p">),</span>
</span><span id="__span-195-8">    <span class="s1">&#39;last_modified_at&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2024</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">701907</span><span class="p">),</span>
</span><span id="__span-195-9"><span class="p">}</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Point cloud samples may contain any type and number of custom fields, including
<a href="#d-detections">3D detections</a> and <a href="#d-polylines">3D polylines</a>,
which are natively visualizable by the App’s
<a href="../app/#app-3d-visualizer">3D visualizer</a>.</p>
<h2 id="datasetviews">DatasetViews <a href="#datasetviews" title="Permalink to this headline">¶</a><a class="headerlink" href="#datasetviews" title="Permanent link">&para;</a></h2>
<p>Previous sections have demonstrated how to add and interact with <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>
components like samples, fields, and labels. The true power of FiftyOne lies in
the ability to search, sort, filter, and explore the contents of a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>.</p>
<p>Behind this power is the <a href="../../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView" title="fiftyone.core.view.DatasetView"><code>DatasetView</code></a>. Whenever an operation
like <a href="../../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView.match" title="fiftyone.core.view.DatasetView.match"><code>match()</code></a> or
<a href="../../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView.sort_by" title="fiftyone.core.view.DatasetView.sort_by"><code>sort_by()</code></a> is applied to a
dataset, a <a href="../../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView" title="fiftyone.core.view.DatasetView"><code>DatasetView</code></a> is returned. As the name implies, a <a href="../../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView" title="fiftyone.core.view.DatasetView"><code>DatasetView</code></a>
is a <em>view</em> into the data in your <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> that was produced by a series of
operations that manipulated your data in different ways.</p>
<p>A <a href="../../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView" title="fiftyone.core.view.DatasetView"><code>DatasetView</code></a> is composed of <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.SampleView" title="fiftyone.core.sample.SampleView"><code>SampleView</code></a> objects for a subset of the samples
in your dataset. For example, a view may contain only samples with a given tag,
or samples whose labels meet a certain criteria.</p>
<p>In turn, each <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.SampleView" title="fiftyone.core.sample.SampleView"><code>SampleView</code></a> represents a view into the content of the underlying
<a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> in the dataset. For example, a <a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.SampleView" title="fiftyone.core.sample.SampleView"><code>SampleView</code></a> may represent the contents
of a sample with <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections" title="fiftyone.core.labels.Detections"><code>Detections</code></a> below a specified threshold filtered out.</p>
<p><a href="../using_views/">Learn more about DatasetViews</a></p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-196-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-196-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-196-3"><span class="kn">from</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="kn">import</span> <span class="n">ViewField</span> <span class="k">as</span> <span class="n">F</span>
</span><span id="__span-196-4">
</span><span id="__span-196-5"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-196-6"><span class="n">dataset</span><span class="o">.</span><span class="n">compute_metadata</span><span class="p">()</span>
</span><span id="__span-196-7">
</span><span id="__span-196-8"><span class="c1"># Create a view containing the 5 samples from the validation split whose</span>
</span><span id="__span-196-9"><span class="c1"># images are &gt;= 48 KB that have the most predictions with confidence &gt; 0.9</span>
</span><span id="__span-196-10"><span class="n">complex_view</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-196-11">    <span class="n">dataset</span>
</span><span id="__span-196-12">    <span class="o">.</span><span class="n">match_tags</span><span class="p">(</span><span class="s2">&quot;validation&quot;</span><span class="p">)</span>
</span><span id="__span-196-13">    <span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s2">&quot;metadata.size_bytes&quot;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">48</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">)</span>  <span class="c1"># &gt;= 48 KB</span>
</span><span id="__span-196-14">    <span class="o">.</span><span class="n">filter_labels</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">,</span> <span class="n">F</span><span class="p">(</span><span class="s2">&quot;confidence&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.9</span><span class="p">)</span>
</span><span id="__span-196-15">    <span class="o">.</span><span class="n">sort_by</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">length</span><span class="p">(),</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-196-16">    <span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span id="__span-196-17"><span class="p">)</span>
</span><span id="__span-196-18">
</span><span id="__span-196-19"><span class="c1"># Check to see how many predictions there are in each matching sample</span>
</span><span id="__span-196-20"><span class="nb">print</span><span class="p">(</span><span class="n">complex_view</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">length</span><span class="p">()))</span>
</span><span id="__span-196-21"><span class="c1"># [29, 20, 17, 15, 15]</span>
</span></code></pre></div>
<h2 id="merging-datasets">Merging datasets <a href="#merging-datasets" title="Permalink to this headline">¶</a><a class="headerlink" href="#merging-datasets" title="Permanent link">&para;</a></h2>
<p>The <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> class provides a powerful
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.merge_samples" title="fiftyone.core.dataset.Dataset.merge_samples"><code>merge_samples()</code></a> method
that you can use to merge the contents of another <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> or <a href="../../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView" title="fiftyone.core.view.DatasetView"><code>DatasetView</code></a>
into an existing dataset.</p>
<p>By default, samples with the same absolute <code>filepath</code> are merged, and top-level
fields from the provided samples are merged in, overwriting any existing values
for those fields, with the exception of list fields (e.g.,
<a href="#using-tags">tags</a>) and label list fields (e.g.,
<a href="#object-detection">Detections</a>), in which case the elements of the lists
themselves are merged. In the case of label list fields, labels with the same
<code>id</code> in both collections are updated rather than duplicated.</p>
<p>The <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.merge_samples" title="fiftyone.core.dataset.Dataset.merge_samples"><code>merge_samples()</code></a>
method can be configured in numerous ways, including:</p>
<ul>
<li>
<p>Which field to use as a merge key, or an arbitrary function defining the
merge key</p>
</li>
<li>
<p>Whether existing samples should be modified or skipped</p>
</li>
<li>
<p>Whether new samples should be added or omitted</p>
</li>
<li>
<p>Whether new fields can be added to the dataset schema</p>
</li>
<li>
<p>Whether list fields should be treated as ordinary fields and merged as a
whole rather than merging their elements</p>
</li>
<li>
<p>Whether to merge only specific fields, or all but certain fields</p>
</li>
<li>
<p>Mapping input fields to different field names of this dataset</p>
</li>
</ul>
<p>For example, the following snippet demonstrates merging a new field into an
existing dataset:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-197-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-197-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-197-3">
</span><span id="__span-197-4"><span class="n">dataset1</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-197-5">
</span><span id="__span-197-6"><span class="c1"># Create a dataset containing only ground truth objects</span>
</span><span id="__span-197-7"><span class="n">dataset2</span> <span class="o">=</span> <span class="n">dataset1</span><span class="o">.</span><span class="n">select_fields</span><span class="p">(</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="__span-197-8">
</span><span id="__span-197-9"><span class="c1"># Create a view containing only the predictions</span>
</span><span id="__span-197-10"><span class="n">predictions_view</span> <span class="o">=</span> <span class="n">dataset1</span><span class="o">.</span><span class="n">select_fields</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-197-11">
</span><span id="__span-197-12"><span class="c1"># Merge the predictions</span>
</span><span id="__span-197-13"><span class="n">dataset2</span><span class="o">.</span><span class="n">merge_samples</span><span class="p">(</span><span class="n">predictions_view</span><span class="p">)</span>
</span><span id="__span-197-14">
</span><span id="__span-197-15"><span class="nb">print</span><span class="p">(</span><span class="n">dataset1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections&quot;</span><span class="p">))</span>  <span class="c1"># 1232</span>
</span><span id="__span-197-16"><span class="nb">print</span><span class="p">(</span><span class="n">dataset2</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;ground_truth.detections&quot;</span><span class="p">))</span>  <span class="c1"># 1232</span>
</span><span id="__span-197-17">
</span><span id="__span-197-18"><span class="nb">print</span><span class="p">(</span><span class="n">dataset1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">))</span>  <span class="c1"># 5620</span>
</span><span id="__span-197-19"><span class="nb">print</span><span class="p">(</span><span class="n">dataset2</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">))</span>  <span class="c1"># 5620</span>
</span></code></pre></div>
<p>Note that the argument to
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.merge_samples" title="fiftyone.core.dataset.Dataset.merge_samples"><code>merge_samples()</code></a> can be a
<a href="../../api/fiftyone.core.view.html#fiftyone.core.view.DatasetView" title="fiftyone.core.view.DatasetView"><code>DatasetView</code></a>, which means that you can perform possibly-complex
<a href="../using_views/#using-views">transformations</a> to the source dataset to select the
desired content to merge.</p>
<p>Consider the following variation of the above snippet, which demonstrates a
workflow where <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections" title="fiftyone.core.labels.Detections"><code>Detections</code></a> from another dataset are merged into a dataset with
existing <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Detections" title="fiftyone.core.labels.Detections"><code>Detections</code></a> in the same field:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-198-1"><span class="kn">from</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="kn">import</span> <span class="n">ViewField</span> <span class="k">as</span> <span class="n">F</span>
</span><span id="__span-198-2">
</span><span id="__span-198-3"><span class="c1"># Create a new dataset that only contains predictions with confidence &gt;= 0.9</span>
</span><span id="__span-198-4"><span class="n">dataset3</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-198-5">    <span class="n">dataset1</span>
</span><span id="__span-198-6">    <span class="o">.</span><span class="n">select_fields</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-198-7">    <span class="o">.</span><span class="n">filter_labels</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">,</span> <span class="n">F</span><span class="p">(</span><span class="s2">&quot;confidence&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">0.9</span><span class="p">)</span>
</span><span id="__span-198-8"><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="__span-198-9">
</span><span id="__span-198-10"><span class="c1"># Create a view that contains only the remaining predictions</span>
</span><span id="__span-198-11"><span class="n">low_conf_view</span> <span class="o">=</span> <span class="n">dataset1</span><span class="o">.</span><span class="n">filter_labels</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">,</span> <span class="n">F</span><span class="p">(</span><span class="s2">&quot;confidence&quot;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.9</span><span class="p">)</span>
</span><span id="__span-198-12">
</span><span id="__span-198-13"><span class="c1"># Merge the low confidence predictions back in</span>
</span><span id="__span-198-14"><span class="n">dataset3</span><span class="o">.</span><span class="n">merge_samples</span><span class="p">(</span><span class="n">low_conf_view</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-198-15">
</span><span id="__span-198-16"><span class="nb">print</span><span class="p">(</span><span class="n">dataset1</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">))</span>  <span class="c1"># 5620</span>
</span><span id="__span-198-17"><span class="nb">print</span><span class="p">(</span><span class="n">dataset3</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">))</span>  <span class="c1"># 5620</span>
</span></code></pre></div>
<p>Finally, the example below demonstrates the use of a custom merge key to define
which samples to merge:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-199-1"><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span id="__span-199-2">
</span><span id="__span-199-3"><span class="c1"># Create a dataset with 100 samples of ground truth labels</span>
</span><span id="__span-199-4"><span class="n">dataset4</span> <span class="o">=</span> <span class="n">dataset1</span><span class="p">[</span><span class="mi">50</span><span class="p">:</span><span class="mi">150</span><span class="p">]</span><span class="o">.</span><span class="n">select_fields</span><span class="p">(</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="__span-199-5">
</span><span id="__span-199-6"><span class="c1"># Create a view with 50 overlapping samples of predictions</span>
</span><span id="__span-199-7"><span class="n">predictions_view</span> <span class="o">=</span> <span class="n">dataset1</span><span class="p">[:</span><span class="mi">100</span><span class="p">]</span><span class="o">.</span><span class="n">select_fields</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-199-8">
</span><span id="__span-199-9"><span class="c1"># Merge predictions into dataset, using base filename as merge key and</span>
</span><span id="__span-199-10"><span class="c1"># never inserting new samples</span>
</span><span id="__span-199-11"><span class="n">dataset4</span><span class="o">.</span><span class="n">merge_samples</span><span class="p">(</span>
</span><span id="__span-199-12">    <span class="n">predictions_view</span><span class="p">,</span>
</span><span id="__span-199-13">    <span class="n">key_fcn</span><span class="o">=</span><span class="k">lambda</span> <span class="n">sample</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">filepath</span><span class="p">),</span>
</span><span id="__span-199-14">    <span class="n">insert_new</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="__span-199-15"><span class="p">)</span>
</span><span id="__span-199-16">
</span><span id="__span-199-17"><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dataset4</span><span class="p">))</span>  <span class="c1"># 100</span>
</span><span id="__span-199-18"><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dataset4</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">)))</span>  <span class="c1"># 50</span>
</span></code></pre></div>
<p>Note</p>
<p>Did you know? You can use
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.merge_dir" title="fiftyone.core.dataset.Dataset.merge_dir"><code>merge_dir()</code></a> to directly
merge the contents of a dataset on disk into an existing FiftyOne
dataset without first
<a href="../dataset_creation/datasets/#loading-datasets-from-disk">loading it</a> into a temporary dataset and
then using
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.merge_samples" title="fiftyone.core.dataset.Dataset.merge_samples"><code>merge_samples()</code></a> to
perform the merge.</p>
<h2 id="cloning-datasets">Cloning datasets <a href="#cloning-datasets" title="Permalink to this headline">¶</a><a class="headerlink" href="#cloning-datasets" title="Permanent link">&para;</a></h2>
<p>You can use <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.clone" title="fiftyone.core.dataset.Dataset.clone"><code>clone()</code></a> to create a
copy of a dataset:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-200-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-200-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-200-3">
</span><span id="__span-200-4"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-200-5">
</span><span id="__span-200-6"><span class="n">dataset2</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</span><span id="__span-200-7"><span class="n">dataset2</span><span class="o">.</span><span class="n">add_sample_field</span><span class="p">(</span><span class="s2">&quot;new_field&quot;</span><span class="p">,</span> <span class="n">fo</span><span class="o">.</span><span class="n">StringField</span><span class="p">)</span>
</span><span id="__span-200-8">
</span><span id="__span-200-9"><span class="c1"># The source dataset is unaffected</span>
</span><span id="__span-200-10"><span class="k">assert</span> <span class="s2">&quot;new_field&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">()</span>
</span></code></pre></div>
<p>Dataset clones contain deep copies of all samples and dataset-level information
in the source dataset. The source <em>media files</em>, however, are not copied.</p>
<p>Note</p>
<p>Did you know? You can also
<a href="../using_views/#saving-and-cloning-views">clone specific subsets</a> of your datasets.</p>
<h2 id="batch-updates">Batch updates <a href="#batch-updates" title="Permalink to this headline">¶</a><a class="headerlink" href="#batch-updates" title="Permanent link">&para;</a></h2>
<p>You are always free to perform any necessary modifications to a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> by
iterating over it via a Python loop and explicitly
<a href="#editing-sample-fields">performing the edits</a> that you require.</p>
<p>However, the <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> class provides a number of methods that allow you to
efficiently perform various common batch actions to your entire dataset.</p>
<h3 id="cloning-renaming-clearing-and-deleting-fields">Cloning, renaming, clearing, and deleting fields <a href="#cloning-renaming-clearing-and-deleting-fields" title="Permalink to this headline">¶</a><a class="headerlink" href="#cloning-renaming-clearing-and-deleting-fields" title="Permanent link">&para;</a></h3>
<p>You can use the
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.clone_sample_field" title="fiftyone.core.dataset.Dataset.clone_sample_field"><code>clone_sample_field()</code></a>,
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.rename_sample_field" title="fiftyone.core.dataset.Dataset.rename_sample_field"><code>rename_sample_field()</code></a>,
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.clear_sample_field" title="fiftyone.core.dataset.Dataset.clear_sample_field"><code>clear_sample_field()</code></a>,
and
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.delete_sample_field" title="fiftyone.core.dataset.Dataset.delete_sample_field"><code>delete_sample_field()</code></a>
methods to efficiently perform common actions on the sample fields of a
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-201-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-201-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-201-3"><span class="kn">from</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="kn">import</span> <span class="n">ViewField</span> <span class="k">as</span> <span class="n">F</span>
</span><span id="__span-201-4">
</span><span id="__span-201-5"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-201-6">
</span><span id="__span-201-7"><span class="c1"># Clone an existing field</span>
</span><span id="__span-201-8"><span class="n">dataset</span><span class="o">.</span><span class="n">clone_sample_field</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">,</span> <span class="s2">&quot;also_predictions&quot;</span><span class="p">)</span>
</span><span id="__span-201-9"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;also_predictions&quot;</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">())</span>  <span class="c1"># True</span>
</span><span id="__span-201-10">
</span><span id="__span-201-11"><span class="c1"># Rename a field</span>
</span><span id="__span-201-12"><span class="n">dataset</span><span class="o">.</span><span class="n">rename_sample_field</span><span class="p">(</span><span class="s2">&quot;also_predictions&quot;</span><span class="p">,</span> <span class="s2">&quot;still_predictions&quot;</span><span class="p">)</span>
</span><span id="__span-201-13"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;still_predictions&quot;</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">get_field_schema</span><span class="p">())</span>  <span class="c1"># True</span>
</span><span id="__span-201-14">
</span><span id="__span-201-15"><span class="c1"># Clear a field (sets all values to None)</span>
</span><span id="__span-201-16"><span class="n">dataset</span><span class="o">.</span><span class="n">clear_sample_field</span><span class="p">(</span><span class="s2">&quot;still_predictions&quot;</span><span class="p">)</span>
</span><span id="__span-201-17"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_values</span><span class="p">(</span><span class="s2">&quot;still_predictions&quot;</span><span class="p">))</span>  <span class="c1"># {None: 200}</span>
</span><span id="__span-201-18">
</span><span id="__span-201-19"><span class="c1"># Delete a field</span>
</span><span id="__span-201-20"><span class="n">dataset</span><span class="o">.</span><span class="n">delete_sample_field</span><span class="p">(</span><span class="s2">&quot;still_predictions&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>You can also use
<a href="https://docs.mongodb.com/manual/core/document/#dot-notation">dot notation</a>
to manipulate the fields or subfields of embedded documents in your dataset:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-202-1"><span class="n">sample</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</span><span id="__span-202-2">
</span><span id="__span-202-3"><span class="c1"># Clone an existing embedded field</span>
</span><span id="__span-202-4"><span class="n">dataset</span><span class="o">.</span><span class="n">clone_sample_field</span><span class="p">(</span>
</span><span id="__span-202-5">    <span class="s2">&quot;predictions.detections.label&quot;</span><span class="p">,</span>
</span><span id="__span-202-6">    <span class="s2">&quot;predictions.detections.also_label&quot;</span><span class="p">,</span>
</span><span id="__span-202-7"><span class="p">)</span>
</span><span id="__span-202-8"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">predictions</span><span class="o">.</span><span class="n">detections</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;also_label&quot;</span><span class="p">])</span>  <span class="c1"># &quot;bird&quot;</span>
</span><span id="__span-202-9">
</span><span id="__span-202-10"><span class="c1"># Rename an embedded field</span>
</span><span id="__span-202-11"><span class="n">dataset</span><span class="o">.</span><span class="n">rename_sample_field</span><span class="p">(</span>
</span><span id="__span-202-12">    <span class="s2">&quot;predictions.detections.also_label&quot;</span><span class="p">,</span>
</span><span id="__span-202-13">    <span class="s2">&quot;predictions.detections.still_label&quot;</span><span class="p">,</span>
</span><span id="__span-202-14"><span class="p">)</span>
</span><span id="__span-202-15"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">predictions</span><span class="o">.</span><span class="n">detections</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;still_label&quot;</span><span class="p">])</span>  <span class="c1"># &quot;bird&quot;</span>
</span><span id="__span-202-16">
</span><span id="__span-202-17"><span class="c1"># Clear an embedded field (sets all values to None)</span>
</span><span id="__span-202-18"><span class="n">dataset</span><span class="o">.</span><span class="n">clear_sample_field</span><span class="p">(</span><span class="s2">&quot;predictions.detections.still_label&quot;</span><span class="p">)</span>
</span><span id="__span-202-19"><span class="nb">print</span><span class="p">(</span><span class="n">sample</span><span class="o">.</span><span class="n">predictions</span><span class="o">.</span><span class="n">detections</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;still_label&quot;</span><span class="p">])</span>  <span class="c1"># None</span>
</span><span id="__span-202-20">
</span><span id="__span-202-21"><span class="c1"># Delete an embedded field</span>
</span><span id="__span-202-22"><span class="n">dataset</span><span class="o">.</span><span class="n">delete_sample_field</span><span class="p">(</span><span class="s2">&quot;predictions.detections.still_label&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="efficient-batch-edits">Efficient batch edits <a href="#efficient-batch-edits" title="Permalink to this headline">¶</a><a class="headerlink" href="#efficient-batch-edits" title="Permanent link">&para;</a></h3>
<p>You are always free to perform arbitrary edits to a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> by iterating over
its contents and editing the samples directly:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-203-1"><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-203-2">
</span><span id="__span-203-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-203-4"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-203-5"><span class="kn">from</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="kn">import</span> <span class="n">ViewField</span> <span class="k">as</span> <span class="n">F</span>
</span><span id="__span-203-6">
</span><span id="__span-203-7"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;quickstart&quot;</span><span class="p">)</span>
</span><span id="__span-203-8">
</span><span id="__span-203-9"><span class="c1"># Populate a new field on each sample in the dataset</span>
</span><span id="__span-203-10"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
</span><span id="__span-203-11">    <span class="n">sample</span><span class="p">[</span><span class="s2">&quot;random&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</span><span id="__span-203-12">    <span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-203-13">
</span><span id="__span-203-14"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;random&quot;</span><span class="p">))</span>  <span class="c1"># 200</span>
</span><span id="__span-203-15"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">bounds</span><span class="p">(</span><span class="s2">&quot;random&quot;</span><span class="p">))</span> <span class="c1"># (0.0007, 0.9987)</span>
</span></code></pre></div>
<p>However, the above pattern can be inefficient for large datasets because each
<a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample.save" title="fiftyone.core.sample.Sample.save"><code>sample.save()</code></a> call makes a new
connection to the database.</p>
<p>The <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.iter_samples" title="fiftyone.core.dataset.Dataset.iter_samples"><code>iter_samples()</code></a> method
provides an <code>autosave=True</code> option that causes all changes to samples
emitted by the iterator to be automatically saved using an efficient batch
update strategy:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-204-1"><span class="c1"># Automatically saves sample edits in efficient batches</span>
</span><span id="__span-204-2"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">select_fields</span><span class="p">()</span><span class="o">.</span><span class="n">iter_samples</span><span class="p">(</span><span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
</span><span id="__span-204-3">    <span class="n">sample</span><span class="p">[</span><span class="s2">&quot;random&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</span></code></pre></div>
<p>Note</p>
<p>As the above snippet shows, you should also optimize your iteration by
<a href="../using_views/#efficient-iteration-views">selecting only</a> the required fields.</p>
<p>You can configure the default batching strategy that is used via your
<a href="../config/#configuring-fiftyone">FiftyOne config</a>, or you can configure the
batching strategy on a per-method call basis by passing the optional
<code>batch_size</code> and <code>batching_strategy</code> arguments to
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.iter_samples" title="fiftyone.core.dataset.Dataset.iter_samples"><code>iter_samples()</code></a>.</p>
<p>You can also use the
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.save_context" title="fiftyone.core.collections.SampleCollection.save_context"><code>save_context()</code></a>
method to perform batched edits using the pattern below:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-205-1"><span class="c1"># Use a context to save sample edits in efficient batches</span>
</span><span id="__span-205-2"><span class="k">with</span> <span class="n">dataset</span><span class="o">.</span><span class="n">save_context</span><span class="p">()</span> <span class="k">as</span> <span class="n">context</span><span class="p">:</span>
</span><span id="__span-205-3">    <span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">select_fields</span><span class="p">():</span>
</span><span id="__span-205-4">        <span class="n">sample</span><span class="p">[</span><span class="s2">&quot;random&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</span><span id="__span-205-5">        <span class="n">context</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</span></code></pre></div>
<p>The benefit of the above approach versus passing <code>autosave=True</code> to
<a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset.iter_samples" title="fiftyone.core.dataset.Dataset.iter_samples"><code>iter_samples()</code></a> is that
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SaveContext.save" title="fiftyone.core.collections.SaveContext.save"><code>context.save()</code></a> allows you
to be explicit about which samples you are editing, which avoids unnecessary
computations if your loop only edits certain samples.</p>
<h3 id="setting-values">Setting values <a href="#setting-values" title="Permalink to this headline">¶</a><a class="headerlink" href="#setting-values" title="Permanent link">&para;</a></h3>
<p>Another strategy for performing efficient batch edits is to use
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.set_values" title="fiftyone.core.collections.SampleCollection.set_values"><code>set_values()</code></a> to
set a field (or embedded field) on each sample in the dataset in a single
batch operation:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-206-1"><span class="c1"># Delete the field we added earlier</span>
</span><span id="__span-206-2"><span class="n">dataset</span><span class="o">.</span><span class="n">delete_sample_field</span><span class="p">(</span><span class="s2">&quot;random&quot;</span><span class="p">)</span>
</span><span id="__span-206-3">
</span><span id="__span-206-4"><span class="c1"># Equivalent way to populate the field on each sample in the dataset</span>
</span><span id="__span-206-5"><span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">dataset</span><span class="p">))]</span>
</span><span id="__span-206-6"><span class="n">dataset</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span><span class="s2">&quot;random&quot;</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
</span><span id="__span-206-7">
</span><span id="__span-206-8"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;random&quot;</span><span class="p">))</span>  <span class="c1"># 50</span>
</span><span id="__span-206-9"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">bounds</span><span class="p">(</span><span class="s2">&quot;random&quot;</span><span class="p">))</span> <span class="c1"># (0.0041, 0.9973)</span>
</span></code></pre></div>
<p>Note</p>
<p>When possible, using
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.set_values" title="fiftyone.core.collections.SampleCollection.set_values"><code>set_values()</code></a>
is often more efficient than performing the equivalent operation via an
explicit iteration over the <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> because it avoids the need to read
<a href="../../api/fiftyone.core.sample.html#fiftyone.core.sample.Sample" title="fiftyone.core.sample.Sample"><code>Sample</code></a> instances into memory and sequentially save them.</p>
<p>Similarly, you can edit nested sample fields of a <a href="../../api/fiftyone.core.dataset.html#fiftyone.core.dataset.Dataset" title="fiftyone.core.dataset.Dataset"><code>Dataset</code></a> by iterating over
the dataset and editing the necessary data:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-207-1"><span class="c1"># Add a tag to all low confidence predictions in the dataset</span>
</span><span id="__span-207-2"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
</span><span id="__span-207-3">    <span class="k">for</span> <span class="n">detection</span> <span class="ow">in</span> <span class="n">sample</span><span class="p">[</span><span class="s2">&quot;predictions&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">detections</span><span class="p">:</span>
</span><span id="__span-207-4">        <span class="k">if</span> <span class="n">detection</span><span class="o">.</span><span class="n">confidence</span> <span class="o">&lt;</span> <span class="mf">0.06</span><span class="p">:</span>
</span><span id="__span-207-5">            <span class="n">detection</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;low_confidence&quot;</span><span class="p">)</span>
</span><span id="__span-207-6">
</span><span id="__span-207-7">    <span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-207-8">
</span><span id="__span-207-9"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_label_tags</span><span class="p">())</span>
</span><span id="__span-207-10"><span class="c1"># {&#39;low_confidence&#39;: 447}</span>
</span></code></pre></div>
<p>However, an equivalent and often more efficient approach is to use
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.values" title="fiftyone.core.collections.SampleCollection.values"><code>values()</code></a> to
extract the slice of data you wish to modify and then use
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.set_values" title="fiftyone.core.collections.SampleCollection.set_values"><code>set_values()</code></a> to
save the updated data in a single batch operation:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-208-1"><span class="c1"># Remove the tags we added in the previous variation</span>
</span><span id="__span-208-2"><span class="n">dataset</span><span class="o">.</span><span class="n">untag_labels</span><span class="p">(</span><span class="s2">&quot;low_confidence&quot;</span><span class="p">)</span>
</span><span id="__span-208-3">
</span><span id="__span-208-4"><span class="c1"># Load all predicted detections</span>
</span><span id="__span-208-5"><span class="c1"># This is a list of lists of `Detection` instances for each sample</span>
</span><span id="__span-208-6"><span class="n">detections</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">)</span>
</span><span id="__span-208-7">
</span><span id="__span-208-8"><span class="c1"># Add a tag to all low confidence detections</span>
</span><span id="__span-208-9"><span class="k">for</span> <span class="n">sample_detections</span> <span class="ow">in</span> <span class="n">detections</span><span class="p">:</span>
</span><span id="__span-208-10">    <span class="k">for</span> <span class="n">detection</span> <span class="ow">in</span> <span class="n">sample_detections</span><span class="p">:</span>
</span><span id="__span-208-11">        <span class="k">if</span> <span class="n">detection</span><span class="o">.</span><span class="n">confidence</span> <span class="o">&lt;</span> <span class="mf">0.06</span><span class="p">:</span>
</span><span id="__span-208-12">            <span class="n">detection</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;low_confidence&quot;</span><span class="p">)</span>
</span><span id="__span-208-13">
</span><span id="__span-208-14"><span class="c1"># Save the updated predictions</span>
</span><span id="__span-208-15"><span class="n">dataset</span><span class="o">.</span><span class="n">set_values</span><span class="p">(</span><span class="s2">&quot;predictions.detections&quot;</span><span class="p">,</span> <span class="n">detections</span><span class="p">)</span>
</span><span id="__span-208-16">
</span><span id="__span-208-17"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_label_tags</span><span class="p">())</span>
</span><span id="__span-208-18"><span class="c1"># {&#39;low_confidence&#39;: 447}</span>
</span></code></pre></div>
<h3 id="setting-label-values">Setting label values <a href="#setting-label-values" title="Permalink to this headline">¶</a><a class="headerlink" href="#setting-label-values" title="Permanent link">&para;</a></h3>
<p>Often when working with <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> fields, the edits you want to make may be
naturally represented as a mapping between label IDs and corresponding
attribute values to set on each <a href="../../api/fiftyone.core.labels.html#fiftyone.core.labels.Label" title="fiftyone.core.labels.Label"><code>Label</code></a> instance. In such cases, you can use
<a href="../../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.set_label_values" title="fiftyone.core.collections.SampleCollection.set_label_values"><code>set_label_values()</code></a>
to conveniently perform the updates:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-209-1"><span class="c1"># Grab some random label IDs</span>
</span><span id="__span-209-2"><span class="n">view</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">51</span><span class="p">)</span>
</span><span id="__span-209-3"><span class="n">label_ids</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s2">&quot;predictions.detections.id&quot;</span><span class="p">,</span> <span class="n">unwind</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-209-4">
</span><span id="__span-209-5"><span class="c1"># Populate a `random` attribute on all labels</span>
</span><span id="__span-209-6"><span class="n">values</span> <span class="o">=</span> <span class="p">{</span><span class="n">_id</span><span class="p">:</span> <span class="kc">True</span> <span class="k">for</span> <span class="n">_id</span> <span class="ow">in</span> <span class="n">label_ids</span><span class="p">}</span>
</span><span id="__span-209-7"><span class="n">dataset</span><span class="o">.</span><span class="n">set_label_values</span><span class="p">(</span><span class="s2">&quot;predictions.detections.random&quot;</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
</span><span id="__span-209-8">
</span><span id="__span-209-9"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">count_values</span><span class="p">(</span><span class="s2">&quot;predictions.detections.random&quot;</span><span class="p">))</span>
</span><span id="__span-209-10"><span class="c1"># {True: 111, None: 5509}</span>
</span></code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.path", "navigation.indexes", "navigation.top", {"icon": {"repo": "fontawesome/brands/github"}}, "content.action.edit"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>