
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>ActivityNet Integration ¶ - Voxel51 Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../_static/css/voxel51-docs.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#activitynet-integration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Voxel51 Documentation" class="md-header__button md-logo" aria-label="Voxel51 Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Voxel51 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ActivityNet Integration ¶
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/thesteve0/vdoc-mkdocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Voxel51 Documentation" class="md-nav__button md-logo" aria-label="Voxel51 Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Voxel51 Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/thesteve0/vdoc-mkdocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Basics
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/virtualenv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtualenvs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/datasets_samples_fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datasets, Samples, and Fields
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/application_tour/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tour of the Application
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/viz_embeddings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualizing Embeddings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/subset_sample/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subsetting and Sample Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/zero_shot_label/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zero Shot Classification for Labeling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/edit_fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating and Editing Fields and Labels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/fine_tuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Fine-Tuning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/model_eval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/next_steps" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's Next
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Focused Getting Starteds
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Focused Getting Starteds
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/focused_gettings_starteds/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Medical Imaging - getting_started/focused_gettings_starteds/medical_imaging/index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    None
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../fiftyone_concepts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    FiftyOne Concepts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            FiftyOne Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/running_environments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Environments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../fiftyone_concepts/dataset_creation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Loading Data into FiftyOne
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Loading Data into FiftyOne
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/dataset_creation/datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datasets from Disk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/dataset_creation/samples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Sample Parsers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/using_datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/using_views/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset Views
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/groups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grouped Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using the App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/annotation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotating Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluating Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/using_aggregations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Aggregations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/plots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interactive Plots
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/export_datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exporting Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/draw_labels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drawing Labels on Samples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring FiftyOne
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/brain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine Learning (FiftyOne Brain)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../how_do_i/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    How Do I
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            How Do I
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_do_i/cheat_sheets" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cheat Sheets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_do_i/recipes" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recipes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../data/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Data
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../data/dataset_zoo/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Zoo Datasets
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Zoo Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dataset_zoo/datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-In Zoo Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dataset_zoo/remote/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remotely-Sourced Zoo Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dataset_zoo/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zoo Data API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/hugging_face_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hugging Face Datasets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Models
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/model_zoo/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Zoo Models
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Zoo Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-in Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/remote/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/hugging_face_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hugging Face Datasets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../plugins/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/using_plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/developing_plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing Plugins
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Integrations
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../api/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    References
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            References
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../teams/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FiftyOne Teams
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Releases
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../faq/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_14" id="__nav_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            FAQ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#loading-the-activitynet-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Loading the ActivityNet dataset ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Loading the ActivityNet dataset ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partial-downloads" class="md-nav__link">
    <span class="md-ellipsis">
      Partial Downloads ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#full-split-downloads" class="md-nav__link">
    <span class="md-ellipsis">
      Full Split Downloads ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activitynet-style-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      ActivityNet-style evaluation ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ActivityNet-style evaluation ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-evaluation" class="md-nav__link">
    <span class="md-ellipsis">
      Example evaluation ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map-and-pr-curves" class="md-nav__link">
    <span class="md-ellipsis">
      mAP and PR curves ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#confusion-matrices" class="md-nav__link">
    <span class="md-ellipsis">
      Confusion matrices ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activitynet-challenge" class="md-nav__link">
    <span class="md-ellipsis">
      ActivityNet Challenge ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#map-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      mAP protocol ¶
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/thesteve0/vdoc-mkdocs/blob/main/docs/integrations/activitynet.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="activitynet-integration">ActivityNet Integration <a href="#activitynet-integration" title="Permalink to this headline">¶</a><a class="headerlink" href="#activitynet-integration" title="Permanent link">&para;</a></h1>
<p>With FiftyOne, you can easily download, visualize, and evaluate on the
<a href="http://activity-net.org/index.html">ActivityNet dataset</a>!</p>
<p><img alt="activitynet-200-validation" src="../../_images/activitynet-200-validation.png" /></p>
<h2 id="loading-the-activitynet-dataset">Loading the ActivityNet dataset <a href="#loading-the-activitynet-dataset" title="Permalink to this headline">¶</a><a class="headerlink" href="#loading-the-activitynet-dataset" title="Permanent link">&para;</a></h2>
<p>The FiftyOne Dataset Zoo provides support for loading both the
<a href="../dataset_zoo/datasets.html#dataset-zoo-activitynet-100">ActivityNet 100</a> and
<a href="../dataset_zoo/datasets.html#dataset-zoo-activitynet-200">ActivityNet 200</a> datasets.</p>
<p>Like all other zoo datasets, you can use
<a href="../api/fiftyone.zoo.datasets.html#fiftyone.zoo.datasets.load_zoo_dataset" title="fiftyone.zoo.datasets.load_zoo_dataset"><code>load_zoo_dataset()</code></a> to download
and load an ActivityNet split into FiftyOne:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-0-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-0-3">
</span><span id="__span-0-4"><span class="c1"># Download and load 10 samples from the validation split of ActivityNet 200</span>
</span><span id="__span-0-5"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span>
</span><span id="__span-0-6">    <span class="s2">&quot;activitynet-200&quot;</span><span class="p">,</span>
</span><span id="__span-0-7">    <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
</span><span id="__span-0-8">    <span class="n">max_samples</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-0-9"><span class="p">)</span>
</span><span id="__span-0-10">
</span><span id="__span-0-11"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p>Note</p>
<p>ActivityNet 200 is a superset of ActivityNet 100 so we have made sure
to only store one copy of every video on disk. Videos in the
ActivityNet 100 zoo directory are used directly by ActivityNet 200.</p>
<h3 id="partial-downloads">Partial Downloads <a href="#partial-downloads" title="Permalink to this headline">¶</a><a class="headerlink" href="#partial-downloads" title="Permanent link">&para;</a></h3>
<p>In addition, FiftyOne provides parameters that can be used to efficiently
download specific subsets of the ActivityNet dataset, allowing you to quickly
explore different slices of the dataset without downloading the entire split.</p>
<p>When performing partial downloads, FiftyOne will use existing downloaded data
first if possible before resorting to downloading additional data from YouTube.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-1-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-1-3">
</span><span id="__span-1-4"><span class="c1">#</span>
</span><span id="__span-1-5"><span class="c1"># Load 10 random samples from the validation split</span>
</span><span id="__span-1-6"><span class="c1">#</span>
</span><span id="__span-1-7"><span class="c1"># Only the required videos will be downloaded (if necessary).</span>
</span><span id="__span-1-8"><span class="c1">#</span>
</span><span id="__span-1-9">
</span><span id="__span-1-10"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span>
</span><span id="__span-1-11">    <span class="s2">&quot;activitynet-200&quot;</span><span class="p">,</span>
</span><span id="__span-1-12">    <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
</span><span id="__span-1-13">    <span class="n">max_samples</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-1-14">    <span class="n">shuffle</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-1-15"><span class="p">)</span>
</span><span id="__span-1-16">
</span><span id="__span-1-17"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span><span id="__span-1-18">
</span><span id="__span-1-19"><span class="c1">#</span>
</span><span id="__span-1-20"><span class="c1"># Load 10 samples from the validation split that</span>
</span><span id="__span-1-21"><span class="c1"># contain the actions &quot;Bathing dog&quot; and &quot;Walking the dog&quot;</span>
</span><span id="__span-1-22"><span class="c1"># with a maximum duration of 20 seconds</span>
</span><span id="__span-1-23"><span class="c1">#</span>
</span><span id="__span-1-24"><span class="c1"># Videos that contain all ``classes`` will be prioritized first, followed</span>
</span><span id="__span-1-25"><span class="c1"># by videos that contain at least one of the required ``classes``. If</span>
</span><span id="__span-1-26"><span class="c1"># there are not enough videos matching ``classes`` in the split to meet</span>
</span><span id="__span-1-27"><span class="c1"># ``max_samples``, only the available videos will be loaded.</span>
</span><span id="__span-1-28"><span class="c1">#</span>
</span><span id="__span-1-29"><span class="c1"># Videos will only be downloaded if necessary</span>
</span><span id="__span-1-30"><span class="c1">#</span>
</span><span id="__span-1-31">
</span><span id="__span-1-32"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span>
</span><span id="__span-1-33">    <span class="s2">&quot;activitynet-200&quot;</span><span class="p">,</span>
</span><span id="__span-1-34">    <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
</span><span id="__span-1-35">    <span class="n">classes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Bathing dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Walking the dog&quot;</span><span class="p">],</span>
</span><span id="__span-1-36">    <span class="n">max_samples</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-1-37">    <span class="n">max_duration</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span><span id="__span-1-38"><span class="p">)</span>
</span><span id="__span-1-39">
</span><span id="__span-1-40"><span class="n">session</span><span class="o">.</span><span class="n">dataset</span> <span class="o">=</span> <span class="n">dataset</span>
</span></code></pre></div>
<p>The following parameters are available to configure partial downloads of both
ActivityNet 100 and ActivityNet 200 by passing them to
<a href="../api/fiftyone.zoo.datasets.html#fiftyone.zoo.datasets.load_zoo_dataset" title="fiftyone.zoo.datasets.load_zoo_dataset"><code>load_zoo_dataset()</code></a>:</p>
<ul>
<li>
<p><strong>split</strong> ( <em>None</em>) and <strong>splits</strong> ( <em>None</em>): a string or list of strings,
respectively, specifying the splits to load. Supported values are
<code>("train", "test", "validation")</code>. If none are provided, all available
splits are loaded</p>
</li>
<li>
<p><strong>source_dir</strong> ( <em>None</em>): the directory containing the manually downloaded
ActivityNet files used to avoid downloading videos from YouTube</p>
</li>
<li>
<p><strong>classes</strong> ( <em>None</em>): a string or list of strings specifying required
classes to load. If provided, only samples containing at least one instance
of a specified class will be loaded</p>
</li>
<li>
<p><strong>max_duration</strong> ( <em>None</em>): only videos with a duration in seconds that is
less than or equal to the <code>max_duration</code> will be downloaded. By default,
all videos are downloaded</p>
</li>
<li>
<p><strong>copy_files</strong> ( <em>True</em>): whether to move (False) or create copies (True) of
the source files when populating <code>dataset_dir</code>. This is only applicable
when a <code>source_dir</code> is provided</p>
</li>
<li>
<p><strong>num_workers</strong> ( <em>None</em>): the number of processes to use when downloading
individual videos. By default, <code>multiprocessing.cpu_count()</code> is used</p>
</li>
<li>
<p><strong>shuffle</strong> ( <em>False</em>): whether to randomly shuffle the order in which
samples are chosen for partial downloads</p>
</li>
<li>
<p><strong>seed</strong> ( <em>None</em>): a random seed to use when shuffling</p>
</li>
<li>
<p><strong>max_samples</strong> ( <em>None</em>): a maximum number of samples to load per split. If
<code>classes</code> are also specified, only up to the number of samples that
contain at least one specified class will be loaded. By default, all
matching samples are loaded</p>
</li>
</ul>
<h3 id="full-split-downloads">Full Split Downloads <a href="#full-split-downloads" title="Permalink to this headline">¶</a><a class="headerlink" href="#full-split-downloads" title="Permanent link">&para;</a></h3>
<p>Many videos have been removed from YouTube since the creation of ActivityNet.
As a result, you must first download the official source files from the
ActivityNet maintainers in order to load a full split into FiftyOne.</p>
<p>To download the source files, you must fill out
<a href="https://docs.google.com/forms/d/e/1FAIpQLSeKaFq9ZfcmZ7W0B0PbEhfbTHY41GeEgwsa7WobJgGUhn4DTQ/viewform">this form</a>.</p>
<p>After downloading the source files, they can be loaded into FiftyOne like so:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-2-2"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-2-3">
</span><span id="__span-2-4"><span class="n">source_dir</span> <span class="o">=</span> <span class="s2">&quot;/path/to/dir-with-activitynet-files&quot;</span>
</span><span id="__span-2-5">
</span><span id="__span-2-6"><span class="c1"># Load the entire ActivityNet 200 dataset into FiftyOne</span>
</span><span id="__span-2-7"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span><span class="s2">&quot;activitynet-200&quot;</span><span class="p">,</span> <span class="n">source_dir</span><span class="o">=</span><span class="n">source_dir</span><span class="p">)</span>
</span><span id="__span-2-8">
</span><span id="__span-2-9"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span></code></pre></div>
<p>where <code>source_dir</code> contains the source files in the following format:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><span class="n">source_dir</span><span class="o">/</span>
</span><span id="__span-3-2">    <span class="n">missing_files</span><span class="o">.</span><span class="n">zip</span>
</span><span id="__span-3-3">    <span class="n">missing_files_v1</span><span class="o">-</span><span class="mi">2</span><span class="n">_test</span><span class="o">.</span><span class="n">zip</span>
</span><span id="__span-3-4">    <span class="n">missing_files_v1</span><span class="o">-</span><span class="mi">3</span><span class="n">_test</span><span class="o">.</span><span class="n">zip</span>
</span><span id="__span-3-5">    <span class="n">v1</span><span class="o">-</span><span class="mi">2</span><span class="n">_test</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span><span id="__span-3-6">    <span class="n">v1</span><span class="o">-</span><span class="mi">2</span><span class="n">_train</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span><span id="__span-3-7">    <span class="n">v1</span><span class="o">-</span><span class="mi">2</span><span class="n">_val</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span><span id="__span-3-8">    <span class="n">v1</span><span class="o">-</span><span class="mi">3</span><span class="n">_test</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span><span id="__span-3-9">    <span class="n">v1</span><span class="o">-</span><span class="mi">3</span><span class="n">_train_val</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</span></code></pre></div>
<p>If you have already decompressed the archives, that is okay too:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><span class="n">source_dir</span><span class="o">/</span>
</span><span id="__span-4-2">    <span class="n">missing_files</span><span class="o">/</span>
</span><span id="__span-4-3">        <span class="n">v_</span><span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;.&lt;</span><span class="n">ext</span><span class="o">&gt;</span>
</span><span id="__span-4-4">        <span class="o">...</span>
</span><span id="__span-4-5">    <span class="n">missing_files_v1</span><span class="o">-</span><span class="mi">2</span><span class="n">_test</span><span class="o">/</span>
</span><span id="__span-4-6">        <span class="n">v_</span><span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;.&lt;</span><span class="n">ext</span><span class="o">&gt;</span>
</span><span id="__span-4-7">        <span class="o">...</span>
</span><span id="__span-4-8">    <span class="n">missing_files_v_1</span><span class="o">-</span><span class="mi">3</span><span class="n">_test</span><span class="o">/</span>
</span><span id="__span-4-9">        <span class="n">v_</span><span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;.&lt;</span><span class="n">ext</span><span class="o">&gt;</span>
</span><span id="__span-4-10">        <span class="o">...</span>
</span><span id="__span-4-11">    <span class="n">v1</span><span class="o">-</span><span class="mi">2</span><span class="o">/</span>
</span><span id="__span-4-12">        <span class="n">train</span><span class="o">/</span>
</span><span id="__span-4-13">            <span class="n">v_</span><span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;.&lt;</span><span class="n">ext</span><span class="o">&gt;</span>
</span><span id="__span-4-14">            <span class="o">...</span>
</span><span id="__span-4-15">        <span class="n">val</span><span class="o">/</span>
</span><span id="__span-4-16">            <span class="o">...</span>
</span><span id="__span-4-17">        <span class="n">test</span><span class="o">/</span>
</span><span id="__span-4-18">            <span class="o">...</span>
</span><span id="__span-4-19">    <span class="n">v1</span><span class="o">-</span><span class="mi">3</span><span class="o">/</span>
</span><span id="__span-4-20">        <span class="n">train_val</span><span class="o">/</span>
</span><span id="__span-4-21">            <span class="n">v_</span><span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;.&lt;</span><span class="n">ext</span><span class="o">&gt;</span>
</span><span id="__span-4-22">            <span class="o">...</span>
</span><span id="__span-4-23">        <span class="n">test</span><span class="o">/</span>
</span><span id="__span-4-24">            <span class="o">...</span>
</span></code></pre></div>
<p>If you are only interested in loading specific splits into FiftyOne, the files
for the other splits do not need to be present.</p>
<p>Note</p>
<p>When <a href="../api/fiftyone.zoo.datasets.html#fiftyone.zoo.datasets.load_zoo_dataset" title="fiftyone.zoo.datasets.load_zoo_dataset"><code>load_zoo_dataset()</code></a>
is called with the <code>source_dir</code> parameter, the contents are copied (or
moved, if <code>copy_files=False</code>) into the zoo dataset’s backing directory.</p>
<p>Therefore, future use of the loaded dataset or future calls to
<a href="../api/fiftyone.zoo.datasets.html#fiftyone.zoo.datasets.load_zoo_dataset" title="fiftyone.zoo.datasets.load_zoo_dataset"><code>load_zoo_dataset()</code></a>
will not require the <code>source_dir</code> parameter.</p>
<h2 id="activitynet-style-evaluation">ActivityNet-style evaluation <a href="#activitynet-style-evaluation" title="Permalink to this headline">¶</a><a class="headerlink" href="#activitynet-style-evaluation" title="Permanent link">&para;</a></h2>
<p>The <a href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.evaluate_detections" title="fiftyone.core.collections.SampleCollection.evaluate_detections"><code>evaluate_detections()</code></a>
method provides builtin support for running
<a href="https://github.com/activitynet/ActivityNet/tree/master/Evaluation">ActivityNet-style evaluation</a>.</p>
<p>ActivityNet-style evaluation is the default method when evaluating
<a href="../api/fiftyone.core.labels.html#fiftyone.core.labels.TemporalDetections" title="fiftyone.core.labels.TemporalDetections"><code>TemporalDetections</code></a> labels, but you can also explicitly request it by setting
the <code>method</code> parameter to <code>"actvitynet"</code>.</p>
<p>Note</p>
<p>FiftyOne’s implementation of ActivityNet-style evaluation matches the
reference implementation available via the
<a href="https://github.com/activitynet/ActivityNet/tree/master/Evaluation">ActivityNet API</a>.</p>
<h3 id="overview">Overview <a href="#overview" title="Permalink to this headline">¶</a><a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p>When running ActivityNet-style evaluation using
<a href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.evaluate_detections" title="fiftyone.core.collections.SampleCollection.evaluate_detections"><code>evaluate_detections()</code></a>:</p>
<ul>
<li>
<p>Predicted and ground truth segments are matched using a specified IoU
threshold (default = 0.50). This threshold can be customized via the
<code>iou</code> parameter</p>
</li>
<li>
<p>By default, only segments with the same <code>label</code> will be matched. Classwise
matching can be disabled by passing <code>classwise=False</code></p>
</li>
<li>
<p>mAP is computed by averaging over the same range of IoU values
<a href="coco.html#coco-map">used by COCO</a></p>
</li>
</ul>
<p>When you specify an <code>eval_key</code> parameter, a number of helpful fields will be
populated on each sample and its predicted/ground truth segments:</p>
<ul>
<li>True positive (TP), false positive (FP), and false negative (FN) counts
for the each sample are saved in top-level fields of each sample:</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><span class="n">TP</span><span class="p">:</span> <span class="n">sample</span><span class="o">.&lt;</span><span class="n">eval_key</span><span class="o">&gt;</span><span class="n">_tp</span>
</span><span id="__span-5-2"><span class="n">FP</span><span class="p">:</span> <span class="n">sample</span><span class="o">.&lt;</span><span class="n">eval_key</span><span class="o">&gt;</span><span class="n">_fp</span>
</span><span id="__span-5-3"><span class="n">FN</span><span class="p">:</span> <span class="n">sample</span><span class="o">.&lt;</span><span class="n">eval_key</span><span class="o">&gt;</span><span class="n">_fn</span>
</span></code></pre></div>
<ul>
<li>The fields listed below are populated on each individual temporal detection
segment; these fields tabulate the TP/FP/FN status of the segment, the ID
of the matching segment (if any), and the matching IoU:</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><span class="n">TP</span><span class="o">/</span><span class="n">FP</span><span class="o">/</span><span class="n">FN</span><span class="p">:</span> <span class="n">segment</span><span class="o">.&lt;</span><span class="n">eval_key</span><span class="o">&gt;</span>
</span><span id="__span-6-2">        <span class="n">ID</span><span class="p">:</span> <span class="n">segment</span><span class="o">.&lt;</span><span class="n">eval_key</span><span class="o">&gt;</span><span class="n">_id</span>
</span><span id="__span-6-3">       <span class="n">IoU</span><span class="p">:</span> <span class="n">segment</span><span class="o">.&lt;</span><span class="n">eval_key</span><span class="o">&gt;</span><span class="n">_iou</span>
</span></code></pre></div>
<p>Note</p>
<p>See <a href="../api/fiftyone.utils.eval.activitynet.html#fiftyone.utils.eval.activitynet.ActivityNetEvaluationConfig" title="fiftyone.utils.eval.activitynet.ActivityNetEvaluationConfig"><code>ActivityNetEvaluationConfig</code></a> for complete descriptions of the optional
keyword arguments that you can pass to
<a href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.evaluate_detections" title="fiftyone.core.collections.SampleCollection.evaluate_detections"><code>evaluate_detections()</code></a>
when running ActivityNet-style evaluation.</p>
<h3 id="example-evaluation">Example evaluation <a href="#example-evaluation" title="Permalink to this headline">¶</a><a class="headerlink" href="#example-evaluation" title="Permanent link">&para;</a></h3>
<p>The example below demonstrates ActivityNet-style temporal detection evaluation
on the <a href="../dataset_zoo/datasets.html#dataset-zoo-activitynet-200">ActivityNet 200 dataset</a>:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-7-2">
</span><span id="__span-7-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-7-4"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-7-5"><span class="kn">from</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="kn">import</span> <span class="n">ViewField</span> <span class="k">as</span> <span class="n">F</span>
</span><span id="__span-7-6">
</span><span id="__span-7-7"><span class="c1"># Load subset of ActivityNet 200</span>
</span><span id="__span-7-8"><span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Bathing dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Walking the dog&quot;</span><span class="p">]</span>
</span><span id="__span-7-9"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span>
</span><span id="__span-7-10">    <span class="s2">&quot;activitynet-200&quot;</span><span class="p">,</span>
</span><span id="__span-7-11">    <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
</span><span id="__span-7-12">    <span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">,</span>
</span><span id="__span-7-13">    <span class="n">max_samples</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-7-14"><span class="p">)</span>
</span><span id="__span-7-15"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span><span id="__span-7-16">
</span><span id="__span-7-17"><span class="c1"># Generate some fake predictions for this example</span>
</span><span id="__span-7-18"><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">51</span><span class="p">)</span>
</span><span id="__span-7-19"><span class="n">dataset</span><span class="o">.</span><span class="n">clone_sample_field</span><span class="p">(</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">,</span> <span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-7-20"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
</span><span id="__span-7-21">    <span class="k">for</span> <span class="n">det</span> <span class="ow">in</span> <span class="n">sample</span><span class="o">.</span><span class="n">predictions</span><span class="o">.</span><span class="n">detections</span><span class="p">:</span>
</span><span id="__span-7-22">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-7-23">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-7-24">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-7-25">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-7-26">        <span class="n">det</span><span class="o">.</span><span class="n">confidence</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</span><span id="__span-7-27">        <span class="n">det</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">classes</span><span class="p">)</span>
</span><span id="__span-7-28">
</span><span id="__span-7-29">    <span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-7-30">
</span><span id="__span-7-31"><span class="c1"># Evaluate the segments in the `predictions` field with respect to the</span>
</span><span id="__span-7-32"><span class="c1"># segments in the `ground_truth` field</span>
</span><span id="__span-7-33"><span class="n">results</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">evaluate_detections</span><span class="p">(</span>
</span><span id="__span-7-34">    <span class="s2">&quot;predictions&quot;</span><span class="p">,</span>
</span><span id="__span-7-35">    <span class="n">gt_field</span><span class="o">=</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">,</span>
</span><span id="__span-7-36">    <span class="n">eval_key</span><span class="o">=</span><span class="s2">&quot;eval&quot;</span><span class="p">,</span>
</span><span id="__span-7-37"><span class="p">)</span>
</span><span id="__span-7-38">
</span><span id="__span-7-39"><span class="c1"># Print a classification report for the classes</span>
</span><span id="__span-7-40"><span class="n">results</span><span class="o">.</span><span class="n">print_report</span><span class="p">(</span><span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">)</span>
</span><span id="__span-7-41">
</span><span id="__span-7-42"><span class="c1"># Print some statistics about the total TP/FP/FN counts</span>
</span><span id="__span-7-43"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;TP: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">dataset</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="s2">&quot;eval_tp&quot;</span><span class="p">))</span>
</span><span id="__span-7-44"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;FP: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">dataset</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="s2">&quot;eval_fp&quot;</span><span class="p">))</span>
</span><span id="__span-7-45"><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;FN: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">dataset</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="s2">&quot;eval_fn&quot;</span><span class="p">))</span>
</span><span id="__span-7-46">
</span><span id="__span-7-47"><span class="c1"># Create a view that has samples with the most false positives first, and</span>
</span><span id="__span-7-48"><span class="c1"># only includes false positive segments in the `predictions` field</span>
</span><span id="__span-7-49"><span class="n">view</span> <span class="o">=</span> <span class="p">(</span>
</span><span id="__span-7-50">    <span class="n">dataset</span>
</span><span id="__span-7-51">    <span class="o">.</span><span class="n">sort_by</span><span class="p">(</span><span class="s2">&quot;eval_fp&quot;</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-7-52">    <span class="o">.</span><span class="n">filter_labels</span><span class="p">(</span><span class="s2">&quot;predictions&quot;</span><span class="p">,</span> <span class="n">F</span><span class="p">(</span><span class="s2">&quot;eval&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;fp&quot;</span><span class="p">)</span>
</span><span id="__span-7-53"><span class="p">)</span>
</span><span id="__span-7-54">
</span><span id="__span-7-55"><span class="c1"># Visualize results in the App</span>
</span><span id="__span-7-56"><span class="n">session</span> <span class="o">=</span> <span class="n">fo</span><span class="o">.</span><span class="n">launch_app</span><span class="p">(</span><span class="n">view</span><span class="o">=</span><span class="n">view</span><span class="p">)</span>
</span></code></pre></div>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1">                 <span class="n">precision</span>    <span class="n">recall</span>  <span class="n">f1</span><span class="o">-</span><span class="n">score</span>   <span class="n">support</span>
</span><span id="__span-8-2">
</span><span id="__span-8-3">    <span class="n">Bathing</span> <span class="n">dog</span>       <span class="mf">0.50</span>      <span class="mf">0.40</span>      <span class="mf">0.44</span>         <span class="mi">5</span>
</span><span id="__span-8-4"><span class="n">Walking</span> <span class="n">the</span> <span class="n">dog</span>       <span class="mf">0.50</span>      <span class="mf">0.60</span>      <span class="mf">0.55</span>         <span class="mi">5</span>
</span><span id="__span-8-5">
</span><span id="__span-8-6">      <span class="n">micro</span> <span class="n">avg</span>       <span class="mf">0.50</span>      <span class="mf">0.50</span>      <span class="mf">0.50</span>        <span class="mi">10</span>
</span><span id="__span-8-7">      <span class="n">macro</span> <span class="n">avg</span>       <span class="mf">0.50</span>      <span class="mf">0.50</span>      <span class="mf">0.49</span>        <span class="mi">10</span>
</span><span id="__span-8-8">   <span class="n">weighted</span> <span class="n">avg</span>       <span class="mf">0.50</span>      <span class="mf">0.50</span>      <span class="mf">0.49</span>        <span class="mi">10</span>
</span></code></pre></div>
<p><img alt="activitynet-evaluate-detections" src="../../_images/activitynet_evaluate_detections.png" /></p>
<h3 id="map-and-pr-curves">mAP and PR curves <a href="#map-and-pr-curves" title="Permalink to this headline">¶</a><a class="headerlink" href="#map-and-pr-curves" title="Permanent link">&para;</a></h3>
<p>You can compute mean average precision (mAP) and precision-recall (PR) curves
for your segments by passing the <code>compute_mAP=True</code> flag to
<a href="../api/fiftyone.core.collections.html#fiftyone.core.collections.SampleCollection.evaluate_detections" title="fiftyone.core.collections.SampleCollection.evaluate_detections"><code>evaluate_detections()</code></a>:</p>
<p>Note</p>
<p>All mAP calculations are performed according to the
<a href="https://github.com/activitynet/ActivityNet/tree/master/Evaluation">ActivityNet evaluation protocol</a>.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-9-2">
</span><span id="__span-9-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-9-4"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-9-5">
</span><span id="__span-9-6"><span class="c1"># Load subset of ActivityNet 200</span>
</span><span id="__span-9-7"><span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Bathing dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Walking the dog&quot;</span><span class="p">]</span>
</span><span id="__span-9-8"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span>
</span><span id="__span-9-9">    <span class="s2">&quot;activitynet-200&quot;</span><span class="p">,</span>
</span><span id="__span-9-10">    <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
</span><span id="__span-9-11">    <span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">,</span>
</span><span id="__span-9-12">    <span class="n">max_samples</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-9-13"><span class="p">)</span>
</span><span id="__span-9-14"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span><span id="__span-9-15">
</span><span id="__span-9-16"><span class="c1"># Generate some fake predictions for this example</span>
</span><span id="__span-9-17"><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">51</span><span class="p">)</span>
</span><span id="__span-9-18"><span class="n">dataset</span><span class="o">.</span><span class="n">clone_sample_field</span><span class="p">(</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">,</span> <span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-9-19"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
</span><span id="__span-9-20">    <span class="k">for</span> <span class="n">det</span> <span class="ow">in</span> <span class="n">sample</span><span class="o">.</span><span class="n">predictions</span><span class="o">.</span><span class="n">detections</span><span class="p">:</span>
</span><span id="__span-9-21">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-9-22">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-9-23">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-9-24">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-9-25">        <span class="n">det</span><span class="o">.</span><span class="n">confidence</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</span><span id="__span-9-26">        <span class="n">det</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">classes</span><span class="p">)</span>
</span><span id="__span-9-27">
</span><span id="__span-9-28">    <span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-9-29">
</span><span id="__span-9-30"><span class="c1"># Performs an IoU sweep so that mAP and PR curves can be computed</span>
</span><span id="__span-9-31"><span class="n">results</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">evaluate_detections</span><span class="p">(</span>
</span><span id="__span-9-32">    <span class="s2">&quot;predictions&quot;</span><span class="p">,</span>
</span><span id="__span-9-33">    <span class="n">gt_field</span><span class="o">=</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">,</span>
</span><span id="__span-9-34">    <span class="n">eval_key</span><span class="o">=</span><span class="s2">&quot;eval&quot;</span><span class="p">,</span>
</span><span id="__span-9-35">    <span class="n">compute_mAP</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-9-36"><span class="p">)</span>
</span><span id="__span-9-37">
</span><span id="__span-9-38"><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">mAP</span><span class="p">())</span>
</span><span id="__span-9-39"><span class="c1"># 0.367</span>
</span><span id="__span-9-40">
</span><span id="__span-9-41"><span class="n">plot</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">plot_pr_curves</span><span class="p">(</span><span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">)</span>
</span><span id="__span-9-42"><span class="n">plot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></code></pre></div>
<p><img alt="activitynet-pr-curves" src="../../_images/activitynet_pr_curves.png" /></p>
<h3 id="confusion-matrices">Confusion matrices <a href="#confusion-matrices" title="Permalink to this headline">¶</a><a class="headerlink" href="#confusion-matrices" title="Permanent link">&para;</a></h3>
<p>You can also easily generate <a href="../fiftyone_concepts/evaluation.html#confusion-matrices">confusion matrices</a> for
the results of ActivityNet-style evaluations.</p>
<p>In order for the confusion matrix to capture anything other than false
positive/negative counts, you will likely want to set the
<code>classwise</code>
parameter to <code>False</code> during evaluation so that predicted segments can be
matched with ground truth segments of different classes.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-10-2">
</span><span id="__span-10-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-10-4"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-10-5">
</span><span id="__span-10-6"><span class="c1"># Load subset of ActivityNet 200</span>
</span><span id="__span-10-7"><span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Bathing dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Grooming dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Grooming horse&quot;</span><span class="p">,</span> <span class="s2">&quot;Walking the dog&quot;</span><span class="p">]</span>
</span><span id="__span-10-8"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span>
</span><span id="__span-10-9">    <span class="s2">&quot;activitynet-200&quot;</span><span class="p">,</span>
</span><span id="__span-10-10">    <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
</span><span id="__span-10-11">    <span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">,</span>
</span><span id="__span-10-12">    <span class="n">max_samples</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
</span><span id="__span-10-13"><span class="p">)</span>
</span><span id="__span-10-14"><span class="nb">print</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</span><span id="__span-10-15">
</span><span id="__span-10-16"><span class="c1"># Generate some fake predictions for this example</span>
</span><span id="__span-10-17"><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">51</span><span class="p">)</span>
</span><span id="__span-10-18"><span class="n">dataset</span><span class="o">.</span><span class="n">clone_sample_field</span><span class="p">(</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">,</span> <span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-10-19"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
</span><span id="__span-10-20">    <span class="k">for</span> <span class="n">det</span> <span class="ow">in</span> <span class="n">sample</span><span class="o">.</span><span class="n">predictions</span><span class="o">.</span><span class="n">detections</span><span class="p">:</span>
</span><span id="__span-10-21">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-10-22">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-10-23">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-10-24">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-10-25">        <span class="n">det</span><span class="o">.</span><span class="n">confidence</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</span><span id="__span-10-26">        <span class="n">det</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">classes</span><span class="p">)</span>
</span><span id="__span-10-27">
</span><span id="__span-10-28">    <span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-10-29">
</span><span id="__span-10-30"><span class="c1"># Perform evaluation, allowing objects to be matched between classes</span>
</span><span id="__span-10-31"><span class="n">results</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">evaluate_detections</span><span class="p">(</span>
</span><span id="__span-10-32">    <span class="s2">&quot;predictions&quot;</span><span class="p">,</span> <span class="n">gt_field</span><span class="o">=</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">,</span> <span class="n">classwise</span><span class="o">=</span><span class="kc">False</span>
</span><span id="__span-10-33"><span class="p">)</span>
</span><span id="__span-10-34">
</span><span id="__span-10-35"><span class="c1"># Generate a confusion matrix for the specified classes</span>
</span><span id="__span-10-36"><span class="n">plot</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">plot_confusion_matrix</span><span class="p">(</span><span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">)</span>
</span><span id="__span-10-37"><span class="n">plot</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></code></pre></div>
<p><img alt="activitynet-confusion-matrix" src="../../_images/activitynet_confusion_matrix.png" /></p>
<p>Note</p>
<p>Did you know? <a href="../fiftyone_concepts/evaluation.html#confusion-matrices">Confusion matrices</a> can be
attached to your <a href="../api/fiftyone.core.session.html#fiftyone.core.session.Session" title="fiftyone.core.session.Session"><code>Session</code></a> object and dynamically explored using FiftyOne’s
<a href="../fiftyone_concepts/plots.html#interactive-plots">interactive plotting features</a>!</p>
<h2 id="activitynet-challenge">ActivityNet Challenge <a href="#activitynet-challenge" title="Permalink to this headline">¶</a><a class="headerlink" href="#activitynet-challenge" title="Permanent link">&para;</a></h2>
<p>Since FiftyOne’s implementation of ActivityNet-style evaluation matches the
reference implementation from the
<a href="https://github.com/activitynet/ActivityNet/tree/master/Evaluation">ActivityNet API</a>
used in the
<a href="http://activity-net.org/challenges/2021/index.html">ActivityNet challenges</a>.
you can use it to compute the official mAP for your model while also enjoying
the benefits of working in the FiftyOne ecosystem, including
<a href="../fiftyone_concepts/using_views.html#using-views">using views</a> to manipulate your dataset and visually
exploring your model’s predictions in the <a href="../fiftyone_concepts/app.html#fiftyone-app">FiftyOne App</a>!</p>
<p>The example snippet below loads the
<a href="../dataset_zoo/datasets.html#dataset-zoo-activitynet-200">ActivityNet 200</a> dataset and runs the
official ActivityNet evaluation protocol on some mock model predictions:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
</span><span id="__span-11-2">
</span><span id="__span-11-3"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fo</span>
</span><span id="__span-11-4"><span class="kn">import</span><span class="w"> </span><span class="nn">fiftyone.zoo</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">foz</span>
</span><span id="__span-11-5">
</span><span id="__span-11-6"><span class="c1"># Load subset of ActivityNet 200</span>
</span><span id="__span-11-7"><span class="n">classes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Bathing dog&quot;</span><span class="p">,</span> <span class="s2">&quot;Walking the dog&quot;</span><span class="p">]</span>
</span><span id="__span-11-8"><span class="n">dataset</span> <span class="o">=</span> <span class="n">foz</span><span class="o">.</span><span class="n">load_zoo_dataset</span><span class="p">(</span>
</span><span id="__span-11-9">    <span class="s2">&quot;activitynet-200&quot;</span><span class="p">,</span>
</span><span id="__span-11-10">    <span class="n">split</span><span class="o">=</span><span class="s2">&quot;validation&quot;</span><span class="p">,</span>
</span><span id="__span-11-11">    <span class="n">classes</span><span class="o">=</span><span class="n">classes</span><span class="p">,</span>
</span><span id="__span-11-12">    <span class="n">max_samples</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-11-13"><span class="p">)</span>
</span><span id="__span-11-14">
</span><span id="__span-11-15"><span class="c1"># Generate some fake predictions for this example</span>
</span><span id="__span-11-16"><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">51</span><span class="p">)</span>
</span><span id="__span-11-17"><span class="n">dataset</span><span class="o">.</span><span class="n">clone_sample_field</span><span class="p">(</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">,</span> <span class="s2">&quot;predictions&quot;</span><span class="p">)</span>
</span><span id="__span-11-18"><span class="k">for</span> <span class="n">sample</span> <span class="ow">in</span> <span class="n">dataset</span><span class="p">:</span>
</span><span id="__span-11-19">    <span class="k">for</span> <span class="n">det</span> <span class="ow">in</span> <span class="n">sample</span><span class="o">.</span><span class="n">predictions</span><span class="o">.</span><span class="n">detections</span><span class="p">:</span>
</span><span id="__span-11-20">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-11-21">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-11-22">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-11-23">        <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">det</span><span class="o">.</span><span class="n">support</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span id="__span-11-24">        <span class="n">det</span><span class="o">.</span><span class="n">confidence</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</span><span id="__span-11-25">        <span class="n">det</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">classes</span><span class="p">)</span>
</span><span id="__span-11-26">
</span><span id="__span-11-27">    <span class="n">sample</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span><span id="__span-11-28">
</span><span id="__span-11-29"><span class="c1"># Evaluate predictions via the official ActivityNet protocol</span>
</span><span id="__span-11-30"><span class="n">results</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">evaluate_detections</span><span class="p">(</span>
</span><span id="__span-11-31">    <span class="s2">&quot;predictions&quot;</span><span class="p">,</span>
</span><span id="__span-11-32">    <span class="n">gt_field</span><span class="o">=</span><span class="s2">&quot;ground_truth&quot;</span><span class="p">,</span>
</span><span id="__span-11-33">    <span class="n">compute_mAP</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="__span-11-34"><span class="p">)</span>
</span><span id="__span-11-35">
</span><span id="__span-11-36"><span class="c1"># The official mAP for the results</span>
</span><span id="__span-11-37"><span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">mAP</span><span class="p">())</span>
</span></code></pre></div>
<p>Note</p>
<p>Check out <a href="../recipes/adding_detections.html">this recipe</a> to learn how to
add your model’s predictions to a FiftyOne Dataset.</p>
<h2 id="map-protocol">mAP protocol <a href="#map-protocol" title="Permalink to this headline">¶</a><a class="headerlink" href="#map-protocol" title="Permanent link">&para;</a></h2>
<p>The ActivityNet mAP protocol is similar to <a href="coco.html#coco-map">COCO-style mAP</a>,
with the primary difference being a different IoU computation using temporal
segments, a lack of crowds, and the way interpolation of precision values is
handled.</p>
<p>The steps to compute ActivityNet-style mAP are detailed below.</p>
<p><strong>Preprocessing</strong></p>
<ul>
<li>
<p>Filter ground truth and predicted segments by class (unless
<code>classwise=False</code>)</p>
</li>
<li>
<p>Sort predicted segments by confidence score so high confidence segments are
matched first</p>
</li>
<li>
<p>Compute IoU between every ground truth and predicted segment within the
same class (and between classes if <code>classwise=False</code>) in each video</p>
</li>
</ul>
<p><strong>Matching</strong></p>
<p>Once IoUs have been computed, predictions and ground truth segments are matched
to compute true positives, false positives, and false negatives:</p>
<ul>
<li>
<p>For each class, start with the highest confidence prediction, match it to
the ground truth segment that it overlaps with the highest IoU. A
prediction only matches if the IoU is above the specified <code>iou</code> threshold</p>
</li>
<li>
<p>If a prediction maximally overlaps with a ground truth segment that has
already been matched (by a higher confidence prediction), the prediction is
matched with the next highest IoU ground truth segment</p>
</li>
</ul>
<p><strong>Computing mAP</strong></p>
<ul>
<li>
<p>Compute matches for 10 IoU thresholds from 0.5 to 0.95 in increments of
0.05</p>
</li>
<li>
<p>The next 6 steps are computed separately for each class and IoU threshold:</p>
</li>
<li>
<p>Construct a boolean array of true positives and false positives, sorted
by confidence</p>
</li>
<li>
<p>Compute the cumulative sum of the true positive and false positive array</p>
</li>
<li>
<p>Compute precision by elementwise dividing the TP-FP-sum array by the total
number of predictions up to that point</p>
</li>
<li>
<p>Compute recall by elementwise dividing TP-FP-sum array by the number of
ground truth segments for the class</p>
</li>
<li>
<p>Ensure that precision is a non-increasing array</p>
</li>
<li>
<p>(Unlike COCO) DO NOT interpolate precision values onto an 101 evenly spaced
recall values. In FiftyOne, this step is performed anyway with the results
stored separately for the purpose of plotting PR curves. It is not factored
into mAP calculation</p>
</li>
<li>
<p>For every class that contains at least one ground truth segment, compute
the average precision (AP) by averaging the precision values over all 10
IoU thresholds. Then compute mAP by averaging the per-class AP values over
all classes</p>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.path", "navigation.indexes", "navigation.top", {"icon": {"repo": "fontawesome/brands/github"}}, "content.action.edit"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>