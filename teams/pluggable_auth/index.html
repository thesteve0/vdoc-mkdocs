
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../_static/images/icons/voxel51-166px.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Pluggable Authentication ¶ - Voxel51 Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../_static/css/voxel51-docs.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#pluggable-authentication" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Voxel51 Documentation" class="md-header__button md-logo" aria-label="Voxel51 Documentation" data-md-component="logo">
      
  <img src="../../_static/images/voxel51-logo-white-300.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Voxel51 Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Pluggable Authentication ¶
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/thesteve0/vdoc-mkdocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Voxel51 Documentation" class="md-nav__button md-logo" aria-label="Voxel51 Documentation" data-md-component="logo">
      
  <img src="../../_static/images/voxel51-logo-white-300.png" alt="logo">

    </a>
    Voxel51 Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/thesteve0/vdoc-mkdocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/basic/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Basics
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/virtualenv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtualenvs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/datasets_samples_fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datasets, Samples, and Fields
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/application_tour/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tour of the Application
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/viz_embeddings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Visualizing Embeddings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/subset_sample/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Subsetting and Sample Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/zero_shot_label/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zero Shot Classification for Labeling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/edit_fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating and Editing Fields and Labels
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/fine_tuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Fine-Tuning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/model_eval/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/next_steps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's Next
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/basic/troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting_started/focused_getting_starteds/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Focused Getting Starteds
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Focused Getting Starteds
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting_started/focused_getting_starteds/medical_imaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Medical Imaging
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../fiftyone_concepts/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    FiftyOne Concepts
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            FiftyOne Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/running_environments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Environments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../fiftyone_concepts/dataset_creation/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Loading Data into FiftyOne
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Loading Data into FiftyOne
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/dataset_creation/datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Datasets from Disk
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/dataset_creation/samples/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Sample Parsers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/using_datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/using_views/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset Views
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/groups/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grouped Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/app/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using the App
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/annotation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotating Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluating Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/using_aggregations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Aggregations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/plots/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interactive Plots
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/export_datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exporting Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/draw_labels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drawing Labels on Samples
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/config/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring FiftyOne
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fiftyone_concepts/brain/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Machine Learning (FiftyOne Brain)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../how_do_i/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    How Do I
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            How Do I
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_do_i/cheat_sheets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cheat Sheets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how_do_i/recipes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recipes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../data/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Data
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../data/dataset_zoo/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Zoo Datasets
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Zoo Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dataset_zoo/datasets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-In Zoo Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dataset_zoo/remote/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remotely-Sourced Zoo Datasets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/dataset_zoo/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zoo Data API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/hugging_face_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hugging Face Datasets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Models
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../models/model_zoo/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Zoo Models
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Zoo Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-in Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/remote/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Remote Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Model Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../models/model_zoo/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/hugging_face_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hugging Face Datasets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../plugins/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Plugins
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/using_plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Plugins
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/developing_plugins/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing Plugins
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../integrations/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Integrations
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Integrations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../references/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    References
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_10" id="__nav_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            References
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FiftyOne Teams
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../release-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Releases
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../faq/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_14" id="__nav_14_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            FAQ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fiftyone-authentication-modes" class="md-nav__link">
    <span class="md-ellipsis">
      FiftyOne Authentication Modes ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FiftyOne Authentication Modes ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#legacy-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Legacy Mode ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internal-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Internal Mode ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#super-admin-ui" class="md-nav__link">
    <span class="md-ellipsis">
      Super Admin UI ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Super Admin UI ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-user-invitations" class="md-nav__link">
    <span class="md-ellipsis">
      New User Invitations ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#identity-providers-idp" class="md-nav__link">
    <span class="md-ellipsis">
      Identity Providers (IdP) ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started-with-internal-mode" class="md-nav__link">
    <span class="md-ellipsis">
      Getting Started with Internal Mode ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syncing-with-3rd-party-directories-open-directory-ldap-and-active-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Syncing with 3rd Party Directories (Open Directory, LDAP, and Active Directory) ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Syncing with 3rd Party Directories (Open Directory, LDAP, and Active Directory) ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#context-object" class="md-nav__link">
    <span class="md-ellipsis">
      Context Object ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-api-integration" class="md-nav__link">
    <span class="md-ellipsis">
      External API Integration ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rest-api" class="md-nav__link">
    <span class="md-ellipsis">
      REST API ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration ¶
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#javascript-hooks" class="md-nav__link">
    <span class="md-ellipsis">
      JavaScript Hooks ¶
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JavaScript Hooks ¶">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-javascript-hook" class="md-nav__link">
    <span class="md-ellipsis">
      Example JavaScript Hook ¶
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actionable-triggers" class="md-nav__link">
    <span class="md-ellipsis">
      Actionable Triggers ¶
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/thesteve0/vdoc-mkdocs/blob/main/docs/teams/pluggable_auth.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="pluggable-authentication">Pluggable Authentication <a href="#pluggable-authentication" title="Permalink to this headline">¶</a><a class="headerlink" href="#pluggable-authentication" title="Permanent link">&para;</a></h1>
<p>FiftyOne Teams v1.6.0 introduces Pluggable Authentication that provides the
Central Authentication Service (CAS). CAS is a self-contained authentication
system with two modes ( <code>legacy</code> and <code>internal</code>). Legacy mode uses Auth0.
Internal mode eliminates the Auth0 external dependency and may run in
environments without egress to the internet. CAS provides a UI, REST API, and
JavaScript (JS) Hook mechanism to manage FiftyOne Teams user data and
authentication.</p>
<h2 id="fiftyone-authentication-modes">FiftyOne Authentication Modes <a href="#fiftyone-authentication-modes" title="Permalink to this headline">¶</a><a class="headerlink" href="#fiftyone-authentication-modes" title="Permanent link">&para;</a></h2>
<p>The setting <code>FIFTYONE_AUTH_MODE</code> specifies the authentication mode <code>legacy</code> or
<code>internal</code>.</p>
<h3 id="legacy-mode">Legacy Mode <a href="#legacy-mode" title="Permalink to this headline">¶</a><a class="headerlink" href="#legacy-mode" title="Permanent link">&para;</a></h3>
<p>In legacy mode, FiftyOne Teams uses Auth0 for user authentication and
authorization. This mode requires an external connection to Auth0 endpoints.
User data is eventually consistent (where changes are reflected across
FiftyOneTeams eventually). Auth0 contains the configuration for identity
providers and the persistence of user data. Auth0 supports multiple providers
(including SAML). For the supported IdPs, see
<a href="https://auth0.com/docs/authenticate/identity-providers/enterprise-identity-providers">Auth0 Enterprise Identity Providers</a>.</p>
<h3 id="internal-mode">Internal Mode <a href="#internal-mode" title="Permalink to this headline">¶</a><a class="headerlink" href="#internal-mode" title="Permanent link">&para;</a></h3>
<p>In internal mode, FiftyOne Teams the CAS replaces Auth0. FiftyOne Teams will
not require network egress to external services. User data is immediately
consistent (where changes are reflected across FiftyOne Teams instantly).
Directory data is immediately written to MongoDB, and organizations have the
autonomy to manage their Identity Provider Configuration. Internal mode
supports
<a href="https://openid.net/developers/discover-openid-and-openid-connect/">OpenID Connect (OIDC)</a>
and <a href="https://oauth.net/2/">OAuth2</a>.</p>
<blockquote>
<p><strong>NOTE</strong>: SAML is not supported in <a href="#internal-mode">internal mode</a></p>
</blockquote>
<h2 id="super-admin-ui">Super Admin UI <a href="#super-admin-ui" title="Permalink to this headline">¶</a><a class="headerlink" href="#super-admin-ui" title="Permanent link">&para;</a></h2>
<p><img alt="Super Admin UI" src="../../_images/cas_api_docs.png" /></p>
<p>The Super Admin UI contains FiftyOne Teams deployment wide configurations. When
logging into FiftyOne Teams as an admin, you are in the context of an
organization. Settings are scoped by organization and only apply to that
organization. The Super Admin UI allows you to administer all organizations and
global configurations (Identity Providers, Session timeouts, and JS hooks).</p>
<blockquote>
<p><strong>NOTE</strong>: In v1.6.0, the Super Admin UI is only available in
<a href="#internal-mode">internal mode</a></p>
</blockquote>
<p><img alt="Sign In to CAS" src="../../_images/cas_sign_in.png" /></p>
<p>To login to this application navigate to
<code>https://&lt;YOUR_FIFTYONE_TEAMS_URL&gt;/cas/configurations</code>. In the top right of the
screen, and provide the <code>FIFTYONE_AUTH_SECRET</code> to login.</p>
<blockquote>
<p><strong>NOTE</strong>: The value of <code>FIFTYONE_AUTH_SECRET</code> should be set prior to
installation or upgrade.</p>
</blockquote>
<h3 id="new-user-invitations">New User Invitations <a href="#new-user-invitations" title="Permalink to this headline">¶</a><a class="headerlink" href="#new-user-invitations" title="Permanent link">&para;</a></h3>
<p>As of FiftyOne Teams 2.1.0, onboarding new users can be done via invitation
links. To do so, “Enable invitation” must be toggled on in the Organizations
section of the <a href="#super-admin-ui">Super Admin UI</a>.</p>
<p><img alt="Enable Invitations" src="../../_images/org_enable_invitations.png" /></p>
<p>This allows creating invitation links in <a href="#internal-mode">internal mode</a> that
can be manually sent to users. When those users click the links, they will be
added to the Organization and prompted to log in.</p>
<p>As of FiftyOne Teams 2.2.0, these invitation links can be automatically sent
via an email through a configured SMTP server. This provides similar
functionality to <a href="#legacy-mode">legacy mode</a> email invitations, but without the
need for Auth0 or any other external connections beyond the SMTP server itself.</p>
<blockquote>
<p><strong>NOTE:</strong> Unless the deployment is a Managed Deployment, users must provide
their own SMTP server to use in <a href="#internal-mode">internal mode</a>. This new
functionality provides a way to authenticate and communicate with your
existing mail server.</p>
</blockquote>
<p>To do so, “Send email invitations” must be toggled on in the Organizations
section of the <a href="#super-admin-ui">Super Admin UI</a></p>
<p><img alt="Send email invitations" src="../../_images/org_send_email_invitations.png" /></p>
<p>To configure your SMTP connection, navigate to the SMTP section of the
<a href="#super-admin-ui">Super Admin UI</a></p>
<p><img alt="SMTP Config" src="../../_images/SMTP_config.png" /></p>
<p>A notification at the top of the menu will inform if an SMTP configuration is
already saved. Currently, only one SMTP configuration can be saved per
Organization.</p>
<p>Select the appropriate type of authentication for your SMTP server and fill out
the associated fields. When you save the configuration, FiftyOne Teams will do
a preliminary check to ensure that the SMTP server is reachable at the host
provided. The configuration will not save otherwise.</p>
<p>Additionally, users can enter a valid email address and click Send Test Email
to test the connection.</p>
<p><img alt="SMTP Config test email" src="../../_images/SMTP_config_test_email.png" /></p>
<blockquote>
<p><strong>NOTE:</strong> Emails and an SMTP connection are not required to use invitations.
Invitation links can still be generated and manually distributed without an
SMTP configuration.</p>
</blockquote>
<h2 id="identity-providers-idp">Identity Providers (IdP) <a href="#identity-providers-idp" title="Permalink to this headline">¶</a><a class="headerlink" href="#identity-providers-idp" title="Permanent link">&para;</a></h2>
<p>In <a href="#internal-mode">internal mode</a>, use the CAS REST API or Super Admin UI to
configure FiftyOne teams to authenticate users via OIDC or OAuth2 compatible
Identity Providers. Below is an example configuration for KeyCloak as an
Identity Provider.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><span class="p">{</span>
</span><span id="__span-0-2">    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;keycloak-example&quot;</span><span class="p">,</span>
</span><span id="__span-0-3">    <span class="s2">&quot;wellKnown&quot;</span><span class="p">:</span> <span class="s2">&quot;https://keycloak.dev.acme.ai/auth/realms/acme/.well-known/openid-configuration&quot;</span><span class="p">,</span>
</span><span id="__span-0-4">    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;KeyCloak&quot;</span><span class="p">,</span>
</span><span id="__span-0-5">    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;oauth&quot;</span><span class="p">,</span>
</span><span id="__span-0-6">    <span class="s2">&quot;authorization&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-7">        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://keycloak.acme.ai/auth/realms/acme/protocol/openid-connect/auth&quot;</span><span class="p">,</span>
</span><span id="__span-0-8">        <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-9">            <span class="s2">&quot;scope&quot;</span><span class="p">:</span> <span class="s2">&quot;openid email profile&quot;</span>
</span><span id="__span-0-10">        <span class="p">}</span>
</span><span id="__span-0-11">    <span class="p">},</span>
</span><span id="__span-0-12">    <span class="s2">&quot;clientId&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
</span><span id="__span-0-13">    <span class="s2">&quot;clientSecret&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
</span><span id="__span-0-14">    <span class="s2">&quot;issuer&quot;</span><span class="p">:</span> <span class="s2">&quot;https://keycloak.dev.acme.ai/auth/realms/acme&quot;</span><span class="p">,</span>
</span><span id="__span-0-15">    <span class="s2">&quot;token&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-16">        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://keycloak.dev.acme.ai/auth/realms/acme/protocol/openid-connect/token&quot;</span>
</span><span id="__span-0-17">    <span class="p">},</span>
</span><span id="__span-0-18">    <span class="s2">&quot;userinfo&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-19">        <span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://keycloak.dev.acme.ai/auth/realms/acme/protocol/openid-connect/userinfo&quot;</span>
</span><span id="__span-0-20">    <span class="p">},</span>
</span><span id="__span-0-21">    <span class="s2">&quot;idToken&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
</span><span id="__span-0-22">    <span class="s2">&quot;style&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-0-23">        <span class="s2">&quot;logoDark&quot;</span><span class="p">:</span> <span class="s2">&quot;https://images.com/keycloak.svg&quot;</span><span class="p">,</span>
</span><span id="__span-0-24">        <span class="s2">&quot;bg&quot;</span><span class="p">:</span> <span class="s2">&quot;#47abc6&quot;</span><span class="p">,</span>
</span><span id="__span-0-25">        <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;#fff&quot;</span>
</span><span id="__span-0-26">    <span class="p">},</span>
</span><span id="__span-0-27">    <span class="s2">&quot;profile&quot;</span><span class="p">:</span> <span class="s2">&quot;(e,l)=&gt;(console.log({profile:e,tokens:l}),{id:e.sub,name:e.name,email:e.email,image:null})&quot;</span><span class="p">,</span>
</span><span id="__span-0-28">    <span class="s2">&quot;allowDangerousEmailAccountLinking&quot;</span><span class="p">:</span> <span class="n">true</span>
</span><span id="__span-0-29"><span class="p">}</span>
</span></code></pre></div>
<h2 id="getting-started-with-internal-mode">Getting Started with Internal Mode <a href="#getting-started-with-internal-mode" title="Permalink to this headline">¶</a><a class="headerlink" href="#getting-started-with-internal-mode" title="Permanent link">&para;</a></h2>
<p>These steps are only required to run FiftyOne Teams in
<a href="#internal-mode">internal mode</a>. Please skip when using Auth0 in
<a href="#legacy-mode">legacy mode</a>.</p>
<ol>
<li>
<p>Configure your Identity Provider</p>
</li>
<li>
<p>Login to the SuperUser UI by navigating to
<code>https://&lt;YOUR_FIFTYONE_TEAMS_URL&gt;/cas/configurations</code> and in the top right,
and provide the <code>FIFTYONE_AUTH_SECRET</code> to login.</p>
</li>
<li>
<p>Create an Admin</p>
</li>
<li>
<p>Click on the “Admins” tab</p>
</li>
<li>
<p>Click “Add admin” in the bottom left</p>
</li>
<li>
<p>Set the name and email address (as it appears in your Identity Provider)
      and click “Add”</p>
</li>
<li>
<p>Add your Identity Provider</p>
</li>
<li>
<p>Click on the “Identity Providers” tab at the top of the screen and click
      “Add provider”</p>
</li>
<li>
<p>Fill out the “Add identity provider”</p>
<ol>
<li>You can also click “Switch to advanced editor” to provide the full
     configuration as a JSON object</li>
<li>In the “Profile callback” field, set the mapping that your Identity
  Provider expects</li>
<li>Login with the admin user</li>
</ol>
</li>
<li>
<p>Navigate to <code>https://&lt;YOUR_FIFTYONE_TEAMS_URL&gt;/datasets</code></p>
</li>
<li>
<p>You should see the login screen for your newly configured authentication
      provider</p>
</li>
<li>
<p>Before logging in, set the admin user (in step 5). Otherwise, you will
      need to remove this user from the database and try again.</p>
</li>
<li>
<p>Click the login button and provide the credentials of the Admin user
      (set in step 3)</p>
</li>
<li>
<p>Click on the icon in the top right corner then click “Settings”</p>
</li>
<li>
<p>Click “Users” on the left side</p>
</li>
<li>
<p>Validate the user is listed as an admin</p>
</li>
</ol>
<h2 id="syncing-with-3rd-party-directories-open-directory-ldap-and-active-directory">Syncing with 3rd Party Directories (Open Directory, LDAP, and Active Directory) <a href="#syncing-with-3rd-party-directories-open-directory-ldap-and-active-directory" title="Permalink to this headline">¶</a><a class="headerlink" href="#syncing-with-3rd-party-directories-open-directory-ldap-and-active-directory" title="Permanent link">&para;</a></h2>
<p>Below is an example of how to use JavaScript hooks to sync FiftyOne Teams with
a corporate directory (such as Open Directory, LDAP, or Active Directory) via
an intermediary REST API or Identity Provider. The recommended setup is with
OAuth/OIDC claims, however the example below illustrates a more intricate
integration.</p>
<p>This example specifically addresses a scenario in which additional actions are
performed during the <code>signIn</code> trigger. This demonstrates how hooks can extend
beyond simple authentication to interact with external APIs and internal
services for complex user management and group assignment tasks. Here’s a
breakdown of the example:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><span class="o">//</span> <span class="n">Example</span> <span class="n">JavaScript</span> <span class="n">hook</span> <span class="n">implementation</span>
</span><span id="__span-1-2"><span class="k">async</span> <span class="n">function</span> <span class="n">Hook</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-1-3">    <span class="n">const</span> <span class="p">{</span> <span class="n">params</span><span class="p">,</span> <span class="n">services</span><span class="p">,</span> <span class="n">trigger</span> <span class="p">}</span> <span class="o">=</span> <span class="n">context</span><span class="p">;</span>
</span><span id="__span-1-4">    <span class="n">const</span> <span class="p">{</span> <span class="n">user</span> <span class="p">}</span> <span class="o">=</span> <span class="n">params</span><span class="p">;</span>
</span><span id="__span-1-5">
</span><span id="__span-1-6">    <span class="n">switch</span> <span class="p">(</span><span class="n">trigger</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-1-7">        <span class="o">//</span> <span class="n">Callback</span><span class="p">:</span> <span class="n">user</span> <span class="ow">is</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">sign</span> <span class="ow">in</span>
</span><span id="__span-1-8">        <span class="k">case</span> <span class="s2">&quot;signIn&quot;</span><span class="p">:</span>
</span><span id="__span-1-9">            <span class="o">//</span> <span class="n">returning</span> <span class="n">false</span> <span class="n">will</span> <span class="n">prevent</span> <span class="n">user</span> <span class="kn">from</span><span class="w"> </span><span class="nn">signing</span> <span class="ow">in</span>
</span><span id="__span-1-10">            <span class="k">try</span> <span class="p">{</span>
</span><span id="__span-1-11">                <span class="n">const</span> <span class="n">groups</span> <span class="o">=</span> <span class="k">await</span> <span class="n">getGroups</span><span class="p">();</span>
</span><span id="__span-1-12">                <span class="k">for</span> <span class="p">(</span><span class="n">const</span> <span class="n">group</span> <span class="n">of</span> <span class="n">groups</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-1-13">                    <span class="k">await</span> <span class="n">addUserToGroup</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">name</span><span class="p">);</span>
</span><span id="__span-1-14">                <span class="p">}</span>
</span><span id="__span-1-15">            <span class="p">}</span> <span class="n">catch</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-1-16">                <span class="n">console</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">error</span><span class="p">);</span>
</span><span id="__span-1-17">            <span class="p">}</span>
</span><span id="__span-1-18">            <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
</span><span id="__span-1-19">    <span class="p">}</span>
</span><span id="__span-1-20">
</span><span id="__span-1-21">    <span class="k">async</span> <span class="n">function</span> <span class="n">getGroups</span><span class="p">()</span> <span class="p">{</span>
</span><span id="__span-1-22">        <span class="n">const</span> <span class="p">{</span> <span class="n">account</span> <span class="p">}</span> <span class="o">=</span> <span class="n">params</span><span class="p">;</span>
</span><span id="__span-1-23">        <span class="n">const</span> <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">services</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">http</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
</span><span id="__span-1-24">            <span class="err">`</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">fiftyone</span><span class="o">.</span><span class="n">ai</span><span class="o">/</span><span class="n">list_groups</span><span class="o">/</span><span class="err">$</span><span class="p">{</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">}</span><span class="err">`</span><span class="p">,</span>
</span><span id="__span-1-25">            <span class="p">{</span> <span class="n">headers</span><span class="p">:</span> <span class="p">{</span> <span class="n">Authorization</span><span class="p">:</span> <span class="err">`</span><span class="n">Bearer</span> <span class="err">$</span><span class="p">{</span><span class="n">account</span><span class="err">?</span><span class="o">.</span><span class="n">access_token</span><span class="p">}</span><span class="err">`</span> <span class="p">}</span> <span class="p">}</span>
</span><span id="__span-1-26">        <span class="p">);</span>
</span><span id="__span-1-27">        <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">();</span>
</span><span id="__span-1-28">    <span class="p">}</span>
</span><span id="__span-1-29">
</span><span id="__span-1-30">    <span class="k">async</span> <span class="n">function</span> <span class="n">addUserToGroup</span><span class="p">(</span><span class="n">groupName</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-1-31">        <span class="n">const</span> <span class="n">orgId</span> <span class="o">=</span> <span class="s2">&quot;my_org_id&quot;</span><span class="p">;</span>
</span><span id="__span-1-32">        <span class="o">//</span> <span class="n">Retrieve</span> <span class="nb">all</span> <span class="n">existing</span> <span class="n">groups</span>
</span><span id="__span-1-33">        <span class="n">const</span> <span class="n">groups</span> <span class="o">=</span> <span class="k">await</span> <span class="n">services</span><span class="o">.</span><span class="n">directory</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">listGroups</span><span class="p">(</span><span class="n">orgId</span><span class="p">);</span>
</span><span id="__span-1-34">        <span class="o">//</span> <span class="n">Find</span> <span class="n">an</span> <span class="n">existing</span> <span class="n">group</span> <span class="n">by</span> <span class="n">name</span>
</span><span id="__span-1-35">        <span class="n">let</span> <span class="n">group</span> <span class="o">=</span> <span class="n">groups</span><span class="o">.</span><span class="n">find</span><span class="p">((</span><span class="n">group</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span id="__span-1-36">            <span class="k">return</span> <span class="n">group</span><span class="o">.</span><span class="n">name</span> <span class="o">===</span> <span class="n">groupName</span><span class="p">;</span>
</span><span id="__span-1-37">        <span class="p">});</span>
</span><span id="__span-1-38">        <span class="o">//</span> <span class="n">If</span> <span class="n">group</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">exist</span><span class="p">,</span> <span class="n">create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">group</span>
</span><span id="__span-1-39">        <span class="k">if</span> <span class="p">(</span><span class="err">!</span><span class="n">group</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-1-40">            <span class="n">group</span> <span class="o">=</span> <span class="k">await</span> <span class="n">services</span><span class="o">.</span><span class="n">directory</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">createGroup</span><span class="p">(</span>
</span><span id="__span-1-41">                <span class="n">orgId</span><span class="p">,</span>
</span><span id="__span-1-42">                <span class="n">groupName</span>
</span><span id="__span-1-43">            <span class="p">);</span>
</span><span id="__span-1-44">        <span class="p">}</span>
</span><span id="__span-1-45">
</span><span id="__span-1-46">        <span class="k">if</span> <span class="p">(</span><span class="err">!</span><span class="n">group</span><span class="o">.</span><span class="n">userIds</span><span class="o">.</span><span class="n">includes</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">))</span> <span class="p">{</span>
</span><span id="__span-1-47">            <span class="o">//</span> <span class="n">Add</span> <span class="n">signed</span><span class="o">-</span><span class="ow">in</span> <span class="n">user</span> <span class="n">to</span> <span class="n">the</span> <span class="n">group</span> <span class="ow">and</span> <span class="n">update</span> <span class="n">the</span> <span class="n">group</span>
</span><span id="__span-1-48">            <span class="n">const</span> <span class="n">updatedGroupName</span> <span class="o">=</span> <span class="n">undefined</span><span class="p">;</span>
</span><span id="__span-1-49">            <span class="n">const</span> <span class="n">updatedGroupDescription</span> <span class="o">=</span> <span class="n">undefined</span><span class="p">;</span>
</span><span id="__span-1-50">            <span class="n">const</span> <span class="n">updatedGroupUserIds</span> <span class="o">=</span> <span class="p">[</span><span class="o">...</span><span class="n">group</span><span class="o">.</span><span class="n">userIds</span><span class="p">,</span> <span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">];</span>
</span><span id="__span-1-51">            <span class="n">const</span> <span class="n">accessorId</span> <span class="o">=</span> <span class="n">undefined</span><span class="p">;</span>
</span><span id="__span-1-52">            <span class="k">await</span> <span class="n">services</span><span class="o">.</span><span class="n">directory</span><span class="o">.</span><span class="n">groups</span><span class="o">.</span><span class="n">updateGroup</span><span class="p">(</span>
</span><span id="__span-1-53">                <span class="n">orgId</span><span class="p">,</span>
</span><span id="__span-1-54">                <span class="n">group</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
</span><span id="__span-1-55">                <span class="n">accessorId</span><span class="p">,</span>
</span><span id="__span-1-56">                <span class="n">updatedGroupName</span><span class="p">,</span>
</span><span id="__span-1-57">                <span class="n">updatedGroupDescription</span><span class="p">,</span>
</span><span id="__span-1-58">                <span class="n">updatedGroupUserIds</span>
</span><span id="__span-1-59">            <span class="p">);</span>
</span><span id="__span-1-60">        <span class="p">}</span>
</span><span id="__span-1-61">    <span class="p">}</span>
</span><span id="__span-1-62"><span class="p">}</span>
</span></code></pre></div>
<h3 id="context-object"><strong>Context Object</strong> <a href="#context-object" title="Permalink to this headline">¶</a><a class="headerlink" href="#context-object" title="Permanent link">&para;</a></h3>
<p>The context object provides information about the current operation, including
parameters like the user’s details, and services (services) that offer utility
functions and access to directory operations.</p>
<h3 id="external-api-integration"><strong>External API Integration</strong> <a href="#external-api-integration" title="Permalink to this headline">¶</a><a class="headerlink" href="#external-api-integration" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><code>getGroups</code>: This function calls an external API to retrieve a list of
groups to which the signing-in user should be added. It utilizes the
<code>services.util.http.get</code> method for making the HTTP request, demonstrating
how external services can be queried within the hook.</p>
</li>
<li>
<p><code>addUserToGroup</code>: For each group retrieved from the external API, this
function checks if the group exists in the organization’s directory. If a
group does not exist, it is created, and then the user is added to it. This
process involves querying and modifying the organization’s group directory,
illustrating the hook’s capability to perform complex operations like
dynamic group management based on external data.</p>
</li>
</ul>
<h3 id="error-handling">Error Handling <a href="#error-handling" title="Permalink to this headline">¶</a><a class="headerlink" href="#error-handling" title="Permanent link">&para;</a></h3>
<ul>
<li>The try-catch block around the external API call and group manipulation
logic ensures that errors do not prevent the user from signing in but are
properly logged</li>
</ul>
<h3 id="summary">Summary <a href="#summary" title="Permalink to this headline">¶</a><a class="headerlink" href="#summary" title="Permanent link">&para;</a></h3>
<p>This hook example demonstrates a pattern for extending authentication flows in
CAS with custom logic. By integrating with an external API to fetch group
information and manipulating the organization’s group memberships accordingly,
it showcases the flexibility and extensibility of hooks in supporting complex,
real-world authentication and authorization scenarios.</p>
<h2 id="rest-api">REST API <a href="#rest-api" title="Permalink to this headline">¶</a><a class="headerlink" href="#rest-api" title="Permanent link">&para;</a></h2>
<p>You can view the REST API Documentation by logging into the Super Admin UI (see
above) or by directly visiting <code>https://&lt;YOUR_FIFTYONE_TEAMS_URL&gt;/cas/api-doc</code></p>
<h2 id="configuration">Configuration <a href="#configuration" title="Permalink to this headline">¶</a><a class="headerlink" href="#configuration" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Setting</strong></td>
<td>Type</td>
<td>Default</td>
<td>Description</td>
</tr>
<tr>
<td><code>authentication_providers</code></td>
<td><code>Array</code></td>
<td><code>[]</code></td>
<td>A list of definitions of OIDC and/or OAuth providers.</td>
</tr>
<tr>
<td><code>authentication_provider.profile</code></td>
<td><code>String</code> (parseable to JS function)</td>
<td><code>null</code></td>
<td>When provided this function is called to map the external user_info to the internal fiftyone user/account.</td>
</tr>
<tr>
<td><code>session_ttl</code></td>
<td><code>Number</code></td>
<td><code>300</code></td>
<td>Time in seconds for sessions to live after which users will be forced to log out. Must be greater than 120 seconds to support refreshing of user session using refresh token.</td>
</tr>
<tr>
<td><code>js_hook_enabled</code></td>
<td><code>Boolean</code></td>
<td><code>true</code></td>
<td>When set to False, configured JavaScript hooks will not be invoked.</td>
</tr>
<tr>
<td><code>js_hook</code></td>
<td><code>String</code> (parseable to a single JS function)</td>
<td><code>null</code></td>
<td>JavaScript hook which is invoked on several CAS events described in JS Hooks section below</td>
</tr>
<tr>
<td><code>skipSignInPage</code></td>
<td><code>Boolean</code></td>
<td><code>false</code></td>
<td>When set to True, sign in page with identity provider choices will be skipped when there is only one identity provider is configured</td>
</tr>
</tbody>
</table>
<h2 id="javascript-hooks">JavaScript Hooks <a href="#javascript-hooks" title="Permalink to this headline">¶</a><a class="headerlink" href="#javascript-hooks" title="Permanent link">&para;</a></h2>
<p>This documentation outlines the JavaScript hook implementation for the Central
Authentication Service (CAS). As a CAS superuser, you are able to define
JavaScript functions that integrate with various authentication flows within
CAS, customizing the authentication processes.</p>
<h3 id="overview">Overview <a href="#overview" title="Permalink to this headline">¶</a><a class="headerlink" href="#overview" title="Permanent link">&para;</a></h3>
<p>JavaScript hooks allow superusers to programmatically influence authentication
flows, including sign-in, sign-up, JWT handling and customization, redirection,
and session management. This document describes the available hooks, their
triggers, expected return types, and contextual information provided to each
hook.</p>
<h3 id="example-javascript-hook">Example JavaScript Hook <a href="#example-javascript-hook" title="Permalink to this headline">¶</a><a class="headerlink" href="#example-javascript-hook" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><span class="o">//</span> <span class="n">Example</span> <span class="n">JavaScript</span> <span class="n">hook</span> <span class="n">implementation</span>
</span><span id="__span-2-2"><span class="k">async</span> <span class="n">function</span> <span class="n">Hook</span><span class="p">(</span><span class="n">context</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-2-3">    <span class="n">const</span> <span class="p">{</span> <span class="n">params</span><span class="p">,</span> <span class="n">services</span><span class="p">,</span> <span class="n">trigger</span> <span class="p">}</span> <span class="o">=</span> <span class="n">context</span><span class="p">;</span>
</span><span id="__span-2-4">
</span><span id="__span-2-5">    <span class="n">switch</span> <span class="p">(</span><span class="n">trigger</span><span class="p">)</span> <span class="p">{</span>
</span><span id="__span-2-6">        <span class="o">//</span> <span class="n">user</span> <span class="ow">is</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">sign</span> <span class="ow">in</span>
</span><span id="__span-2-7">        <span class="k">case</span> <span class="s2">&quot;signIn&quot;</span><span class="p">:</span>
</span><span id="__span-2-8">            <span class="o">//</span> <span class="n">returning</span> <span class="n">false</span> <span class="n">will</span> <span class="n">prevent</span> <span class="n">user</span> <span class="kn">from</span><span class="w"> </span><span class="nn">signing</span> <span class="ow">in</span>
</span><span id="__span-2-9">            <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
</span><span id="__span-2-10">
</span><span id="__span-2-11">        <span class="o">//</span> <span class="n">JWT</span> <span class="n">token</span> <span class="ow">is</span> <span class="n">created</span> <span class="k">for</span> <span class="n">user</span> <span class="n">session</span>
</span><span id="__span-2-12">        <span class="k">case</span> <span class="s2">&quot;jwt&quot;</span><span class="p">:</span>
</span><span id="__span-2-13">            <span class="o">//</span> <span class="n">custom</span> <span class="n">payload</span> <span class="n">returned</span> <span class="n">will</span> <span class="n">be</span> <span class="n">merged</span> <span class="k">with</span> <span class="n">default</span> <span class="n">payload</span>
</span><span id="__span-2-14">            <span class="k">return</span> <span class="p">{};</span>
</span><span id="__span-2-15">
</span><span id="__span-2-16">        <span class="o">//</span> <span class="n">user</span> <span class="n">has</span> <span class="n">logged</span> <span class="n">out</span>
</span><span id="__span-2-17">        <span class="k">case</span> <span class="s2">&quot;logout&quot;</span><span class="p">:</span>
</span><span id="__span-2-18">            <span class="o">//</span> <span class="n">returning</span> <span class="ow">or</span> <span class="n">throwing</span> <span class="n">here</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">affect</span> <span class="n">the</span> <span class="n">sign</span> <span class="n">out</span> <span class="n">flow</span>
</span><span id="__span-2-19">            <span class="k">break</span><span class="p">;</span>
</span><span id="__span-2-20">
</span><span id="__span-2-21">        <span class="o">//</span> <span class="n">user</span> <span class="ow">is</span> <span class="n">being</span> <span class="n">redirected</span> <span class="n">on</span> <span class="n">sign</span> <span class="ow">in</span> <span class="n">our</span> <span class="n">sign</span> <span class="n">out</span>
</span><span id="__span-2-22">        <span class="k">case</span> <span class="s2">&quot;redirect&quot;</span><span class="p">:</span>
</span><span id="__span-2-23">            <span class="o">//</span> <span class="n">user</span> <span class="n">will</span> <span class="n">be</span> <span class="n">redirected</span> <span class="n">to</span> <span class="n">this</span> <span class="n">URL</span> <span class="n">on</span> <span class="n">sign</span> <span class="ow">in</span> <span class="n">our</span> <span class="n">sign</span> <span class="n">out</span>
</span><span id="__span-2-24">            <span class="k">return</span> <span class="s2">&quot;/settings/accounts&quot;</span><span class="p">;</span>
</span><span id="__span-2-25">    <span class="p">}</span>
</span><span id="__span-2-26"><span class="p">}</span>
</span></code></pre></div>
<h3 id="actionable-triggers">Actionable Triggers <a href="#actionable-triggers" title="Permalink to this headline">¶</a><a class="headerlink" href="#actionable-triggers" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Trigger</strong></td>
<td><strong>Description</strong></td>
<td><strong>Return Type</strong></td>
</tr>
<tr>
<td><code>signIn</code></td>
<td>Invoked when a user signs in. If the hook returns false or error is thrown, sign-in will be prevented.</td>
<td>Boolean</td>
</tr>
<tr>
<td><code>signUp</code></td>
<td>Invoked when a new user signs in for the very first time. If the hook returns false or an error is thrown, sign-in will be prevented and a user/account will not be created.</td>
<td></td>
</tr>
<tr>
<td><code>jwt</code></td>
<td>Invoked when JWT is created (on signIn, signUp, refresh token). The returned object will override payload of default JWT payload. If an error is thrown, the session will be expired and user will be redirected to sign-in</td>
<td>Object | undefined</td>
</tr>
<tr>
<td><code>redirect</code></td>
<td>Invoked post signIn or signOut. The user will be redirected to the URL/Path returned from the hook.</td>
<td>String (URL)</td>
</tr>
<tr>
<td><code>session</code></td>
<td>Invoked when a request for a session (on signIn, signUp, refresh token) is received.</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Event-Only Triggers</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Trigger</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><code>signOut</code></td>
<td>Invoked when a user signs out.</td>
</tr>
<tr>
<td><code>createUser</code></td>
<td>Invoked when the adapter is asked to create a user.</td>
</tr>
<tr>
<td><code>linkAccount</code></td>
<td>Invoked when an account is linked to a user.</td>
</tr>
</tbody>
</table>
<p><strong>JavaScript Hooks Contextual Parameters</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Parameter</strong></td>
<td><strong>Description</strong></td>
<td><strong>Available in Triggers</strong></td>
</tr>
<tr>
<td><code>token</code></td>
<td>The payload of a JWT token.</td>
<td><code>signIn, signUp, jwt, session, signOut, linkAccount, createUser</code></td>
</tr>
<tr>
<td><code>user</code></td>
<td>The signed-in user object.</td>
<td><code>signIn, signUp, jwt, linkAccount</code></td>
</tr>
<tr>
<td><code>account</code></td>
<td>The account from an identity provider.</td>
<td><code>signIn, signUp, jwt, linkAccount</code></td>
</tr>
<tr>
<td><code>profile</code></td>
<td>The profile from an identity provider.</td>
<td><code>signIn, signUp, jwt, linkAccount</code></td>
</tr>
<tr>
<td><code>isNewUser</code></td>
<td>True if a user is signing in for the first time.</td>
<td><code>jwt</code></td>
</tr>
<tr>
<td><code>trigger</code></td>
<td>Specifies the current trigger event.</td>
<td><code>jwt</code></td>
</tr>
<tr>
<td><code>Session</code></td>
<td>The session object.</td>
<td><code>session</code></td>
</tr>
<tr>
<td><code>services</code></td>
<td>Provides access to various services.</td>
<td><strong>all</strong></td>
</tr>
</tbody>
</table>
<p><strong>Services</strong></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Service</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td><code>services.util.http</code></td>
<td>Provides <code>get</code>, <code>post</code>, <code>put</code>, and <code>delete</code> functions for making <code>HTTP</code> requests from a JS Hook.</td>
</tr>
<tr>
<td><code>services.userContext</code></td>
<td>Object containing information about the user performing the current action.</td>
</tr>
<tr>
<td><code>services.directory</code></td>
<td></td>
</tr>
<tr>
<td><code>services.directory.users</code></td>
<td>The <code>UserService</code> - providing methods for interacting with the directory of users.</td>
</tr>
<tr>
<td><code>services.directory.groups</code></td>
<td>The <code>GroupsService</code>- providing methods for interacting with the directory of groups.</td>
</tr>
<tr>
<td><code>services.config</code></td>
<td>The <code>ConfigService</code>- providing methods for reading and writing the <code>AuthenticationConfig</code>.</td>
</tr>
<tr>
<td><code>services.util</code></td>
<td></td>
</tr>
<tr>
<td><code>services.directory.orgs</code></td>
<td>The <code>OrgsService</code>- providing methods for interacting with the directory of organizations.</td>
</tr>
<tr>
<td><code>services.webhookService</code></td>
<td>Experimental</td>
</tr>
<tr>
<td><code>process.env['MY_ENV_VAR']</code></td>
<td>Syntax for reading environment variables in a JS Hook.</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.path", "navigation.indexes", "navigation.top", {"icon": {"repo": "fontawesome/brands/github"}}, "content.action.edit"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>